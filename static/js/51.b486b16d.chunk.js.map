{"version":3,"file":"static/js/51.b486b16d.chunk.js","mappings":"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K,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,IAAK,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,EAAG,GAAI,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,IAAK,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,GAAI,GAAI,IAAK,GAAI,IAAK,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,KAAM,GAAI,EAAG,GAAI,EAAG,IAAK,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,EAAG,IAAK,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,KAAM,GAAI,MAAO,GAAI,KAAM,GAAI,GAAI,EAAG,IAAK,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,EAAG,GAAI,EAAG,EAAG,IAAK,EAAG,EAAG,IAAK,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,GAAI,EAAG,IAAK,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,MAAO,GAAI,GAAI,EAAG,GAAI,KAAM,IAAK,EAAG,GAAI,EAAG,IAAK,GAAI,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAA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","sources":["../node_modules/ace-builds/src-noconflict/ext-language_tools.js","../node_modules/ace-builds/src-noconflict/theme-github.js","../node_modules/diff-match-patch/index.js","../node_modules/lodash.get/index.js","../node_modules/lodash.isequal/index.js","../node_modules/react-ace/src/ace.tsx","../node_modules/react-ace/src/diff.tsx","../node_modules/react-ace/src/editorOptions.ts","../node_modules/react-ace/src/index.ts","../node_modules/react-ace/src/split.tsx","../node_modules/react-ace/node_modules/ace-builds/src-noconflict/ace.js","../node_modules/react-ace/node_modules/ace-builds/src-noconflict/ext-split.js","../node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js","../node_modules/@babel/runtime/helpers/esm/superPropBase.js","../node_modules/@babel/runtime/helpers/esm/get.js","../node_modules/d3-array/src/max.js","../node_modules/d3-array/src/range.js","../node_modules/d3-array/src/map.js","../node_modules/d3-axis/src/identity.js","../node_modules/d3-axis/src/axis.js","../node_modules/d3-dispatch/src/dispatch.js","../node_modules/d3-selection/src/selector.js","../node_modules/d3-selection/src/array.js","../node_modules/d3-selection/src/selectorAll.js","../node_modules/d3-selection/src/matcher.js","../node_modules/d3-selection/src/selection/selectChild.js","../node_modules/d3-selection/src/selection/selectChildren.js","../node_modules/d3-selection/src/selection/sparse.js","../node_modules/d3-selection/src/selection/enter.js","../node_modules/d3-selection/src/constant.js","../node_modules/d3-selection/src/selection/data.js","../node_modules/d3-selection/src/selection/sort.js","../node_modules/d3-selection/src/namespaces.js","../node_modules/d3-selection/src/namespace.js","../node_modules/d3-selection/src/selection/attr.js","../node_modules/d3-selection/src/window.js","../node_modules/d3-selection/src/selection/style.js","../node_modules/d3-selection/src/selection/property.js","../node_modules/d3-selection/src/selection/classed.js","../node_modules/d3-selection/src/selection/text.js","../node_modules/d3-selection/src/selection/html.js","../node_modules/d3-selection/src/selection/raise.js","../node_modules/d3-selection/src/selection/lower.js","../node_modules/d3-selection/src/creator.js","../node_modules/d3-selection/src/selection/insert.js","../node_modules/d3-selection/src/selection/remove.js","../node_modules/d3-selection/src/selection/clone.js","../node_modules/d3-selection/src/selection/on.js","../node_modules/d3-selection/src/selection/dispatch.js","../node_modules/d3-selection/src/selection/iterator.js","../node_modules/d3-selection/src/selection/index.js","../node_modules/d3-selection/src/selection/select.js","../node_modules/d3-selection/src/selection/selectAll.js","../node_modules/d3-selection/src/selection/filter.js","../node_modules/d3-selection/src/selection/exit.js","../node_modules/d3-selection/src/selection/join.js","../node_modules/d3-selection/src/selection/merge.js","../node_modules/d3-selection/src/selection/order.js","../node_modules/d3-selection/src/selection/call.js","../node_modules/d3-selection/src/selection/nodes.js","../node_modules/d3-selection/src/selection/node.js","../node_modules/d3-selection/src/selection/size.js","../node_modules/d3-selection/src/selection/empty.js","../node_modules/d3-selection/src/selection/each.js","../node_modules/d3-selection/src/selection/append.js","../node_modules/d3-selection/src/selection/datum.js","../node_modules/d3-selection/src/select.js","../node_modules/d3-drag/src/noevent.js","../node_modules/d3-drag/src/nodrag.js","../node_modules/d3-color/src/define.js","../node_modules/d3-color/src/color.js","../node_modules/d3-interpolate/src/basis.js","../node_modules/d3-interpolate/src/constant.js","../node_modules/d3-interpolate/src/color.js","../node_modules/d3-interpolate/src/rgb.js","../node_modules/d3-interpolate/src/basisClosed.js","../node_modules/d3-interpolate/src/array.js","../node_modules/d3-interpolate/src/date.js","../node_modules/d3-interpolate/src/number.js","../node_modules/d3-interpolate/src/object.js","../node_modules/d3-interpolate/src/string.js","../node_modules/d3-interpolate/src/numberArray.js","../node_modules/d3-interpolate/src/value.js","../node_modules/d3-selection/src/pointer.js","../node_modules/d3-selection/src/sourceEvent.js","../node_modules/d3-timer/src/timer.js","../node_modules/d3-timer/src/timeout.js","../node_modules/d3-transition/src/transition/schedule.js","../node_modules/d3-transition/src/interrupt.js","../node_modules/d3-interpolate/src/transform/decompose.js","../node_modules/d3-interpolate/src/transform/parse.js","../node_modules/d3-interpolate/src/transform/index.js","../node_modules/d3-transition/src/transition/tween.js","../node_modules/d3-transition/src/transition/interpolate.js","../node_modules/d3-transition/src/transition/attr.js","../node_modules/d3-transition/src/transition/attrTween.js","../node_modules/d3-transition/src/transition/delay.js","../node_modules/d3-transition/src/transition/duration.js","../node_modules/d3-transition/src/transition/ease.js","../node_modules/d3-transition/src/transition/on.js","../node_modules/d3-transition/src/transition/selection.js","../node_modules/d3-transition/src/transition/style.js","../node_modules/d3-transition/src/transition/styleTween.js","../node_modules/d3-transition/src/transition/textTween.js","../node_modules/d3-transition/src/transition/index.js","../node_modules/d3-transition/src/transition/select.js","../node_modules/d3-transition/src/transition/selectAll.js","../node_modules/d3-transition/src/transition/filter.js","../node_modules/d3-transition/src/transition/merge.js","../node_modules/d3-transition/src/transition/transition.js","../node_modules/d3-transition/src/transition/text.js","../node_modules/d3-transition/src/transition/remove.js","../node_modules/d3-transition/src/transition/easeVarying.js","../node_modules/d3-transition/src/transition/end.js","../node_modules/d3-transition/src/selection/transition.js","../node_modules/d3-ease/src/cubic.js","../node_modules/d3-transition/src/selection/index.js","../node_modules/d3-transition/src/selection/interrupt.js","../node_modules/d3-brush/src/constant.js","../node_modules/d3-brush/src/event.js","../node_modules/d3-brush/src/noevent.js","../node_modules/d3-brush/src/brush.js","../node_modules/d3-path/src/path.js","../node_modules/d3-scale/src/init.js","../node_modules/@babel/runtime/helpers/esm/construct.js","../node_modules/@babel/runtime/helpers/esm/wrapNativeSuper.js","../node_modules/@babel/runtime/helpers/esm/isNativeFunction.js","../node_modules/internmap/src/index.js","../node_modules/d3-scale/src/ordinal.js","../node_modules/d3-scale/src/band.js","../node_modules/d3-array/src/ticks.js","../node_modules/d3-array/src/ascending.js","../node_modules/d3-array/src/descending.js","../node_modules/d3-array/src/bisector.js","../node_modules/d3-array/src/bisect.js","../node_modules/d3-array/src/number.js","../node_modules/d3-interpolate/src/round.js","../node_modules/d3-scale/src/number.js","../node_modules/d3-scale/src/continuous.js","../node_modules/d3-scale/src/constant.js","../node_modules/d3-format/src/formatSpecifier.js","../node_modules/d3-format/src/formatPrefixAuto.js","../node_modules/d3-format/src/formatDecimal.js","../node_modules/d3-format/src/exponent.js","../node_modules/d3-format/src/formatRounded.js","../node_modules/d3-format/src/formatTypes.js","../node_modules/d3-format/src/identity.js","../node_modules/d3-format/src/locale.js","../node_modules/d3-format/src/defaultLocale.js","../node_modules/d3-format/src/formatGroup.js","../node_modules/d3-format/src/formatNumerals.js","../node_modules/d3-format/src/formatTrim.js","../node_modules/d3-scale/src/tickFormat.js","../node_modules/d3-format/src/precisionPrefix.js","../node_modules/d3-format/src/precisionRound.js","../node_modules/d3-format/src/precisionFixed.js","../node_modules/d3-scale/src/linear.js","../node_modules/d3-selection/src/selectAll.js","../node_modules/d3-shape/src/constant.js","../node_modules/d3-shape/src/math.js","../node_modules/d3-shape/src/arc.js","../node_modules/d3-shape/src/array.js","../node_modules/d3-shape/src/curve/linear.js","../node_modules/d3-shape/src/point.js","../node_modules/d3-shape/src/line.js","../node_modules/d3-interpolate/src/zoom.js","../node_modules/d3-zoom/src/constant.js","../node_modules/d3-zoom/src/event.js","../node_modules/d3-zoom/src/transform.js","../node_modules/d3-zoom/src/noevent.js","../node_modules/d3-zoom/src/zoom.js"],"sourcesContent":["ace.define(\"ace/snippets\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\",\"ace/lib/oop\",\"ace/lib/event_emitter\",\"ace/lib/lang\",\"ace/range\",\"ace/range_list\",\"ace/keyboard/hash_handler\",\"ace/tokenizer\",\"ace/clipboard\",\"ace/editor\"], function(require, exports, module){\"use strict\";\nvar dom = require(\"./lib/dom\");\nvar oop = require(\"./lib/oop\");\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar lang = require(\"./lib/lang\");\nvar Range = require(\"./range\").Range;\nvar RangeList = require(\"./range_list\").RangeList;\nvar HashHandler = require(\"./keyboard/hash_handler\").HashHandler;\nvar Tokenizer = require(\"./tokenizer\").Tokenizer;\nvar clipboard = require(\"./clipboard\");\nvar VARIABLES = {\n    CURRENT_WORD: function (editor) {\n        return editor.session.getTextRange(editor.session.getWordRange());\n    },\n    SELECTION: function (editor, name, indentation) {\n        var text = editor.session.getTextRange();\n        if (indentation)\n            return text.replace(/\\n\\r?([ \\t]*\\S)/g, \"\\n\" + indentation + \"$1\");\n        return text;\n    },\n    CURRENT_LINE: function (editor) {\n        return editor.session.getLine(editor.getCursorPosition().row);\n    },\n    PREV_LINE: function (editor) {\n        return editor.session.getLine(editor.getCursorPosition().row - 1);\n    },\n    LINE_INDEX: function (editor) {\n        return editor.getCursorPosition().row;\n    },\n    LINE_NUMBER: function (editor) {\n        return editor.getCursorPosition().row + 1;\n    },\n    SOFT_TABS: function (editor) {\n        return editor.session.getUseSoftTabs() ? \"YES\" : \"NO\";\n    },\n    TAB_SIZE: function (editor) {\n        return editor.session.getTabSize();\n    },\n    CLIPBOARD: function (editor) {\n        return clipboard.getText && clipboard.getText();\n    },\n    FILENAME: function (editor) {\n        return /[^/\\\\]*$/.exec(this.FILEPATH(editor))[0];\n    },\n    FILENAME_BASE: function (editor) {\n        return /[^/\\\\]*$/.exec(this.FILEPATH(editor))[0].replace(/\\.[^.]*$/, \"\");\n    },\n    DIRECTORY: function (editor) {\n        return this.FILEPATH(editor).replace(/[^/\\\\]*$/, \"\");\n    },\n    FILEPATH: function (editor) { return \"/not implemented.txt\"; },\n    WORKSPACE_NAME: function () { return \"Unknown\"; },\n    FULLNAME: function () { return \"Unknown\"; },\n    BLOCK_COMMENT_START: function (editor) {\n        var mode = editor.session.$mode || {};\n        return mode.blockComment && mode.blockComment.start || \"\";\n    },\n    BLOCK_COMMENT_END: function (editor) {\n        var mode = editor.session.$mode || {};\n        return mode.blockComment && mode.blockComment.end || \"\";\n    },\n    LINE_COMMENT: function (editor) {\n        var mode = editor.session.$mode || {};\n        return mode.lineCommentStart || \"\";\n    },\n    CURRENT_YEAR: date.bind(null, { year: \"numeric\" }),\n    CURRENT_YEAR_SHORT: date.bind(null, { year: \"2-digit\" }),\n    CURRENT_MONTH: date.bind(null, { month: \"numeric\" }),\n    CURRENT_MONTH_NAME: date.bind(null, { month: \"long\" }),\n    CURRENT_MONTH_NAME_SHORT: date.bind(null, { month: \"short\" }),\n    CURRENT_DATE: date.bind(null, { day: \"2-digit\" }),\n    CURRENT_DAY_NAME: date.bind(null, { weekday: \"long\" }),\n    CURRENT_DAY_NAME_SHORT: date.bind(null, { weekday: \"short\" }),\n    CURRENT_HOUR: date.bind(null, { hour: \"2-digit\", hour12: false }),\n    CURRENT_MINUTE: date.bind(null, { minute: \"2-digit\" }),\n    CURRENT_SECOND: date.bind(null, { second: \"2-digit\" })\n};\nVARIABLES.SELECTED_TEXT = VARIABLES.SELECTION;\nfunction date(dateFormat) {\n    var str = new Date().toLocaleString(\"en-us\", dateFormat);\n    return str.length == 1 ? \"0\" + str : str;\n}\nvar SnippetManager = function () {\n    this.snippetMap = {};\n    this.snippetNameMap = {};\n};\n(function () {\n    oop.implement(this, EventEmitter);\n    this.getTokenizer = function () {\n        return SnippetManager.$tokenizer || this.createTokenizer();\n    };\n    this.createTokenizer = function () {\n        function TabstopToken(str) {\n            str = str.substr(1);\n            if (/^\\d+$/.test(str))\n                return [{ tabstopId: parseInt(str, 10) }];\n            return [{ text: str }];\n        }\n        function escape(ch) {\n            return \"(?:[^\\\\\\\\\" + ch + \"]|\\\\\\\\.)\";\n        }\n        var formatMatcher = {\n            regex: \"/(\" + escape(\"/\") + \"+)/\",\n            onMatch: function (val, state, stack) {\n                var ts = stack[0];\n                ts.fmtString = true;\n                ts.guard = val.slice(1, -1);\n                ts.flag = \"\";\n                return \"\";\n            },\n            next: \"formatString\"\n        };\n        SnippetManager.$tokenizer = new Tokenizer({\n            start: [\n                { regex: /\\\\./, onMatch: function (val, state, stack) {\n                        var ch = val[1];\n                        if (ch == \"}\" && stack.length) {\n                            val = ch;\n                        }\n                        else if (\"`$\\\\\".indexOf(ch) != -1) {\n                            val = ch;\n                        }\n                        return [val];\n                    } },\n                { regex: /}/, onMatch: function (val, state, stack) {\n                        return [stack.length ? stack.shift() : val];\n                    } },\n                { regex: /\\$(?:\\d+|\\w+)/, onMatch: TabstopToken },\n                { regex: /\\$\\{[\\dA-Z_a-z]+/, onMatch: function (str, state, stack) {\n                        var t = TabstopToken(str.substr(1));\n                        stack.unshift(t[0]);\n                        return t;\n                    }, next: \"snippetVar\" },\n                { regex: /\\n/, token: \"newline\", merge: false }\n            ],\n            snippetVar: [\n                { regex: \"\\\\|\" + escape(\"\\\\|\") + \"*\\\\|\", onMatch: function (val, state, stack) {\n                        var choices = val.slice(1, -1).replace(/\\\\[,|\\\\]|,/g, function (operator) {\n                            return operator.length == 2 ? operator[1] : \"\\x00\";\n                        }).split(\"\\x00\").map(function (value) {\n                            return { value: value };\n                        });\n                        stack[0].choices = choices;\n                        return [choices[0]];\n                    }, next: \"start\" },\n                formatMatcher,\n                { regex: \"([^:}\\\\\\\\]|\\\\\\\\.)*:?\", token: \"\", next: \"start\" }\n            ],\n            formatString: [\n                { regex: /:/, onMatch: function (val, state, stack) {\n                        if (stack.length && stack[0].expectElse) {\n                            stack[0].expectElse = false;\n                            stack[0].ifEnd = { elseEnd: stack[0] };\n                            return [stack[0].ifEnd];\n                        }\n                        return \":\";\n                    } },\n                { regex: /\\\\./, onMatch: function (val, state, stack) {\n                        var ch = val[1];\n                        if (ch == \"}\" && stack.length)\n                            val = ch;\n                        else if (\"`$\\\\\".indexOf(ch) != -1)\n                            val = ch;\n                        else if (ch == \"n\")\n                            val = \"\\n\";\n                        else if (ch == \"t\")\n                            val = \"\\t\";\n                        else if (\"ulULE\".indexOf(ch) != -1)\n                            val = { changeCase: ch, local: ch > \"a\" };\n                        return [val];\n                    } },\n                { regex: \"/\\\\w*}\", onMatch: function (val, state, stack) {\n                        var next = stack.shift();\n                        if (next)\n                            next.flag = val.slice(1, -1);\n                        this.next = next && next.tabstopId ? \"start\" : \"\";\n                        return [next || val];\n                    }, next: \"start\" },\n                { regex: /\\$(?:\\d+|\\w+)/, onMatch: function (val, state, stack) {\n                        return [{ text: val.slice(1) }];\n                    } },\n                { regex: /\\${\\w+/, onMatch: function (val, state, stack) {\n                        var token = { text: val.slice(2) };\n                        stack.unshift(token);\n                        return [token];\n                    }, next: \"formatStringVar\" },\n                { regex: /\\n/, token: \"newline\", merge: false },\n                { regex: /}/, onMatch: function (val, state, stack) {\n                        var next = stack.shift();\n                        this.next = next && next.tabstopId ? \"start\" : \"\";\n                        return [next || val];\n                    }, next: \"start\" }\n            ],\n            formatStringVar: [\n                { regex: /:\\/\\w+}/, onMatch: function (val, state, stack) {\n                        var ts = stack[0];\n                        ts.formatFunction = val.slice(2, -1);\n                        return [stack.shift()];\n                    }, next: \"formatString\" },\n                formatMatcher,\n                { regex: /:[\\?\\-+]?/, onMatch: function (val, state, stack) {\n                        if (val[1] == \"+\")\n                            stack[0].ifEnd = stack[0];\n                        if (val[1] == \"?\")\n                            stack[0].expectElse = true;\n                    }, next: \"formatString\" },\n                { regex: \"([^:}\\\\\\\\]|\\\\\\\\.)*:?\", token: \"\", next: \"formatString\" }\n            ]\n        });\n        return SnippetManager.$tokenizer;\n    };\n    this.tokenizeTmSnippet = function (str, startState) {\n        return this.getTokenizer().getLineTokens(str, startState).tokens.map(function (x) {\n            return x.value || x;\n        });\n    };\n    this.getVariableValue = function (editor, name, indentation) {\n        if (/^\\d+$/.test(name))\n            return (this.variables.__ || {})[name] || \"\";\n        if (/^[A-Z]\\d+$/.test(name))\n            return (this.variables[name[0] + \"__\"] || {})[name.substr(1)] || \"\";\n        name = name.replace(/^TM_/, \"\");\n        if (!this.variables.hasOwnProperty(name))\n            return \"\";\n        var value = this.variables[name];\n        if (typeof value == \"function\")\n            value = this.variables[name](editor, name, indentation);\n        return value == null ? \"\" : value;\n    };\n    this.variables = VARIABLES;\n    this.tmStrFormat = function (str, ch, editor) {\n        if (!ch.fmt)\n            return str;\n        var flag = ch.flag || \"\";\n        var re = ch.guard;\n        re = new RegExp(re, flag.replace(/[^gim]/g, \"\"));\n        var fmtTokens = typeof ch.fmt == \"string\" ? this.tokenizeTmSnippet(ch.fmt, \"formatString\") : ch.fmt;\n        var _self = this;\n        var formatted = str.replace(re, function () {\n            var oldArgs = _self.variables.__;\n            _self.variables.__ = [].slice.call(arguments);\n            var fmtParts = _self.resolveVariables(fmtTokens, editor);\n            var gChangeCase = \"E\";\n            for (var i = 0; i < fmtParts.length; i++) {\n                var ch = fmtParts[i];\n                if (typeof ch == \"object\") {\n                    fmtParts[i] = \"\";\n                    if (ch.changeCase && ch.local) {\n                        var next = fmtParts[i + 1];\n                        if (next && typeof next == \"string\") {\n                            if (ch.changeCase == \"u\")\n                                fmtParts[i] = next[0].toUpperCase();\n                            else\n                                fmtParts[i] = next[0].toLowerCase();\n                            fmtParts[i + 1] = next.substr(1);\n                        }\n                    }\n                    else if (ch.changeCase) {\n                        gChangeCase = ch.changeCase;\n                    }\n                }\n                else if (gChangeCase == \"U\") {\n                    fmtParts[i] = ch.toUpperCase();\n                }\n                else if (gChangeCase == \"L\") {\n                    fmtParts[i] = ch.toLowerCase();\n                }\n            }\n            _self.variables.__ = oldArgs;\n            return fmtParts.join(\"\");\n        });\n        return formatted;\n    };\n    this.tmFormatFunction = function (str, ch, editor) {\n        if (ch.formatFunction == \"upcase\")\n            return str.toUpperCase();\n        if (ch.formatFunction == \"downcase\")\n            return str.toLowerCase();\n        return str;\n    };\n    this.resolveVariables = function (snippet, editor) {\n        var result = [];\n        var indentation = \"\";\n        var afterNewLine = true;\n        for (var i = 0; i < snippet.length; i++) {\n            var ch = snippet[i];\n            if (typeof ch == \"string\") {\n                result.push(ch);\n                if (ch == \"\\n\") {\n                    afterNewLine = true;\n                    indentation = \"\";\n                }\n                else if (afterNewLine) {\n                    indentation = /^\\t*/.exec(ch)[0];\n                    afterNewLine = /\\S/.test(ch);\n                }\n                continue;\n            }\n            if (!ch)\n                continue;\n            afterNewLine = false;\n            if (ch.fmtString) {\n                var j = snippet.indexOf(ch, i + 1);\n                if (j == -1)\n                    j = snippet.length;\n                ch.fmt = snippet.slice(i + 1, j);\n                i = j;\n            }\n            if (ch.text) {\n                var value = this.getVariableValue(editor, ch.text, indentation) + \"\";\n                if (ch.fmtString)\n                    value = this.tmStrFormat(value, ch, editor);\n                if (ch.formatFunction)\n                    value = this.tmFormatFunction(value, ch, editor);\n                if (value && !ch.ifEnd) {\n                    result.push(value);\n                    gotoNext(ch);\n                }\n                else if (!value && ch.ifEnd) {\n                    gotoNext(ch.ifEnd);\n                }\n            }\n            else if (ch.elseEnd) {\n                gotoNext(ch.elseEnd);\n            }\n            else if (ch.tabstopId != null) {\n                result.push(ch);\n            }\n            else if (ch.changeCase != null) {\n                result.push(ch);\n            }\n        }\n        function gotoNext(ch) {\n            var i1 = snippet.indexOf(ch, i + 1);\n            if (i1 != -1)\n                i = i1;\n        }\n        return result;\n    };\n    this.insertSnippetForSelection = function (editor, snippetText) {\n        var cursor = editor.getCursorPosition();\n        var line = editor.session.getLine(cursor.row);\n        var tabString = editor.session.getTabString();\n        var indentString = line.match(/^\\s*/)[0];\n        if (cursor.column < indentString.length)\n            indentString = indentString.slice(0, cursor.column);\n        snippetText = snippetText.replace(/\\r/g, \"\");\n        var tokens = this.tokenizeTmSnippet(snippetText);\n        tokens = this.resolveVariables(tokens, editor);\n        tokens = tokens.map(function (x) {\n            if (x == \"\\n\")\n                return x + indentString;\n            if (typeof x == \"string\")\n                return x.replace(/\\t/g, tabString);\n            return x;\n        });\n        var tabstops = [];\n        tokens.forEach(function (p, i) {\n            if (typeof p != \"object\")\n                return;\n            var id = p.tabstopId;\n            var ts = tabstops[id];\n            if (!ts) {\n                ts = tabstops[id] = [];\n                ts.index = id;\n                ts.value = \"\";\n                ts.parents = {};\n            }\n            if (ts.indexOf(p) !== -1)\n                return;\n            if (p.choices && !ts.choices)\n                ts.choices = p.choices;\n            ts.push(p);\n            var i1 = tokens.indexOf(p, i + 1);\n            if (i1 === -1)\n                return;\n            var value = tokens.slice(i + 1, i1);\n            var isNested = value.some(function (t) { return typeof t === \"object\"; });\n            if (isNested && !ts.value) {\n                ts.value = value;\n            }\n            else if (value.length && (!ts.value || typeof ts.value !== \"string\")) {\n                ts.value = value.join(\"\");\n            }\n        });\n        tabstops.forEach(function (ts) { ts.length = 0; });\n        var expanding = {};\n        function copyValue(val) {\n            var copy = [];\n            for (var i = 0; i < val.length; i++) {\n                var p = val[i];\n                if (typeof p == \"object\") {\n                    if (expanding[p.tabstopId])\n                        continue;\n                    var j = val.lastIndexOf(p, i - 1);\n                    p = copy[j] || { tabstopId: p.tabstopId };\n                }\n                copy[i] = p;\n            }\n            return copy;\n        }\n        for (var i = 0; i < tokens.length; i++) {\n            var p = tokens[i];\n            if (typeof p != \"object\")\n                continue;\n            var id = p.tabstopId;\n            var ts = tabstops[id];\n            var i1 = tokens.indexOf(p, i + 1);\n            if (expanding[id]) {\n                if (expanding[id] === p) {\n                    delete expanding[id];\n                    Object.keys(expanding).forEach(function (parentId) {\n                        ts.parents[parentId] = true;\n                    });\n                }\n                continue;\n            }\n            expanding[id] = p;\n            var value = ts.value;\n            if (typeof value !== \"string\")\n                value = copyValue(value);\n            else if (p.fmt)\n                value = this.tmStrFormat(value, p, editor);\n            tokens.splice.apply(tokens, [i + 1, Math.max(0, i1 - i)].concat(value, p));\n            if (ts.indexOf(p) === -1)\n                ts.push(p);\n        }\n        var row = 0, column = 0;\n        var text = \"\";\n        tokens.forEach(function (t) {\n            if (typeof t === \"string\") {\n                var lines = t.split(\"\\n\");\n                if (lines.length > 1) {\n                    column = lines[lines.length - 1].length;\n                    row += lines.length - 1;\n                }\n                else\n                    column += t.length;\n                text += t;\n            }\n            else if (t) {\n                if (!t.start)\n                    t.start = { row: row, column: column };\n                else\n                    t.end = { row: row, column: column };\n            }\n        });\n        var range = editor.getSelectionRange();\n        var end = editor.session.replace(range, text);\n        var tabstopManager = new TabstopManager(editor);\n        var selectionId = editor.inVirtualSelectionMode && editor.selection.index;\n        tabstopManager.addTabstops(tabstops, range.start, end, selectionId);\n    };\n    this.insertSnippet = function (editor, snippetText) {\n        var self = this;\n        if (editor.inVirtualSelectionMode)\n            return self.insertSnippetForSelection(editor, snippetText);\n        editor.forEachSelection(function () {\n            self.insertSnippetForSelection(editor, snippetText);\n        }, null, { keepOrder: true });\n        if (editor.tabstopManager)\n            editor.tabstopManager.tabNext();\n    };\n    this.$getScope = function (editor) {\n        var scope = editor.session.$mode.$id || \"\";\n        scope = scope.split(\"/\").pop();\n        if (scope === \"html\" || scope === \"php\") {\n            if (scope === \"php\" && !editor.session.$mode.inlinePhp)\n                scope = \"html\";\n            var c = editor.getCursorPosition();\n            var state = editor.session.getState(c.row);\n            if (typeof state === \"object\") {\n                state = state[0];\n            }\n            if (state.substring) {\n                if (state.substring(0, 3) == \"js-\")\n                    scope = \"javascript\";\n                else if (state.substring(0, 4) == \"css-\")\n                    scope = \"css\";\n                else if (state.substring(0, 4) == \"php-\")\n                    scope = \"php\";\n            }\n        }\n        return scope;\n    };\n    this.getActiveScopes = function (editor) {\n        var scope = this.$getScope(editor);\n        var scopes = [scope];\n        var snippetMap = this.snippetMap;\n        if (snippetMap[scope] && snippetMap[scope].includeScopes) {\n            scopes.push.apply(scopes, snippetMap[scope].includeScopes);\n        }\n        scopes.push(\"_\");\n        return scopes;\n    };\n    this.expandWithTab = function (editor, options) {\n        var self = this;\n        var result = editor.forEachSelection(function () {\n            return self.expandSnippetForSelection(editor, options);\n        }, null, { keepOrder: true });\n        if (result && editor.tabstopManager)\n            editor.tabstopManager.tabNext();\n        return result;\n    };\n    this.expandSnippetForSelection = function (editor, options) {\n        var cursor = editor.getCursorPosition();\n        var line = editor.session.getLine(cursor.row);\n        var before = line.substring(0, cursor.column);\n        var after = line.substr(cursor.column);\n        var snippetMap = this.snippetMap;\n        var snippet;\n        this.getActiveScopes(editor).some(function (scope) {\n            var snippets = snippetMap[scope];\n            if (snippets)\n                snippet = this.findMatchingSnippet(snippets, before, after);\n            return !!snippet;\n        }, this);\n        if (!snippet)\n            return false;\n        if (options && options.dryRun)\n            return true;\n        editor.session.doc.removeInLine(cursor.row, cursor.column - snippet.replaceBefore.length, cursor.column + snippet.replaceAfter.length);\n        this.variables.M__ = snippet.matchBefore;\n        this.variables.T__ = snippet.matchAfter;\n        this.insertSnippetForSelection(editor, snippet.content);\n        this.variables.M__ = this.variables.T__ = null;\n        return true;\n    };\n    this.findMatchingSnippet = function (snippetList, before, after) {\n        for (var i = snippetList.length; i--;) {\n            var s = snippetList[i];\n            if (s.startRe && !s.startRe.test(before))\n                continue;\n            if (s.endRe && !s.endRe.test(after))\n                continue;\n            if (!s.startRe && !s.endRe)\n                continue;\n            s.matchBefore = s.startRe ? s.startRe.exec(before) : [\"\"];\n            s.matchAfter = s.endRe ? s.endRe.exec(after) : [\"\"];\n            s.replaceBefore = s.triggerRe ? s.triggerRe.exec(before)[0] : \"\";\n            s.replaceAfter = s.endTriggerRe ? s.endTriggerRe.exec(after)[0] : \"\";\n            return s;\n        }\n    };\n    this.snippetMap = {};\n    this.snippetNameMap = {};\n    this.register = function (snippets, scope) {\n        var snippetMap = this.snippetMap;\n        var snippetNameMap = this.snippetNameMap;\n        var self = this;\n        if (!snippets)\n            snippets = [];\n        function wrapRegexp(src) {\n            if (src && !/^\\^?\\(.*\\)\\$?$|^\\\\b$/.test(src))\n                src = \"(?:\" + src + \")\";\n            return src || \"\";\n        }\n        function guardedRegexp(re, guard, opening) {\n            re = wrapRegexp(re);\n            guard = wrapRegexp(guard);\n            if (opening) {\n                re = guard + re;\n                if (re && re[re.length - 1] != \"$\")\n                    re = re + \"$\";\n            }\n            else {\n                re = re + guard;\n                if (re && re[0] != \"^\")\n                    re = \"^\" + re;\n            }\n            return new RegExp(re);\n        }\n        function addSnippet(s) {\n            if (!s.scope)\n                s.scope = scope || \"_\";\n            scope = s.scope;\n            if (!snippetMap[scope]) {\n                snippetMap[scope] = [];\n                snippetNameMap[scope] = {};\n            }\n            var map = snippetNameMap[scope];\n            if (s.name) {\n                var old = map[s.name];\n                if (old)\n                    self.unregister(old);\n                map[s.name] = s;\n            }\n            snippetMap[scope].push(s);\n            if (s.prefix)\n                s.tabTrigger = s.prefix;\n            if (!s.content && s.body)\n                s.content = Array.isArray(s.body) ? s.body.join(\"\\n\") : s.body;\n            if (s.tabTrigger && !s.trigger) {\n                if (!s.guard && /^\\w/.test(s.tabTrigger))\n                    s.guard = \"\\\\b\";\n                s.trigger = lang.escapeRegExp(s.tabTrigger);\n            }\n            if (!s.trigger && !s.guard && !s.endTrigger && !s.endGuard)\n                return;\n            s.startRe = guardedRegexp(s.trigger, s.guard, true);\n            s.triggerRe = new RegExp(s.trigger);\n            s.endRe = guardedRegexp(s.endTrigger, s.endGuard, true);\n            s.endTriggerRe = new RegExp(s.endTrigger);\n        }\n        if (Array.isArray(snippets)) {\n            snippets.forEach(addSnippet);\n        }\n        else {\n            Object.keys(snippets).forEach(function (key) {\n                addSnippet(snippets[key]);\n            });\n        }\n        this._signal(\"registerSnippets\", { scope: scope });\n    };\n    this.unregister = function (snippets, scope) {\n        var snippetMap = this.snippetMap;\n        var snippetNameMap = this.snippetNameMap;\n        function removeSnippet(s) {\n            var nameMap = snippetNameMap[s.scope || scope];\n            if (nameMap && nameMap[s.name]) {\n                delete nameMap[s.name];\n                var map = snippetMap[s.scope || scope];\n                var i = map && map.indexOf(s);\n                if (i >= 0)\n                    map.splice(i, 1);\n            }\n        }\n        if (snippets.content)\n            removeSnippet(snippets);\n        else if (Array.isArray(snippets))\n            snippets.forEach(removeSnippet);\n    };\n    this.parseSnippetFile = function (str) {\n        str = str.replace(/\\r/g, \"\");\n        var list = [], snippet = {};\n        var re = /^#.*|^({[\\s\\S]*})\\s*$|^(\\S+) (.*)$|^((?:\\n*\\t.*)+)/gm;\n        var m;\n        while (m = re.exec(str)) {\n            if (m[1]) {\n                try {\n                    snippet = JSON.parse(m[1]);\n                    list.push(snippet);\n                }\n                catch (e) { }\n            }\n            if (m[4]) {\n                snippet.content = m[4].replace(/^\\t/gm, \"\");\n                list.push(snippet);\n                snippet = {};\n            }\n            else {\n                var key = m[2], val = m[3];\n                if (key == \"regex\") {\n                    var guardRe = /\\/((?:[^\\/\\\\]|\\\\.)*)|$/g;\n                    snippet.guard = guardRe.exec(val)[1];\n                    snippet.trigger = guardRe.exec(val)[1];\n                    snippet.endTrigger = guardRe.exec(val)[1];\n                    snippet.endGuard = guardRe.exec(val)[1];\n                }\n                else if (key == \"snippet\") {\n                    snippet.tabTrigger = val.match(/^\\S*/)[0];\n                    if (!snippet.name)\n                        snippet.name = val;\n                }\n                else if (key) {\n                    snippet[key] = val;\n                }\n            }\n        }\n        return list;\n    };\n    this.getSnippetByName = function (name, editor) {\n        var snippetMap = this.snippetNameMap;\n        var snippet;\n        this.getActiveScopes(editor).some(function (scope) {\n            var snippets = snippetMap[scope];\n            if (snippets)\n                snippet = snippets[name];\n            return !!snippet;\n        }, this);\n        return snippet;\n    };\n}).call(SnippetManager.prototype);\nvar TabstopManager = function (editor) {\n    if (editor.tabstopManager)\n        return editor.tabstopManager;\n    editor.tabstopManager = this;\n    this.$onChange = this.onChange.bind(this);\n    this.$onChangeSelection = lang.delayedCall(this.onChangeSelection.bind(this)).schedule;\n    this.$onChangeSession = this.onChangeSession.bind(this);\n    this.$onAfterExec = this.onAfterExec.bind(this);\n    this.attach(editor);\n};\n(function () {\n    this.attach = function (editor) {\n        this.index = 0;\n        this.ranges = [];\n        this.tabstops = [];\n        this.$openTabstops = null;\n        this.selectedTabstop = null;\n        this.editor = editor;\n        this.editor.on(\"change\", this.$onChange);\n        this.editor.on(\"changeSelection\", this.$onChangeSelection);\n        this.editor.on(\"changeSession\", this.$onChangeSession);\n        this.editor.commands.on(\"afterExec\", this.$onAfterExec);\n        this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler);\n    };\n    this.detach = function () {\n        this.tabstops.forEach(this.removeTabstopMarkers, this);\n        this.ranges = null;\n        this.tabstops = null;\n        this.selectedTabstop = null;\n        this.editor.removeListener(\"change\", this.$onChange);\n        this.editor.removeListener(\"changeSelection\", this.$onChangeSelection);\n        this.editor.removeListener(\"changeSession\", this.$onChangeSession);\n        this.editor.commands.removeListener(\"afterExec\", this.$onAfterExec);\n        this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler);\n        this.editor.tabstopManager = null;\n        this.editor = null;\n    };\n    this.onChange = function (delta) {\n        var isRemove = delta.action[0] == \"r\";\n        var selectedTabstop = this.selectedTabstop || {};\n        var parents = selectedTabstop.parents || {};\n        var tabstops = (this.tabstops || []).slice();\n        for (var i = 0; i < tabstops.length; i++) {\n            var ts = tabstops[i];\n            var active = ts == selectedTabstop || parents[ts.index];\n            ts.rangeList.$bias = active ? 0 : 1;\n            if (delta.action == \"remove\" && ts !== selectedTabstop) {\n                var parentActive = ts.parents && ts.parents[selectedTabstop.index];\n                var startIndex = ts.rangeList.pointIndex(delta.start, parentActive);\n                startIndex = startIndex < 0 ? -startIndex - 1 : startIndex + 1;\n                var endIndex = ts.rangeList.pointIndex(delta.end, parentActive);\n                endIndex = endIndex < 0 ? -endIndex - 1 : endIndex - 1;\n                var toRemove = ts.rangeList.ranges.slice(startIndex, endIndex);\n                for (var j = 0; j < toRemove.length; j++)\n                    this.removeRange(toRemove[j]);\n            }\n            ts.rangeList.$onChange(delta);\n        }\n        var session = this.editor.session;\n        if (!this.$inChange && isRemove && session.getLength() == 1 && !session.getValue())\n            this.detach();\n    };\n    this.updateLinkedFields = function () {\n        var ts = this.selectedTabstop;\n        if (!ts || !ts.hasLinkedRanges || !ts.firstNonLinked)\n            return;\n        this.$inChange = true;\n        var session = this.editor.session;\n        var text = session.getTextRange(ts.firstNonLinked);\n        for (var i = 0; i < ts.length; i++) {\n            var range = ts[i];\n            if (!range.linked)\n                continue;\n            var original = range.original;\n            var fmt = exports.snippetManager.tmStrFormat(text, original, this.editor);\n            session.replace(range, fmt);\n        }\n        this.$inChange = false;\n    };\n    this.onAfterExec = function (e) {\n        if (e.command && !e.command.readOnly)\n            this.updateLinkedFields();\n    };\n    this.onChangeSelection = function () {\n        if (!this.editor)\n            return;\n        var lead = this.editor.selection.lead;\n        var anchor = this.editor.selection.anchor;\n        var isEmpty = this.editor.selection.isEmpty();\n        for (var i = 0; i < this.ranges.length; i++) {\n            if (this.ranges[i].linked)\n                continue;\n            var containsLead = this.ranges[i].contains(lead.row, lead.column);\n            var containsAnchor = isEmpty || this.ranges[i].contains(anchor.row, anchor.column);\n            if (containsLead && containsAnchor)\n                return;\n        }\n        this.detach();\n    };\n    this.onChangeSession = function () {\n        this.detach();\n    };\n    this.tabNext = function (dir) {\n        var max = this.tabstops.length;\n        var index = this.index + (dir || 1);\n        index = Math.min(Math.max(index, 1), max);\n        if (index == max)\n            index = 0;\n        this.selectTabstop(index);\n        if (index === 0)\n            this.detach();\n    };\n    this.selectTabstop = function (index) {\n        this.$openTabstops = null;\n        var ts = this.tabstops[this.index];\n        if (ts)\n            this.addTabstopMarkers(ts);\n        this.index = index;\n        ts = this.tabstops[this.index];\n        if (!ts || !ts.length)\n            return;\n        this.selectedTabstop = ts;\n        var range = ts.firstNonLinked || ts;\n        if (ts.choices)\n            range.cursor = range.start;\n        if (!this.editor.inVirtualSelectionMode) {\n            var sel = this.editor.multiSelect;\n            sel.toSingleRange(range);\n            for (var i = 0; i < ts.length; i++) {\n                if (ts.hasLinkedRanges && ts[i].linked)\n                    continue;\n                sel.addRange(ts[i].clone(), true);\n            }\n        }\n        else {\n            this.editor.selection.fromOrientedRange(range);\n        }\n        this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler);\n        if (this.selectedTabstop && this.selectedTabstop.choices)\n            this.editor.execCommand(\"startAutocomplete\", { matches: this.selectedTabstop.choices });\n    };\n    this.addTabstops = function (tabstops, start, end) {\n        var useLink = this.useLink || !this.editor.getOption(\"enableMultiselect\");\n        if (!this.$openTabstops)\n            this.$openTabstops = [];\n        if (!tabstops[0]) {\n            var p = Range.fromPoints(end, end);\n            moveRelative(p.start, start);\n            moveRelative(p.end, start);\n            tabstops[0] = [p];\n            tabstops[0].index = 0;\n        }\n        var i = this.index;\n        var arg = [i + 1, 0];\n        var ranges = this.ranges;\n        tabstops.forEach(function (ts, index) {\n            var dest = this.$openTabstops[index] || ts;\n            for (var i = 0; i < ts.length; i++) {\n                var p = ts[i];\n                var range = Range.fromPoints(p.start, p.end || p.start);\n                movePoint(range.start, start);\n                movePoint(range.end, start);\n                range.original = p;\n                range.tabstop = dest;\n                ranges.push(range);\n                if (dest != ts)\n                    dest.unshift(range);\n                else\n                    dest[i] = range;\n                if (p.fmtString || (dest.firstNonLinked && useLink)) {\n                    range.linked = true;\n                    dest.hasLinkedRanges = true;\n                }\n                else if (!dest.firstNonLinked)\n                    dest.firstNonLinked = range;\n            }\n            if (!dest.firstNonLinked)\n                dest.hasLinkedRanges = false;\n            if (dest === ts) {\n                arg.push(dest);\n                this.$openTabstops[index] = dest;\n            }\n            this.addTabstopMarkers(dest);\n            dest.rangeList = dest.rangeList || new RangeList();\n            dest.rangeList.$bias = 0;\n            dest.rangeList.addList(dest);\n        }, this);\n        if (arg.length > 2) {\n            if (this.tabstops.length)\n                arg.push(arg.splice(2, 1)[0]);\n            this.tabstops.splice.apply(this.tabstops, arg);\n        }\n    };\n    this.addTabstopMarkers = function (ts) {\n        var session = this.editor.session;\n        ts.forEach(function (range) {\n            if (!range.markerId)\n                range.markerId = session.addMarker(range, \"ace_snippet-marker\", \"text\");\n        });\n    };\n    this.removeTabstopMarkers = function (ts) {\n        var session = this.editor.session;\n        ts.forEach(function (range) {\n            session.removeMarker(range.markerId);\n            range.markerId = null;\n        });\n    };\n    this.removeRange = function (range) {\n        var i = range.tabstop.indexOf(range);\n        if (i != -1)\n            range.tabstop.splice(i, 1);\n        i = this.ranges.indexOf(range);\n        if (i != -1)\n            this.ranges.splice(i, 1);\n        i = range.tabstop.rangeList.ranges.indexOf(range);\n        if (i != -1)\n            range.tabstop.splice(i, 1);\n        this.editor.session.removeMarker(range.markerId);\n        if (!range.tabstop.length) {\n            i = this.tabstops.indexOf(range.tabstop);\n            if (i != -1)\n                this.tabstops.splice(i, 1);\n            if (!this.tabstops.length)\n                this.detach();\n        }\n    };\n    this.keyboardHandler = new HashHandler();\n    this.keyboardHandler.bindKeys({\n        \"Tab\": function (editor) {\n            if (exports.snippetManager && exports.snippetManager.expandWithTab(editor))\n                return;\n            editor.tabstopManager.tabNext(1);\n            editor.renderer.scrollCursorIntoView();\n        },\n        \"Shift-Tab\": function (editor) {\n            editor.tabstopManager.tabNext(-1);\n            editor.renderer.scrollCursorIntoView();\n        },\n        \"Esc\": function (editor) {\n            editor.tabstopManager.detach();\n        }\n    });\n}).call(TabstopManager.prototype);\nvar movePoint = function (point, diff) {\n    if (point.row == 0)\n        point.column += diff.column;\n    point.row += diff.row;\n};\nvar moveRelative = function (point, start) {\n    if (point.row == start.row)\n        point.column -= start.column;\n    point.row -= start.row;\n};\ndom.importCssString(\"\\n.ace_snippet-marker {\\n    -moz-box-sizing: border-box;\\n    box-sizing: border-box;\\n    background: rgba(194, 193, 208, 0.09);\\n    border: 1px dotted rgba(211, 208, 235, 0.62);\\n    position: absolute;\\n}\", \"snippets.css\", false);\nexports.snippetManager = new SnippetManager();\nvar Editor = require(\"./editor\").Editor;\n(function () {\n    this.insertSnippet = function (content, options) {\n        return exports.snippetManager.insertSnippet(this, content, options);\n    };\n    this.expandSnippet = function (options) {\n        return exports.snippetManager.expandWithTab(this, options);\n    };\n}).call(Editor.prototype);\n\n});\n\nace.define(\"ace/autocomplete/popup\",[\"require\",\"exports\",\"module\",\"ace/virtual_renderer\",\"ace/editor\",\"ace/range\",\"ace/lib/event\",\"ace/lib/lang\",\"ace/lib/dom\"], function(require, exports, module){\"use strict\";\nvar Renderer = require(\"../virtual_renderer\").VirtualRenderer;\nvar Editor = require(\"../editor\").Editor;\nvar Range = require(\"../range\").Range;\nvar event = require(\"../lib/event\");\nvar lang = require(\"../lib/lang\");\nvar dom = require(\"../lib/dom\");\nvar $singleLineEditor = function (el) {\n    var renderer = new Renderer(el);\n    renderer.$maxLines = 4;\n    var editor = new Editor(renderer);\n    editor.setHighlightActiveLine(false);\n    editor.setShowPrintMargin(false);\n    editor.renderer.setShowGutter(false);\n    editor.renderer.setHighlightGutterLine(false);\n    editor.$mouseHandler.$focusTimeout = 0;\n    editor.$highlightTagPending = true;\n    return editor;\n};\nvar AcePopup = function (parentNode) {\n    var el = dom.createElement(\"div\");\n    var popup = new $singleLineEditor(el);\n    if (parentNode)\n        parentNode.appendChild(el);\n    el.style.display = \"none\";\n    popup.renderer.content.style.cursor = \"default\";\n    popup.renderer.setStyle(\"ace_autocomplete\");\n    popup.setOption(\"displayIndentGuides\", false);\n    popup.setOption(\"dragDelay\", 150);\n    var noop = function () { };\n    popup.focus = noop;\n    popup.$isFocused = true;\n    popup.renderer.$cursorLayer.restartTimer = noop;\n    popup.renderer.$cursorLayer.element.style.opacity = 0;\n    popup.renderer.$maxLines = 8;\n    popup.renderer.$keepTextAreaAtCursor = false;\n    popup.setHighlightActiveLine(false);\n    popup.session.highlight(\"\");\n    popup.session.$searchHighlight.clazz = \"ace_highlight-marker\";\n    popup.on(\"mousedown\", function (e) {\n        var pos = e.getDocumentPosition();\n        popup.selection.moveToPosition(pos);\n        selectionMarker.start.row = selectionMarker.end.row = pos.row;\n        e.stop();\n    });\n    var lastMouseEvent;\n    var hoverMarker = new Range(-1, 0, -1, Infinity);\n    var selectionMarker = new Range(-1, 0, -1, Infinity);\n    selectionMarker.id = popup.session.addMarker(selectionMarker, \"ace_active-line\", \"fullLine\");\n    popup.setSelectOnHover = function (val) {\n        if (!val) {\n            hoverMarker.id = popup.session.addMarker(hoverMarker, \"ace_line-hover\", \"fullLine\");\n        }\n        else if (hoverMarker.id) {\n            popup.session.removeMarker(hoverMarker.id);\n            hoverMarker.id = null;\n        }\n    };\n    popup.setSelectOnHover(false);\n    popup.on(\"mousemove\", function (e) {\n        if (!lastMouseEvent) {\n            lastMouseEvent = e;\n            return;\n        }\n        if (lastMouseEvent.x == e.x && lastMouseEvent.y == e.y) {\n            return;\n        }\n        lastMouseEvent = e;\n        lastMouseEvent.scrollTop = popup.renderer.scrollTop;\n        var row = lastMouseEvent.getDocumentPosition().row;\n        if (hoverMarker.start.row != row) {\n            if (!hoverMarker.id)\n                popup.setRow(row);\n            setHoverMarker(row);\n        }\n    });\n    popup.renderer.on(\"beforeRender\", function () {\n        if (lastMouseEvent && hoverMarker.start.row != -1) {\n            lastMouseEvent.$pos = null;\n            var row = lastMouseEvent.getDocumentPosition().row;\n            if (!hoverMarker.id)\n                popup.setRow(row);\n            setHoverMarker(row, true);\n        }\n    });\n    popup.renderer.on(\"afterRender\", function () {\n        var row = popup.getRow();\n        var t = popup.renderer.$textLayer;\n        var selected = t.element.childNodes[row - t.config.firstRow];\n        if (selected !== t.selectedNode && t.selectedNode)\n            dom.removeCssClass(t.selectedNode, \"ace_selected\");\n        t.selectedNode = selected;\n        if (selected)\n            dom.addCssClass(selected, \"ace_selected\");\n    });\n    var hideHoverMarker = function () { setHoverMarker(-1); };\n    var setHoverMarker = function (row, suppressRedraw) {\n        if (row !== hoverMarker.start.row) {\n            hoverMarker.start.row = hoverMarker.end.row = row;\n            if (!suppressRedraw)\n                popup.session._emit(\"changeBackMarker\");\n            popup._emit(\"changeHoverMarker\");\n        }\n    };\n    popup.getHoveredRow = function () {\n        return hoverMarker.start.row;\n    };\n    event.addListener(popup.container, \"mouseout\", hideHoverMarker);\n    popup.on(\"hide\", hideHoverMarker);\n    popup.on(\"changeSelection\", hideHoverMarker);\n    popup.session.doc.getLength = function () {\n        return popup.data.length;\n    };\n    popup.session.doc.getLine = function (i) {\n        var data = popup.data[i];\n        if (typeof data == \"string\")\n            return data;\n        return (data && data.value) || \"\";\n    };\n    var bgTokenizer = popup.session.bgTokenizer;\n    bgTokenizer.$tokenizeRow = function (row) {\n        var data = popup.data[row];\n        var tokens = [];\n        if (!data)\n            return tokens;\n        if (typeof data == \"string\")\n            data = { value: data };\n        var caption = data.caption || data.value || data.name;\n        function addToken(value, className) {\n            value && tokens.push({\n                type: (data.className || \"\") + (className || \"\"),\n                value: value\n            });\n        }\n        var lower = caption.toLowerCase();\n        var filterText = (popup.filterText || \"\").toLowerCase();\n        var lastIndex = 0;\n        var lastI = 0;\n        for (var i = 0; i <= filterText.length; i++) {\n            if (i != lastI && (data.matchMask & (1 << i) || i == filterText.length)) {\n                var sub = filterText.slice(lastI, i);\n                lastI = i;\n                var index = lower.indexOf(sub, lastIndex);\n                if (index == -1)\n                    continue;\n                addToken(caption.slice(lastIndex, index), \"\");\n                lastIndex = index + sub.length;\n                addToken(caption.slice(index, lastIndex), \"completion-highlight\");\n            }\n        }\n        addToken(caption.slice(lastIndex, caption.length), \"\");\n        if (data.meta)\n            tokens.push({ type: \"completion-meta\", value: data.meta });\n        if (data.message)\n            tokens.push({ type: \"completion-message\", value: data.message });\n        return tokens;\n    };\n    bgTokenizer.$updateOnChange = noop;\n    bgTokenizer.start = noop;\n    popup.session.$computeWidth = function () {\n        return this.screenWidth = 0;\n    };\n    popup.isOpen = false;\n    popup.isTopdown = false;\n    popup.autoSelect = true;\n    popup.filterText = \"\";\n    popup.data = [];\n    popup.setData = function (list, filterText) {\n        popup.filterText = filterText || \"\";\n        popup.setValue(lang.stringRepeat(\"\\n\", list.length), -1);\n        popup.data = list || [];\n        popup.setRow(0);\n    };\n    popup.getData = function (row) {\n        return popup.data[row];\n    };\n    popup.getRow = function () {\n        return selectionMarker.start.row;\n    };\n    popup.setRow = function (line) {\n        line = Math.max(this.autoSelect ? 0 : -1, Math.min(this.data.length, line));\n        if (selectionMarker.start.row != line) {\n            popup.selection.clearSelection();\n            selectionMarker.start.row = selectionMarker.end.row = line || 0;\n            popup.session._emit(\"changeBackMarker\");\n            popup.moveCursorTo(line || 0, 0);\n            if (popup.isOpen)\n                popup._signal(\"select\");\n        }\n    };\n    popup.on(\"changeSelection\", function () {\n        if (popup.isOpen)\n            popup.setRow(popup.selection.lead.row);\n        popup.renderer.scrollCursorIntoView();\n    });\n    popup.hide = function () {\n        this.container.style.display = \"none\";\n        this._signal(\"hide\");\n        popup.isOpen = false;\n    };\n    popup.show = function (pos, lineHeight, topdownOnly) {\n        var el = this.container;\n        var screenHeight = window.innerHeight;\n        var screenWidth = window.innerWidth;\n        var renderer = this.renderer;\n        var maxH = renderer.$maxLines * lineHeight * 1.4;\n        var top = pos.top + this.$borderSize;\n        var allowTopdown = top > screenHeight / 2 && !topdownOnly;\n        if (allowTopdown && top + lineHeight + maxH > screenHeight) {\n            renderer.$maxPixelHeight = top - 2 * this.$borderSize;\n            el.style.top = \"\";\n            el.style.bottom = screenHeight - top + \"px\";\n            popup.isTopdown = false;\n        }\n        else {\n            top += lineHeight;\n            renderer.$maxPixelHeight = screenHeight - top - 0.2 * lineHeight;\n            el.style.top = top + \"px\";\n            el.style.bottom = \"\";\n            popup.isTopdown = true;\n        }\n        el.style.display = \"\";\n        var left = pos.left;\n        if (left + el.offsetWidth > screenWidth)\n            left = screenWidth - el.offsetWidth;\n        el.style.left = left + \"px\";\n        this._signal(\"show\");\n        lastMouseEvent = null;\n        popup.isOpen = true;\n    };\n    popup.goTo = function (where) {\n        var row = this.getRow();\n        var max = this.session.getLength() - 1;\n        switch (where) {\n            case \"up\":\n                row = row <= 0 ? max : row - 1;\n                break;\n            case \"down\":\n                row = row >= max ? -1 : row + 1;\n                break;\n            case \"start\":\n                row = 0;\n                break;\n            case \"end\":\n                row = max;\n                break;\n        }\n        this.setRow(row);\n    };\n    popup.getTextLeftOffset = function () {\n        return this.$borderSize + this.renderer.$padding + this.$imageSize;\n    };\n    popup.$imageSize = 0;\n    popup.$borderSize = 1;\n    return popup;\n};\ndom.importCssString(\"\\n.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {\\n    background-color: #CAD6FA;\\n    z-index: 1;\\n}\\n.ace_dark.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {\\n    background-color: #3a674e;\\n}\\n.ace_editor.ace_autocomplete .ace_line-hover {\\n    border: 1px solid #abbffe;\\n    margin-top: -1px;\\n    background: rgba(233,233,253,0.4);\\n    position: absolute;\\n    z-index: 2;\\n}\\n.ace_dark.ace_editor.ace_autocomplete .ace_line-hover {\\n    border: 1px solid rgba(109, 150, 13, 0.8);\\n    background: rgba(58, 103, 78, 0.62);\\n}\\n.ace_completion-meta {\\n    opacity: 0.5;\\n    margin: 0.9em;\\n}\\n.ace_completion-message {\\n    color: blue;\\n}\\n.ace_editor.ace_autocomplete .ace_completion-highlight{\\n    color: #2d69c7;\\n}\\n.ace_dark.ace_editor.ace_autocomplete .ace_completion-highlight{\\n    color: #93ca12;\\n}\\n.ace_editor.ace_autocomplete {\\n    width: 300px;\\n    z-index: 200000;\\n    border: 1px lightgray solid;\\n    position: fixed;\\n    box-shadow: 2px 3px 5px rgba(0,0,0,.2);\\n    line-height: 1.4;\\n    background: #fefefe;\\n    color: #111;\\n}\\n.ace_dark.ace_editor.ace_autocomplete {\\n    border: 1px #484747 solid;\\n    box-shadow: 2px 3px 5px rgba(0, 0, 0, 0.51);\\n    line-height: 1.4;\\n    background: #25282c;\\n    color: #c1c1c1;\\n}\", \"autocompletion.css\", false);\nexports.AcePopup = AcePopup;\nexports.$singleLineEditor = $singleLineEditor;\n\n});\n\nace.define(\"ace/autocomplete/util\",[\"require\",\"exports\",\"module\"], function(require, exports, module){\"use strict\";\nexports.parForEach = function (array, fn, callback) {\n    var completed = 0;\n    var arLength = array.length;\n    if (arLength === 0)\n        callback();\n    for (var i = 0; i < arLength; i++) {\n        fn(array[i], function (result, err) {\n            completed++;\n            if (completed === arLength)\n                callback(result, err);\n        });\n    }\n};\nvar ID_REGEX = /[a-zA-Z_0-9\\$\\-\\u00A2-\\u2000\\u2070-\\uFFFF]/;\nexports.retrievePrecedingIdentifier = function (text, pos, regex) {\n    regex = regex || ID_REGEX;\n    var buf = [];\n    for (var i = pos - 1; i >= 0; i--) {\n        if (regex.test(text[i]))\n            buf.push(text[i]);\n        else\n            break;\n    }\n    return buf.reverse().join(\"\");\n};\nexports.retrieveFollowingIdentifier = function (text, pos, regex) {\n    regex = regex || ID_REGEX;\n    var buf = [];\n    for (var i = pos; i < text.length; i++) {\n        if (regex.test(text[i]))\n            buf.push(text[i]);\n        else\n            break;\n    }\n    return buf;\n};\nexports.getCompletionPrefix = function (editor) {\n    var pos = editor.getCursorPosition();\n    var line = editor.session.getLine(pos.row);\n    var prefix;\n    editor.completers.forEach(function (completer) {\n        if (completer.identifierRegexps) {\n            completer.identifierRegexps.forEach(function (identifierRegex) {\n                if (!prefix && identifierRegex)\n                    prefix = this.retrievePrecedingIdentifier(line, pos.column, identifierRegex);\n            }.bind(this));\n        }\n    }.bind(this));\n    return prefix || this.retrievePrecedingIdentifier(line, pos.column);\n};\n\n});\n\nace.define(\"ace/autocomplete\",[\"require\",\"exports\",\"module\",\"ace/keyboard/hash_handler\",\"ace/autocomplete/popup\",\"ace/autocomplete/util\",\"ace/lib/lang\",\"ace/lib/dom\",\"ace/snippets\",\"ace/config\"], function(require, exports, module){\"use strict\";\nvar HashHandler = require(\"./keyboard/hash_handler\").HashHandler;\nvar AcePopup = require(\"./autocomplete/popup\").AcePopup;\nvar util = require(\"./autocomplete/util\");\nvar lang = require(\"./lib/lang\");\nvar dom = require(\"./lib/dom\");\nvar snippetManager = require(\"./snippets\").snippetManager;\nvar config = require(\"./config\");\nvar Autocomplete = function () {\n    this.autoInsert = false;\n    this.autoSelect = true;\n    this.exactMatch = false;\n    this.gatherCompletionsId = 0;\n    this.keyboardHandler = new HashHandler();\n    this.keyboardHandler.bindKeys(this.commands);\n    this.blurListener = this.blurListener.bind(this);\n    this.changeListener = this.changeListener.bind(this);\n    this.mousedownListener = this.mousedownListener.bind(this);\n    this.mousewheelListener = this.mousewheelListener.bind(this);\n    this.changeTimer = lang.delayedCall(function () {\n        this.updateCompletions(true);\n    }.bind(this));\n    this.tooltipTimer = lang.delayedCall(this.updateDocTooltip.bind(this), 50);\n};\n(function () {\n    this.$init = function () {\n        this.popup = new AcePopup(document.body || document.documentElement);\n        this.popup.on(\"click\", function (e) {\n            this.insertMatch();\n            e.stop();\n        }.bind(this));\n        this.popup.focus = this.editor.focus.bind(this.editor);\n        this.popup.on(\"show\", this.tooltipTimer.bind(null, null));\n        this.popup.on(\"select\", this.tooltipTimer.bind(null, null));\n        this.popup.on(\"changeHoverMarker\", this.tooltipTimer.bind(null, null));\n        return this.popup;\n    };\n    this.getPopup = function () {\n        return this.popup || this.$init();\n    };\n    this.openPopup = function (editor, prefix, keepPopupPosition) {\n        if (!this.popup)\n            this.$init();\n        this.popup.autoSelect = this.autoSelect;\n        this.popup.setData(this.completions.filtered, this.completions.filterText);\n        editor.keyBinding.addKeyboardHandler(this.keyboardHandler);\n        var renderer = editor.renderer;\n        this.popup.setRow(this.autoSelect ? 0 : -1);\n        if (!keepPopupPosition) {\n            this.popup.setTheme(editor.getTheme());\n            this.popup.setFontSize(editor.getFontSize());\n            var lineHeight = renderer.layerConfig.lineHeight;\n            var pos = renderer.$cursorLayer.getPixelPosition(this.base, true);\n            pos.left -= this.popup.getTextLeftOffset();\n            var rect = editor.container.getBoundingClientRect();\n            pos.top += rect.top - renderer.layerConfig.offset;\n            pos.left += rect.left - editor.renderer.scrollLeft;\n            pos.left += renderer.gutterWidth;\n            this.popup.show(pos, lineHeight);\n        }\n        else if (keepPopupPosition && !prefix) {\n            this.detach();\n        }\n        this.changeTimer.cancel();\n    };\n    this.detach = function () {\n        this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler);\n        this.editor.off(\"changeSelection\", this.changeListener);\n        this.editor.off(\"blur\", this.blurListener);\n        this.editor.off(\"mousedown\", this.mousedownListener);\n        this.editor.off(\"mousewheel\", this.mousewheelListener);\n        this.changeTimer.cancel();\n        this.hideDocTooltip();\n        this.gatherCompletionsId += 1;\n        if (this.popup && this.popup.isOpen)\n            this.popup.hide();\n        if (this.base)\n            this.base.detach();\n        this.activated = false;\n        this.completions = this.base = null;\n    };\n    this.changeListener = function (e) {\n        var cursor = this.editor.selection.lead;\n        if (cursor.row != this.base.row || cursor.column < this.base.column) {\n            this.detach();\n        }\n        if (this.activated)\n            this.changeTimer.schedule();\n        else\n            this.detach();\n    };\n    this.blurListener = function (e) {\n        var el = document.activeElement;\n        var text = this.editor.textInput.getElement();\n        var fromTooltip = e.relatedTarget && this.tooltipNode && this.tooltipNode.contains(e.relatedTarget);\n        var container = this.popup && this.popup.container;\n        if (el != text && el.parentNode != container && !fromTooltip\n            && el != this.tooltipNode && e.relatedTarget != text) {\n            this.detach();\n        }\n    };\n    this.mousedownListener = function (e) {\n        this.detach();\n    };\n    this.mousewheelListener = function (e) {\n        this.detach();\n    };\n    this.goTo = function (where) {\n        this.popup.goTo(where);\n    };\n    this.insertMatch = function (data, options) {\n        if (!data)\n            data = this.popup.getData(this.popup.getRow());\n        if (!data)\n            return false;\n        var completions = this.completions;\n        this.editor.startOperation({ command: { name: \"insertMatch\" } });\n        if (data.completer && data.completer.insertMatch) {\n            data.completer.insertMatch(this.editor, data);\n        }\n        else {\n            if (!completions)\n                return false;\n            if (completions.filterText) {\n                var ranges = this.editor.selection.getAllRanges();\n                for (var i = 0, range; range = ranges[i]; i++) {\n                    range.start.column -= completions.filterText.length;\n                    this.editor.session.remove(range);\n                }\n            }\n            if (data.snippet)\n                snippetManager.insertSnippet(this.editor, data.snippet);\n            else\n                this.editor.execCommand(\"insertstring\", data.value || data);\n        }\n        if (this.completions == completions)\n            this.detach();\n        this.editor.endOperation();\n    };\n    this.commands = {\n        \"Up\": function (editor) { editor.completer.goTo(\"up\"); },\n        \"Down\": function (editor) { editor.completer.goTo(\"down\"); },\n        \"Ctrl-Up|Ctrl-Home\": function (editor) { editor.completer.goTo(\"start\"); },\n        \"Ctrl-Down|Ctrl-End\": function (editor) { editor.completer.goTo(\"end\"); },\n        \"Esc\": function (editor) { editor.completer.detach(); },\n        \"Return\": function (editor) { return editor.completer.insertMatch(); },\n        \"Shift-Return\": function (editor) { editor.completer.insertMatch(null, { deleteSuffix: true }); },\n        \"Tab\": function (editor) {\n            var result = editor.completer.insertMatch();\n            if (!result && !editor.tabstopManager)\n                editor.completer.goTo(\"down\");\n            else\n                return result;\n        },\n        \"PageUp\": function (editor) { editor.completer.popup.gotoPageUp(); },\n        \"PageDown\": function (editor) { editor.completer.popup.gotoPageDown(); }\n    };\n    this.gatherCompletions = function (editor, callback) {\n        var session = editor.getSession();\n        var pos = editor.getCursorPosition();\n        var prefix = util.getCompletionPrefix(editor);\n        this.base = session.doc.createAnchor(pos.row, pos.column - prefix.length);\n        this.base.$insertRight = true;\n        var matches = [];\n        var total = editor.completers.length;\n        editor.completers.forEach(function (completer, i) {\n            completer.getCompletions(editor, session, pos, prefix, function (err, results) {\n                if (!err && results)\n                    matches = matches.concat(results);\n                callback(null, {\n                    prefix: util.getCompletionPrefix(editor),\n                    matches: matches,\n                    finished: (--total === 0)\n                });\n            });\n        });\n        return true;\n    };\n    this.showPopup = function (editor, options) {\n        if (this.editor)\n            this.detach();\n        this.activated = true;\n        this.editor = editor;\n        if (editor.completer != this) {\n            if (editor.completer)\n                editor.completer.detach();\n            editor.completer = this;\n        }\n        editor.on(\"changeSelection\", this.changeListener);\n        editor.on(\"blur\", this.blurListener);\n        editor.on(\"mousedown\", this.mousedownListener);\n        editor.on(\"mousewheel\", this.mousewheelListener);\n        this.updateCompletions(false, options);\n    };\n    this.updateCompletions = function (keepPopupPosition, options) {\n        if (keepPopupPosition && this.base && this.completions) {\n            var pos = this.editor.getCursorPosition();\n            var prefix = this.editor.session.getTextRange({ start: this.base, end: pos });\n            if (prefix == this.completions.filterText)\n                return;\n            this.completions.setFilter(prefix);\n            if (!this.completions.filtered.length)\n                return this.detach();\n            if (this.completions.filtered.length == 1\n                && this.completions.filtered[0].value == prefix\n                && !this.completions.filtered[0].snippet)\n                return this.detach();\n            this.openPopup(this.editor, prefix, keepPopupPosition);\n            return;\n        }\n        if (options && options.matches) {\n            var pos = this.editor.getSelectionRange().start;\n            this.base = this.editor.session.doc.createAnchor(pos.row, pos.column);\n            this.base.$insertRight = true;\n            this.completions = new FilteredList(options.matches);\n            return this.openPopup(this.editor, \"\", keepPopupPosition);\n        }\n        var _id = this.gatherCompletionsId;\n        var detachIfFinished = function (results) {\n            if (!results.finished)\n                return;\n            return this.detach();\n        }.bind(this);\n        var processResults = function (results) {\n            var prefix = results.prefix;\n            var matches = results.matches;\n            this.completions = new FilteredList(matches);\n            if (this.exactMatch)\n                this.completions.exactMatch = true;\n            this.completions.setFilter(prefix);\n            var filtered = this.completions.filtered;\n            if (!filtered.length)\n                return detachIfFinished(results);\n            if (filtered.length == 1 && filtered[0].value == prefix && !filtered[0].snippet)\n                return detachIfFinished(results);\n            if (this.autoInsert && filtered.length == 1 && results.finished)\n                return this.insertMatch(filtered[0]);\n            this.openPopup(this.editor, prefix, keepPopupPosition);\n        }.bind(this);\n        var isImmediate = true;\n        var immediateResults = null;\n        this.gatherCompletions(this.editor, function (err, results) {\n            var prefix = results.prefix;\n            var matches = results && results.matches;\n            if (!matches || !matches.length)\n                return detachIfFinished(results);\n            if (prefix.indexOf(results.prefix) !== 0 || _id != this.gatherCompletionsId)\n                return;\n            if (isImmediate) {\n                immediateResults = results;\n                return;\n            }\n            processResults(results);\n        }.bind(this));\n        isImmediate = false;\n        if (immediateResults) {\n            var results = immediateResults;\n            immediateResults = null;\n            processResults(results);\n        }\n    };\n    this.cancelContextMenu = function () {\n        this.editor.$mouseHandler.cancelContextMenu();\n    };\n    this.updateDocTooltip = function () {\n        var popup = this.popup;\n        var all = popup.data;\n        var selected = all && (all[popup.getHoveredRow()] || all[popup.getRow()]);\n        var doc = null;\n        if (!selected || !this.editor || !this.popup.isOpen)\n            return this.hideDocTooltip();\n        this.editor.completers.some(function (completer) {\n            if (completer.getDocTooltip)\n                doc = completer.getDocTooltip(selected);\n            return doc;\n        });\n        if (!doc && typeof selected != \"string\")\n            doc = selected;\n        if (typeof doc == \"string\")\n            doc = { docText: doc };\n        if (!doc || !(doc.docHTML || doc.docText))\n            return this.hideDocTooltip();\n        this.showDocTooltip(doc);\n    };\n    this.showDocTooltip = function (item) {\n        if (!this.tooltipNode) {\n            this.tooltipNode = dom.createElement(\"div\");\n            this.tooltipNode.className = \"ace_tooltip ace_doc-tooltip\";\n            this.tooltipNode.style.margin = 0;\n            this.tooltipNode.style.pointerEvents = \"auto\";\n            this.tooltipNode.tabIndex = -1;\n            this.tooltipNode.onblur = this.blurListener.bind(this);\n            this.tooltipNode.onclick = this.onTooltipClick.bind(this);\n        }\n        var tooltipNode = this.tooltipNode;\n        if (item.docHTML) {\n            tooltipNode.innerHTML = item.docHTML;\n        }\n        else if (item.docText) {\n            tooltipNode.textContent = item.docText;\n        }\n        if (!tooltipNode.parentNode)\n            document.body.appendChild(tooltipNode);\n        var popup = this.popup;\n        var rect = popup.container.getBoundingClientRect();\n        tooltipNode.style.top = popup.container.style.top;\n        tooltipNode.style.bottom = popup.container.style.bottom;\n        tooltipNode.style.display = \"block\";\n        if (window.innerWidth - rect.right < 320) {\n            if (rect.left < 320) {\n                if (popup.isTopdown) {\n                    tooltipNode.style.top = rect.bottom + \"px\";\n                    tooltipNode.style.left = rect.left + \"px\";\n                    tooltipNode.style.right = \"\";\n                    tooltipNode.style.bottom = \"\";\n                }\n                else {\n                    tooltipNode.style.top = popup.container.offsetTop - tooltipNode.offsetHeight + \"px\";\n                    tooltipNode.style.left = rect.left + \"px\";\n                    tooltipNode.style.right = \"\";\n                    tooltipNode.style.bottom = \"\";\n                }\n            }\n            else {\n                tooltipNode.style.right = window.innerWidth - rect.left + \"px\";\n                tooltipNode.style.left = \"\";\n            }\n        }\n        else {\n            tooltipNode.style.left = (rect.right + 1) + \"px\";\n            tooltipNode.style.right = \"\";\n        }\n    };\n    this.hideDocTooltip = function () {\n        this.tooltipTimer.cancel();\n        if (!this.tooltipNode)\n            return;\n        var el = this.tooltipNode;\n        if (!this.editor.isFocused() && document.activeElement == el)\n            this.editor.focus();\n        this.tooltipNode = null;\n        if (el.parentNode)\n            el.parentNode.removeChild(el);\n    };\n    this.onTooltipClick = function (e) {\n        var a = e.target;\n        while (a && a != this.tooltipNode) {\n            if (a.nodeName == \"A\" && a.href) {\n                a.rel = \"noreferrer\";\n                a.target = \"_blank\";\n                break;\n            }\n            a = a.parentNode;\n        }\n    };\n    this.destroy = function () {\n        this.detach();\n        if (this.popup) {\n            this.popup.destroy();\n            var el = this.popup.container;\n            if (el && el.parentNode)\n                el.parentNode.removeChild(el);\n        }\n        if (this.editor && this.editor.completer == this)\n            this.editor.completer == null;\n        this.popup = null;\n    };\n}).call(Autocomplete.prototype);\nAutocomplete.for = function (editor) {\n    if (editor.completer) {\n        return editor.completer;\n    }\n    if (config.get(\"sharedPopups\")) {\n        if (!Autocomplete.$shared)\n            Autocomplete.$sharedInstance = new Autocomplete();\n        editor.completer = Autocomplete.$sharedInstance;\n    }\n    else {\n        editor.completer = new Autocomplete();\n        editor.once(\"destroy\", function (e, editor) {\n            editor.completer.destroy();\n        });\n    }\n    return editor.completer;\n};\nAutocomplete.startCommand = {\n    name: \"startAutocomplete\",\n    exec: function (editor, options) {\n        var completer = Autocomplete.for(editor);\n        completer.autoInsert = false;\n        completer.autoSelect = true;\n        completer.showPopup(editor, options);\n        completer.cancelContextMenu();\n    },\n    bindKey: \"Ctrl-Space|Ctrl-Shift-Space|Alt-Space\"\n};\nvar FilteredList = function (array, filterText) {\n    this.all = array;\n    this.filtered = array;\n    this.filterText = filterText || \"\";\n    this.exactMatch = false;\n};\n(function () {\n    this.setFilter = function (str) {\n        if (str.length > this.filterText && str.lastIndexOf(this.filterText, 0) === 0)\n            var matches = this.filtered;\n        else\n            var matches = this.all;\n        this.filterText = str;\n        matches = this.filterCompletions(matches, this.filterText);\n        matches = matches.sort(function (a, b) {\n            return b.exactMatch - a.exactMatch || b.$score - a.$score\n                || (a.caption || a.value).localeCompare(b.caption || b.value);\n        });\n        var prev = null;\n        matches = matches.filter(function (item) {\n            var caption = item.snippet || item.caption || item.value;\n            if (caption === prev)\n                return false;\n            prev = caption;\n            return true;\n        });\n        this.filtered = matches;\n    };\n    this.filterCompletions = function (items, needle) {\n        var results = [];\n        var upper = needle.toUpperCase();\n        var lower = needle.toLowerCase();\n        loop: for (var i = 0, item; item = items[i]; i++) {\n            var caption = item.caption || item.value || item.snippet;\n            if (!caption)\n                continue;\n            var lastIndex = -1;\n            var matchMask = 0;\n            var penalty = 0;\n            var index, distance;\n            if (this.exactMatch) {\n                if (needle !== caption.substr(0, needle.length))\n                    continue loop;\n            }\n            else {\n                var fullMatchIndex = caption.toLowerCase().indexOf(lower);\n                if (fullMatchIndex > -1) {\n                    penalty = fullMatchIndex;\n                }\n                else {\n                    for (var j = 0; j < needle.length; j++) {\n                        var i1 = caption.indexOf(lower[j], lastIndex + 1);\n                        var i2 = caption.indexOf(upper[j], lastIndex + 1);\n                        index = (i1 >= 0) ? ((i2 < 0 || i1 < i2) ? i1 : i2) : i2;\n                        if (index < 0)\n                            continue loop;\n                        distance = index - lastIndex - 1;\n                        if (distance > 0) {\n                            if (lastIndex === -1)\n                                penalty += 10;\n                            penalty += distance;\n                            matchMask = matchMask | (1 << j);\n                        }\n                        lastIndex = index;\n                    }\n                }\n            }\n            item.matchMask = matchMask;\n            item.exactMatch = penalty ? 0 : 1;\n            item.$score = (item.score || 0) - penalty;\n            results.push(item);\n        }\n        return results;\n    };\n}).call(FilteredList.prototype);\nexports.Autocomplete = Autocomplete;\nexports.FilteredList = FilteredList;\n\n});\n\nace.define(\"ace/autocomplete/text_completer\",[\"require\",\"exports\",\"module\",\"ace/range\"], function(require, exports, module){var Range = require(\"../range\").Range;\nvar splitRegex = /[^a-zA-Z_0-9\\$\\-\\u00C0-\\u1FFF\\u2C00-\\uD7FF\\w]+/;\nfunction getWordIndex(doc, pos) {\n    var textBefore = doc.getTextRange(Range.fromPoints({ row: 0, column: 0 }, pos));\n    return textBefore.split(splitRegex).length - 1;\n}\nfunction wordDistance(doc, pos) {\n    var prefixPos = getWordIndex(doc, pos);\n    var words = doc.getValue().split(splitRegex);\n    var wordScores = Object.create(null);\n    var currentWord = words[prefixPos];\n    words.forEach(function (word, idx) {\n        if (!word || word === currentWord)\n            return;\n        var distance = Math.abs(prefixPos - idx);\n        var score = words.length - distance;\n        if (wordScores[word]) {\n            wordScores[word] = Math.max(score, wordScores[word]);\n        }\n        else {\n            wordScores[word] = score;\n        }\n    });\n    return wordScores;\n}\nexports.getCompletions = function (editor, session, pos, prefix, callback) {\n    var wordScore = wordDistance(session, pos);\n    var wordList = Object.keys(wordScore);\n    callback(null, wordList.map(function (word) {\n        return {\n            caption: word,\n            value: word,\n            score: wordScore[word],\n            meta: \"local\"\n        };\n    }));\n};\n\n});\n\nace.define(\"ace/ext/language_tools\",[\"require\",\"exports\",\"module\",\"ace/snippets\",\"ace/autocomplete\",\"ace/config\",\"ace/lib/lang\",\"ace/autocomplete/util\",\"ace/autocomplete/text_completer\",\"ace/editor\",\"ace/config\"], function(require, exports, module){\"use strict\";\nvar snippetManager = require(\"../snippets\").snippetManager;\nvar Autocomplete = require(\"../autocomplete\").Autocomplete;\nvar config = require(\"../config\");\nvar lang = require(\"../lib/lang\");\nvar util = require(\"../autocomplete/util\");\nvar textCompleter = require(\"../autocomplete/text_completer\");\nvar keyWordCompleter = {\n    getCompletions: function (editor, session, pos, prefix, callback) {\n        if (session.$mode.completer) {\n            return session.$mode.completer.getCompletions(editor, session, pos, prefix, callback);\n        }\n        var state = editor.session.getState(pos.row);\n        var completions = session.$mode.getCompletions(state, session, pos, prefix);\n        callback(null, completions);\n    }\n};\nvar transformSnippetTooltip = function (str) {\n    var record = {};\n    return str.replace(/\\${(\\d+)(:(.*?))?}/g, function (_, p1, p2, p3) {\n        return (record[p1] = p3 || '');\n    }).replace(/\\$(\\d+?)/g, function (_, p1) {\n        return record[p1];\n    });\n};\nvar snippetCompleter = {\n    getCompletions: function (editor, session, pos, prefix, callback) {\n        var scopes = [];\n        var token = session.getTokenAt(pos.row, pos.column);\n        if (token && token.type.match(/(tag-name|tag-open|tag-whitespace|attribute-name|attribute-value)\\.xml$/))\n            scopes.push('html-tag');\n        else\n            scopes = snippetManager.getActiveScopes(editor);\n        var snippetMap = snippetManager.snippetMap;\n        var completions = [];\n        scopes.forEach(function (scope) {\n            var snippets = snippetMap[scope] || [];\n            for (var i = snippets.length; i--;) {\n                var s = snippets[i];\n                var caption = s.name || s.tabTrigger;\n                if (!caption)\n                    continue;\n                completions.push({\n                    caption: caption,\n                    snippet: s.content,\n                    meta: s.tabTrigger && !s.name ? s.tabTrigger + \"\\u21E5 \" : \"snippet\",\n                    type: \"snippet\"\n                });\n            }\n        }, this);\n        callback(null, completions);\n    },\n    getDocTooltip: function (item) {\n        if (item.type == \"snippet\" && !item.docHTML) {\n            item.docHTML = [\n                \"<b>\", lang.escapeHTML(item.caption), \"</b>\", \"<hr></hr>\",\n                lang.escapeHTML(transformSnippetTooltip(item.snippet))\n            ].join(\"\");\n        }\n    }\n};\nvar completers = [snippetCompleter, textCompleter, keyWordCompleter];\nexports.setCompleters = function (val) {\n    completers.length = 0;\n    if (val)\n        completers.push.apply(completers, val);\n};\nexports.addCompleter = function (completer) {\n    completers.push(completer);\n};\nexports.textCompleter = textCompleter;\nexports.keyWordCompleter = keyWordCompleter;\nexports.snippetCompleter = snippetCompleter;\nvar expandSnippet = {\n    name: \"expandSnippet\",\n    exec: function (editor) {\n        return snippetManager.expandWithTab(editor);\n    },\n    bindKey: \"Tab\"\n};\nvar onChangeMode = function (e, editor) {\n    loadSnippetsForMode(editor.session.$mode);\n};\nvar loadSnippetsForMode = function (mode) {\n    if (typeof mode == \"string\")\n        mode = config.$modes[mode];\n    if (!mode)\n        return;\n    if (!snippetManager.files)\n        snippetManager.files = {};\n    loadSnippetFile(mode.$id, mode.snippetFileId);\n    if (mode.modes)\n        mode.modes.forEach(loadSnippetsForMode);\n};\nvar loadSnippetFile = function (id, snippetFilePath) {\n    if (!snippetFilePath || !id || snippetManager.files[id])\n        return;\n    snippetManager.files[id] = {};\n    config.loadModule(snippetFilePath, function (m) {\n        if (!m)\n            return;\n        snippetManager.files[id] = m;\n        if (!m.snippets && m.snippetText)\n            m.snippets = snippetManager.parseSnippetFile(m.snippetText);\n        snippetManager.register(m.snippets || [], m.scope);\n        if (m.includeScopes) {\n            snippetManager.snippetMap[m.scope].includeScopes = m.includeScopes;\n            m.includeScopes.forEach(function (x) {\n                loadSnippetsForMode(\"ace/mode/\" + x);\n            });\n        }\n    });\n};\nvar doLiveAutocomplete = function (e) {\n    var editor = e.editor;\n    var hasCompleter = editor.completer && editor.completer.activated;\n    if (e.command.name === \"backspace\") {\n        if (hasCompleter && !util.getCompletionPrefix(editor))\n            editor.completer.detach();\n    }\n    else if (e.command.name === \"insertstring\") {\n        var prefix = util.getCompletionPrefix(editor);\n        if (prefix && !hasCompleter) {\n            var completer = Autocomplete.for(editor);\n            completer.autoInsert = false;\n            completer.showPopup(editor);\n        }\n    }\n};\nvar Editor = require(\"../editor\").Editor;\nrequire(\"../config\").defineOptions(Editor.prototype, \"editor\", {\n    enableBasicAutocompletion: {\n        set: function (val) {\n            if (val) {\n                if (!this.completers)\n                    this.completers = Array.isArray(val) ? val : completers;\n                this.commands.addCommand(Autocomplete.startCommand);\n            }\n            else {\n                this.commands.removeCommand(Autocomplete.startCommand);\n            }\n        },\n        value: false\n    },\n    enableLiveAutocompletion: {\n        set: function (val) {\n            if (val) {\n                if (!this.completers)\n                    this.completers = Array.isArray(val) ? val : completers;\n                this.commands.on('afterExec', doLiveAutocomplete);\n            }\n            else {\n                this.commands.removeListener('afterExec', doLiveAutocomplete);\n            }\n        },\n        value: false\n    },\n    enableSnippets: {\n        set: function (val) {\n            if (val) {\n                this.commands.addCommand(expandSnippet);\n                this.on(\"changeMode\", onChangeMode);\n                onChangeMode(null, this);\n            }\n            else {\n                this.commands.removeCommand(expandSnippet);\n                this.off(\"changeMode\", onChangeMode);\n            }\n        },\n        value: false\n    }\n});\n\n});                (function() {\n                    ace.require([\"ace/ext/language_tools\"], function(m) {\n                        if (typeof module == \"object\" && typeof exports == \"object\" && module) {\n                            module.exports = m;\n                        }\n                    });\n                })();\n            ","ace.define(\"ace/theme/github.css\",[\"require\",\"exports\",\"module\"], function(require, exports, module){module.exports = \"/* CSS style content from github's default pygments highlighter template.\\n   Cursor and selection styles from textmate.css. */\\n.ace-github .ace_gutter {\\n  background: #e8e8e8;\\n  color: #AAA;\\n}\\n\\n.ace-github  {\\n  background: #fff;\\n  color: #000;\\n}\\n\\n.ace-github .ace_keyword {\\n  font-weight: bold;\\n}\\n\\n.ace-github .ace_string {\\n  color: #D14;\\n}\\n\\n.ace-github .ace_variable.ace_class {\\n  color: teal;\\n}\\n\\n.ace-github .ace_constant.ace_numeric {\\n  color: #099;\\n}\\n\\n.ace-github .ace_constant.ace_buildin {\\n  color: #0086B3;\\n}\\n\\n.ace-github .ace_support.ace_function {\\n  color: #0086B3;\\n}\\n\\n.ace-github .ace_comment {\\n  color: #998;\\n  font-style: italic;\\n}\\n\\n.ace-github .ace_variable.ace_language  {\\n  color: #0086B3;\\n}\\n\\n.ace-github .ace_paren {\\n  font-weight: bold;\\n}\\n\\n.ace-github .ace_boolean {\\n  font-weight: bold;\\n}\\n\\n.ace-github .ace_string.ace_regexp {\\n  color: #009926;\\n  font-weight: normal;\\n}\\n\\n.ace-github .ace_variable.ace_instance {\\n  color: teal;\\n}\\n\\n.ace-github .ace_constant.ace_language {\\n  font-weight: bold;\\n}\\n\\n.ace-github .ace_cursor {\\n  color: black;\\n}\\n\\n.ace-github.ace_focus .ace_marker-layer .ace_active-line {\\n  background: rgb(255, 255, 204);\\n}\\n.ace-github .ace_marker-layer .ace_active-line {\\n  background: rgb(245, 245, 245);\\n}\\n\\n.ace-github .ace_marker-layer .ace_selection {\\n  background: rgb(181, 213, 255);\\n}\\n\\n.ace-github.ace_multiselect .ace_selection.ace_start {\\n  box-shadow: 0 0 3px 0px white;\\n}\\n/* bold keywords cause cursor issues for some fonts */\\n/* this disables bold style for editor and keeps for static highlighter */\\n.ace-github.ace_nobold .ace_line > span {\\n    font-weight: normal !important;\\n}\\n\\n.ace-github .ace_marker-layer .ace_step {\\n  background: rgb(252, 255, 0);\\n}\\n\\n.ace-github .ace_marker-layer .ace_stack {\\n  background: rgb(164, 229, 101);\\n}\\n\\n.ace-github .ace_marker-layer .ace_bracket {\\n  margin: -1px 0 0 -1px;\\n  border: 1px solid rgb(192, 192, 192);\\n}\\n\\n.ace-github .ace_gutter-active-line {\\n    background-color : rgba(0, 0, 0, 0.07);\\n}\\n\\n.ace-github .ace_marker-layer .ace_selected-word {\\n  background: rgb(250, 250, 255);\\n  border: 1px solid rgb(200, 200, 250);\\n}\\n\\n.ace-github .ace_invisible {\\n  color: #BFBFBF\\n}\\n\\n.ace-github .ace_print-margin {\\n  width: 1px;\\n  background: #e8e8e8;\\n}\\n\\n.ace-github .ace_indent-guide {\\n  background: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==\\\") right repeat-y;\\n}\\n\\n.ace-github .ace_indent-guide-active {\\n  background: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC\\\") right repeat-y;\\n}\\n\";\n\n});\n\nace.define(\"ace/theme/github\",[\"require\",\"exports\",\"module\",\"ace/theme/github.css\",\"ace/lib/dom\"], function(require, exports, module){exports.isDark = false;\nexports.cssClass = \"ace-github\";\nexports.cssText = require(\"./github.css\");\nvar dom = require(\"../lib/dom\");\ndom.importCssString(exports.cssText, exports.cssClass, false);\n\n});                (function() {\n                    ace.require([\"ace/theme/github\"], function(m) {\n                        if (typeof module == \"object\" && typeof exports == \"object\" && module) {\n                            module.exports = m;\n                        }\n                    });\n                })();\n            ","/**\n * Diff Match and Patch\n * Copyright 2018 The diff-match-patch Authors.\n * https://github.com/google/diff-match-patch\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview Computes the difference between two texts to create a patch.\n * Applies the patch onto another text, allowing for errors.\n * @author fraser@google.com (Neil Fraser)\n */\n\n/**\n * Class containing the diff, match and patch methods.\n * @constructor\n */\nvar diff_match_patch = function() {\n\n  // Defaults.\n  // Redefine these in your program to override the defaults.\n\n  // Number of seconds to map a diff before giving up (0 for infinity).\n  this.Diff_Timeout = 1.0;\n  // Cost of an empty edit operation in terms of edit characters.\n  this.Diff_EditCost = 4;\n  // At what point is no match declared (0.0 = perfection, 1.0 = very loose).\n  this.Match_Threshold = 0.5;\n  // How far to search for a match (0 = exact location, 1000+ = broad match).\n  // A match this many characters away from the expected location will add\n  // 1.0 to the score (0.0 is a perfect match).\n  this.Match_Distance = 1000;\n  // When deleting a large block of text (over ~64 characters), how close do\n  // the contents have to be to match the expected contents. (0.0 = perfection,\n  // 1.0 = very loose).  Note that Match_Threshold controls how closely the\n  // end points of a delete need to match.\n  this.Patch_DeleteThreshold = 0.5;\n  // Chunk size for context length.\n  this.Patch_Margin = 4;\n\n  // The number of bits in an int.\n  this.Match_MaxBits = 32;\n};\n\n\n//  DIFF FUNCTIONS\n\n\n/**\n * The data structure representing a diff is an array of tuples:\n * [[DIFF_DELETE, 'Hello'], [DIFF_INSERT, 'Goodbye'], [DIFF_EQUAL, ' world.']]\n * which means: delete 'Hello', add 'Goodbye' and keep ' world.'\n */\nvar DIFF_DELETE = -1;\nvar DIFF_INSERT = 1;\nvar DIFF_EQUAL = 0;\n\n/**\n * Class representing one diff tuple.\n * ~Attempts to look like a two-element array (which is what this used to be).~\n * Constructor returns an actual two-element array, to allow destructing @JackuB\n * See https://github.com/JackuB/diff-match-patch/issues/14 for details\n * @param {number} op Operation, one of: DIFF_DELETE, DIFF_INSERT, DIFF_EQUAL.\n * @param {string} text Text to be deleted, inserted, or retained.\n * @constructor\n */\ndiff_match_patch.Diff = function(op, text) {\n  return [op, text];\n};\n\n/**\n * Find the differences between two texts.  Simplifies the problem by stripping\n * any common prefix or suffix off the texts before diffing.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @param {boolean=} opt_checklines Optional speedup flag. If present and false,\n *     then don't run a line-level diff first to identify the changed areas.\n *     Defaults to true, which does a faster, slightly less optimal diff.\n * @param {number=} opt_deadline Optional time when the diff should be complete\n *     by.  Used internally for recursive calls.  Users should set DiffTimeout\n *     instead.\n * @return {!Array.<!diff_match_patch.Diff>} Array of diff tuples.\n */\ndiff_match_patch.prototype.diff_main = function(text1, text2, opt_checklines,\n    opt_deadline) {\n  // Set a deadline by which time the diff must be complete.\n  if (typeof opt_deadline == 'undefined') {\n    if (this.Diff_Timeout <= 0) {\n      opt_deadline = Number.MAX_VALUE;\n    } else {\n      opt_deadline = (new Date).getTime() + this.Diff_Timeout * 1000;\n    }\n  }\n  var deadline = opt_deadline;\n\n  // Check for null inputs.\n  if (text1 == null || text2 == null) {\n    throw new Error('Null input. (diff_main)');\n  }\n\n  // Check for equality (speedup).\n  if (text1 == text2) {\n    if (text1) {\n      return [new diff_match_patch.Diff(DIFF_EQUAL, text1)];\n    }\n    return [];\n  }\n\n  if (typeof opt_checklines == 'undefined') {\n    opt_checklines = true;\n  }\n  var checklines = opt_checklines;\n\n  // Trim off common prefix (speedup).\n  var commonlength = this.diff_commonPrefix(text1, text2);\n  var commonprefix = text1.substring(0, commonlength);\n  text1 = text1.substring(commonlength);\n  text2 = text2.substring(commonlength);\n\n  // Trim off common suffix (speedup).\n  commonlength = this.diff_commonSuffix(text1, text2);\n  var commonsuffix = text1.substring(text1.length - commonlength);\n  text1 = text1.substring(0, text1.length - commonlength);\n  text2 = text2.substring(0, text2.length - commonlength);\n\n  // Compute the diff on the middle block.\n  var diffs = this.diff_compute_(text1, text2, checklines, deadline);\n\n  // Restore the prefix and suffix.\n  if (commonprefix) {\n    diffs.unshift(new diff_match_patch.Diff(DIFF_EQUAL, commonprefix));\n  }\n  if (commonsuffix) {\n    diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, commonsuffix));\n  }\n  this.diff_cleanupMerge(diffs);\n  return diffs;\n};\n\n\n/**\n * Find the differences between two texts.  Assumes that the texts do not\n * have any common prefix or suffix.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @param {boolean} checklines Speedup flag.  If false, then don't run a\n *     line-level diff first to identify the changed areas.\n *     If true, then run a faster, slightly less optimal diff.\n * @param {number} deadline Time when the diff should be complete by.\n * @return {!Array.<!diff_match_patch.Diff>} Array of diff tuples.\n * @private\n */\ndiff_match_patch.prototype.diff_compute_ = function(text1, text2, checklines,\n    deadline) {\n  var diffs;\n\n  if (!text1) {\n    // Just add some text (speedup).\n    return [new diff_match_patch.Diff(DIFF_INSERT, text2)];\n  }\n\n  if (!text2) {\n    // Just delete some text (speedup).\n    return [new diff_match_patch.Diff(DIFF_DELETE, text1)];\n  }\n\n  var longtext = text1.length > text2.length ? text1 : text2;\n  var shorttext = text1.length > text2.length ? text2 : text1;\n  var i = longtext.indexOf(shorttext);\n  if (i != -1) {\n    // Shorter text is inside the longer text (speedup).\n    diffs = [new diff_match_patch.Diff(DIFF_INSERT, longtext.substring(0, i)),\n             new diff_match_patch.Diff(DIFF_EQUAL, shorttext),\n             new diff_match_patch.Diff(DIFF_INSERT,\n                 longtext.substring(i + shorttext.length))];\n    // Swap insertions for deletions if diff is reversed.\n    if (text1.length > text2.length) {\n      diffs[0][0] = diffs[2][0] = DIFF_DELETE;\n    }\n    return diffs;\n  }\n\n  if (shorttext.length == 1) {\n    // Single character string.\n    // After the previous speedup, the character can't be an equality.\n    return [new diff_match_patch.Diff(DIFF_DELETE, text1),\n            new diff_match_patch.Diff(DIFF_INSERT, text2)];\n  }\n\n  // Check to see if the problem can be split in two.\n  var hm = this.diff_halfMatch_(text1, text2);\n  if (hm) {\n    // A half-match was found, sort out the return data.\n    var text1_a = hm[0];\n    var text1_b = hm[1];\n    var text2_a = hm[2];\n    var text2_b = hm[3];\n    var mid_common = hm[4];\n    // Send both pairs off for separate processing.\n    var diffs_a = this.diff_main(text1_a, text2_a, checklines, deadline);\n    var diffs_b = this.diff_main(text1_b, text2_b, checklines, deadline);\n    // Merge the results.\n    return diffs_a.concat([new diff_match_patch.Diff(DIFF_EQUAL, mid_common)],\n                          diffs_b);\n  }\n\n  if (checklines && text1.length > 100 && text2.length > 100) {\n    return this.diff_lineMode_(text1, text2, deadline);\n  }\n\n  return this.diff_bisect_(text1, text2, deadline);\n};\n\n\n/**\n * Do a quick line-level diff on both strings, then rediff the parts for\n * greater accuracy.\n * This speedup can produce non-minimal diffs.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @param {number} deadline Time when the diff should be complete by.\n * @return {!Array.<!diff_match_patch.Diff>} Array of diff tuples.\n * @private\n */\ndiff_match_patch.prototype.diff_lineMode_ = function(text1, text2, deadline) {\n  // Scan the text on a line-by-line basis first.\n  var a = this.diff_linesToChars_(text1, text2);\n  text1 = a.chars1;\n  text2 = a.chars2;\n  var linearray = a.lineArray;\n\n  var diffs = this.diff_main(text1, text2, false, deadline);\n\n  // Convert the diff back to original text.\n  this.diff_charsToLines_(diffs, linearray);\n  // Eliminate freak matches (e.g. blank lines)\n  this.diff_cleanupSemantic(diffs);\n\n  // Rediff any replacement blocks, this time character-by-character.\n  // Add a dummy entry at the end.\n  diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, ''));\n  var pointer = 0;\n  var count_delete = 0;\n  var count_insert = 0;\n  var text_delete = '';\n  var text_insert = '';\n  while (pointer < diffs.length) {\n    switch (diffs[pointer][0]) {\n      case DIFF_INSERT:\n        count_insert++;\n        text_insert += diffs[pointer][1];\n        break;\n      case DIFF_DELETE:\n        count_delete++;\n        text_delete += diffs[pointer][1];\n        break;\n      case DIFF_EQUAL:\n        // Upon reaching an equality, check for prior redundancies.\n        if (count_delete >= 1 && count_insert >= 1) {\n          // Delete the offending records and add the merged ones.\n          diffs.splice(pointer - count_delete - count_insert,\n                       count_delete + count_insert);\n          pointer = pointer - count_delete - count_insert;\n          var subDiff =\n              this.diff_main(text_delete, text_insert, false, deadline);\n          for (var j = subDiff.length - 1; j >= 0; j--) {\n            diffs.splice(pointer, 0, subDiff[j]);\n          }\n          pointer = pointer + subDiff.length;\n        }\n        count_insert = 0;\n        count_delete = 0;\n        text_delete = '';\n        text_insert = '';\n        break;\n    }\n    pointer++;\n  }\n  diffs.pop();  // Remove the dummy entry at the end.\n\n  return diffs;\n};\n\n\n/**\n * Find the 'middle snake' of a diff, split the problem in two\n * and return the recursively constructed diff.\n * See Myers 1986 paper: An O(ND) Difference Algorithm and Its Variations.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @param {number} deadline Time at which to bail if not yet complete.\n * @return {!Array.<!diff_match_patch.Diff>} Array of diff tuples.\n * @private\n */\ndiff_match_patch.prototype.diff_bisect_ = function(text1, text2, deadline) {\n  // Cache the text lengths to prevent multiple calls.\n  var text1_length = text1.length;\n  var text2_length = text2.length;\n  var max_d = Math.ceil((text1_length + text2_length) / 2);\n  var v_offset = max_d;\n  var v_length = 2 * max_d;\n  var v1 = new Array(v_length);\n  var v2 = new Array(v_length);\n  // Setting all elements to -1 is faster in Chrome & Firefox than mixing\n  // integers and undefined.\n  for (var x = 0; x < v_length; x++) {\n    v1[x] = -1;\n    v2[x] = -1;\n  }\n  v1[v_offset + 1] = 0;\n  v2[v_offset + 1] = 0;\n  var delta = text1_length - text2_length;\n  // If the total number of characters is odd, then the front path will collide\n  // with the reverse path.\n  var front = (delta % 2 != 0);\n  // Offsets for start and end of k loop.\n  // Prevents mapping of space beyond the grid.\n  var k1start = 0;\n  var k1end = 0;\n  var k2start = 0;\n  var k2end = 0;\n  for (var d = 0; d < max_d; d++) {\n    // Bail out if deadline is reached.\n    if ((new Date()).getTime() > deadline) {\n      break;\n    }\n\n    // Walk the front path one step.\n    for (var k1 = -d + k1start; k1 <= d - k1end; k1 += 2) {\n      var k1_offset = v_offset + k1;\n      var x1;\n      if (k1 == -d || (k1 != d && v1[k1_offset - 1] < v1[k1_offset + 1])) {\n        x1 = v1[k1_offset + 1];\n      } else {\n        x1 = v1[k1_offset - 1] + 1;\n      }\n      var y1 = x1 - k1;\n      while (x1 < text1_length && y1 < text2_length &&\n             text1.charAt(x1) == text2.charAt(y1)) {\n        x1++;\n        y1++;\n      }\n      v1[k1_offset] = x1;\n      if (x1 > text1_length) {\n        // Ran off the right of the graph.\n        k1end += 2;\n      } else if (y1 > text2_length) {\n        // Ran off the bottom of the graph.\n        k1start += 2;\n      } else if (front) {\n        var k2_offset = v_offset + delta - k1;\n        if (k2_offset >= 0 && k2_offset < v_length && v2[k2_offset] != -1) {\n          // Mirror x2 onto top-left coordinate system.\n          var x2 = text1_length - v2[k2_offset];\n          if (x1 >= x2) {\n            // Overlap detected.\n            return this.diff_bisectSplit_(text1, text2, x1, y1, deadline);\n          }\n        }\n      }\n    }\n\n    // Walk the reverse path one step.\n    for (var k2 = -d + k2start; k2 <= d - k2end; k2 += 2) {\n      var k2_offset = v_offset + k2;\n      var x2;\n      if (k2 == -d || (k2 != d && v2[k2_offset - 1] < v2[k2_offset + 1])) {\n        x2 = v2[k2_offset + 1];\n      } else {\n        x2 = v2[k2_offset - 1] + 1;\n      }\n      var y2 = x2 - k2;\n      while (x2 < text1_length && y2 < text2_length &&\n             text1.charAt(text1_length - x2 - 1) ==\n             text2.charAt(text2_length - y2 - 1)) {\n        x2++;\n        y2++;\n      }\n      v2[k2_offset] = x2;\n      if (x2 > text1_length) {\n        // Ran off the left of the graph.\n        k2end += 2;\n      } else if (y2 > text2_length) {\n        // Ran off the top of the graph.\n        k2start += 2;\n      } else if (!front) {\n        var k1_offset = v_offset + delta - k2;\n        if (k1_offset >= 0 && k1_offset < v_length && v1[k1_offset] != -1) {\n          var x1 = v1[k1_offset];\n          var y1 = v_offset + x1 - k1_offset;\n          // Mirror x2 onto top-left coordinate system.\n          x2 = text1_length - x2;\n          if (x1 >= x2) {\n            // Overlap detected.\n            return this.diff_bisectSplit_(text1, text2, x1, y1, deadline);\n          }\n        }\n      }\n    }\n  }\n  // Diff took too long and hit the deadline or\n  // number of diffs equals number of characters, no commonality at all.\n  return [new diff_match_patch.Diff(DIFF_DELETE, text1),\n          new diff_match_patch.Diff(DIFF_INSERT, text2)];\n};\n\n\n/**\n * Given the location of the 'middle snake', split the diff in two parts\n * and recurse.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @param {number} x Index of split point in text1.\n * @param {number} y Index of split point in text2.\n * @param {number} deadline Time at which to bail if not yet complete.\n * @return {!Array.<!diff_match_patch.Diff>} Array of diff tuples.\n * @private\n */\ndiff_match_patch.prototype.diff_bisectSplit_ = function(text1, text2, x, y,\n    deadline) {\n  var text1a = text1.substring(0, x);\n  var text2a = text2.substring(0, y);\n  var text1b = text1.substring(x);\n  var text2b = text2.substring(y);\n\n  // Compute both diffs serially.\n  var diffs = this.diff_main(text1a, text2a, false, deadline);\n  var diffsb = this.diff_main(text1b, text2b, false, deadline);\n\n  return diffs.concat(diffsb);\n};\n\n\n/**\n * Split two texts into an array of strings.  Reduce the texts to a string of\n * hashes where each Unicode character represents one line.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {{chars1: string, chars2: string, lineArray: !Array.<string>}}\n *     An object containing the encoded text1, the encoded text2 and\n *     the array of unique strings.\n *     The zeroth element of the array of unique strings is intentionally blank.\n * @private\n */\ndiff_match_patch.prototype.diff_linesToChars_ = function(text1, text2) {\n  var lineArray = [];  // e.g. lineArray[4] == 'Hello\\n'\n  var lineHash = {};   // e.g. lineHash['Hello\\n'] == 4\n\n  // '\\x00' is a valid character, but various debuggers don't like it.\n  // So we'll insert a junk entry to avoid generating a null character.\n  lineArray[0] = '';\n\n  /**\n   * Split a text into an array of strings.  Reduce the texts to a string of\n   * hashes where each Unicode character represents one line.\n   * Modifies linearray and linehash through being a closure.\n   * @param {string} text String to encode.\n   * @return {string} Encoded string.\n   * @private\n   */\n  function diff_linesToCharsMunge_(text) {\n    var chars = '';\n    // Walk the text, pulling out a substring for each line.\n    // text.split('\\n') would would temporarily double our memory footprint.\n    // Modifying text would create many large strings to garbage collect.\n    var lineStart = 0;\n    var lineEnd = -1;\n    // Keeping our own length variable is faster than looking it up.\n    var lineArrayLength = lineArray.length;\n    while (lineEnd < text.length - 1) {\n      lineEnd = text.indexOf('\\n', lineStart);\n      if (lineEnd == -1) {\n        lineEnd = text.length - 1;\n      }\n      var line = text.substring(lineStart, lineEnd + 1);\n\n      if (lineHash.hasOwnProperty ? lineHash.hasOwnProperty(line) :\n          (lineHash[line] !== undefined)) {\n        chars += String.fromCharCode(lineHash[line]);\n      } else {\n        if (lineArrayLength == maxLines) {\n          // Bail out at 65535 because\n          // String.fromCharCode(65536) == String.fromCharCode(0)\n          line = text.substring(lineStart);\n          lineEnd = text.length;\n        }\n        chars += String.fromCharCode(lineArrayLength);\n        lineHash[line] = lineArrayLength;\n        lineArray[lineArrayLength++] = line;\n      }\n      lineStart = lineEnd + 1;\n    }\n    return chars;\n  }\n  // Allocate 2/3rds of the space for text1, the rest for text2.\n  var maxLines = 40000;\n  var chars1 = diff_linesToCharsMunge_(text1);\n  maxLines = 65535;\n  var chars2 = diff_linesToCharsMunge_(text2);\n  return {chars1: chars1, chars2: chars2, lineArray: lineArray};\n};\n\n\n/**\n * Rehydrate the text in a diff from a string of line hashes to real lines of\n * text.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n * @param {!Array.<string>} lineArray Array of unique strings.\n * @private\n */\ndiff_match_patch.prototype.diff_charsToLines_ = function(diffs, lineArray) {\n  for (var i = 0; i < diffs.length; i++) {\n    var chars = diffs[i][1];\n    var text = [];\n    for (var j = 0; j < chars.length; j++) {\n      text[j] = lineArray[chars.charCodeAt(j)];\n    }\n    diffs[i][1] = text.join('');\n  }\n};\n\n\n/**\n * Determine the common prefix of two strings.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {number} The number of characters common to the start of each\n *     string.\n */\ndiff_match_patch.prototype.diff_commonPrefix = function(text1, text2) {\n  // Quick check for common null cases.\n  if (!text1 || !text2 || text1.charAt(0) != text2.charAt(0)) {\n    return 0;\n  }\n  // Binary search.\n  // Performance analysis: https://neil.fraser.name/news/2007/10/09/\n  var pointermin = 0;\n  var pointermax = Math.min(text1.length, text2.length);\n  var pointermid = pointermax;\n  var pointerstart = 0;\n  while (pointermin < pointermid) {\n    if (text1.substring(pointerstart, pointermid) ==\n        text2.substring(pointerstart, pointermid)) {\n      pointermin = pointermid;\n      pointerstart = pointermin;\n    } else {\n      pointermax = pointermid;\n    }\n    pointermid = Math.floor((pointermax - pointermin) / 2 + pointermin);\n  }\n  return pointermid;\n};\n\n\n/**\n * Determine the common suffix of two strings.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {number} The number of characters common to the end of each string.\n */\ndiff_match_patch.prototype.diff_commonSuffix = function(text1, text2) {\n  // Quick check for common null cases.\n  if (!text1 || !text2 ||\n      text1.charAt(text1.length - 1) != text2.charAt(text2.length - 1)) {\n    return 0;\n  }\n  // Binary search.\n  // Performance analysis: https://neil.fraser.name/news/2007/10/09/\n  var pointermin = 0;\n  var pointermax = Math.min(text1.length, text2.length);\n  var pointermid = pointermax;\n  var pointerend = 0;\n  while (pointermin < pointermid) {\n    if (text1.substring(text1.length - pointermid, text1.length - pointerend) ==\n        text2.substring(text2.length - pointermid, text2.length - pointerend)) {\n      pointermin = pointermid;\n      pointerend = pointermin;\n    } else {\n      pointermax = pointermid;\n    }\n    pointermid = Math.floor((pointermax - pointermin) / 2 + pointermin);\n  }\n  return pointermid;\n};\n\n\n/**\n * Determine if the suffix of one string is the prefix of another.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {number} The number of characters common to the end of the first\n *     string and the start of the second string.\n * @private\n */\ndiff_match_patch.prototype.diff_commonOverlap_ = function(text1, text2) {\n  // Cache the text lengths to prevent multiple calls.\n  var text1_length = text1.length;\n  var text2_length = text2.length;\n  // Eliminate the null case.\n  if (text1_length == 0 || text2_length == 0) {\n    return 0;\n  }\n  // Truncate the longer string.\n  if (text1_length > text2_length) {\n    text1 = text1.substring(text1_length - text2_length);\n  } else if (text1_length < text2_length) {\n    text2 = text2.substring(0, text1_length);\n  }\n  var text_length = Math.min(text1_length, text2_length);\n  // Quick check for the worst case.\n  if (text1 == text2) {\n    return text_length;\n  }\n\n  // Start by looking for a single character match\n  // and increase length until no match is found.\n  // Performance analysis: https://neil.fraser.name/news/2010/11/04/\n  var best = 0;\n  var length = 1;\n  while (true) {\n    var pattern = text1.substring(text_length - length);\n    var found = text2.indexOf(pattern);\n    if (found == -1) {\n      return best;\n    }\n    length += found;\n    if (found == 0 || text1.substring(text_length - length) ==\n        text2.substring(0, length)) {\n      best = length;\n      length++;\n    }\n  }\n};\n\n\n/**\n * Do the two texts share a substring which is at least half the length of the\n * longer text?\n * This speedup can produce non-minimal diffs.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {Array.<string>} Five element Array, containing the prefix of\n *     text1, the suffix of text1, the prefix of text2, the suffix of\n *     text2 and the common middle.  Or null if there was no match.\n * @private\n */\ndiff_match_patch.prototype.diff_halfMatch_ = function(text1, text2) {\n  if (this.Diff_Timeout <= 0) {\n    // Don't risk returning a non-optimal diff if we have unlimited time.\n    return null;\n  }\n  var longtext = text1.length > text2.length ? text1 : text2;\n  var shorttext = text1.length > text2.length ? text2 : text1;\n  if (longtext.length < 4 || shorttext.length * 2 < longtext.length) {\n    return null;  // Pointless.\n  }\n  var dmp = this;  // 'this' becomes 'window' in a closure.\n\n  /**\n   * Does a substring of shorttext exist within longtext such that the substring\n   * is at least half the length of longtext?\n   * Closure, but does not reference any external variables.\n   * @param {string} longtext Longer string.\n   * @param {string} shorttext Shorter string.\n   * @param {number} i Start index of quarter length substring within longtext.\n   * @return {Array.<string>} Five element Array, containing the prefix of\n   *     longtext, the suffix of longtext, the prefix of shorttext, the suffix\n   *     of shorttext and the common middle.  Or null if there was no match.\n   * @private\n   */\n  function diff_halfMatchI_(longtext, shorttext, i) {\n    // Start with a 1/4 length substring at position i as a seed.\n    var seed = longtext.substring(i, i + Math.floor(longtext.length / 4));\n    var j = -1;\n    var best_common = '';\n    var best_longtext_a, best_longtext_b, best_shorttext_a, best_shorttext_b;\n    while ((j = shorttext.indexOf(seed, j + 1)) != -1) {\n      var prefixLength = dmp.diff_commonPrefix(longtext.substring(i),\n                                               shorttext.substring(j));\n      var suffixLength = dmp.diff_commonSuffix(longtext.substring(0, i),\n                                               shorttext.substring(0, j));\n      if (best_common.length < suffixLength + prefixLength) {\n        best_common = shorttext.substring(j - suffixLength, j) +\n            shorttext.substring(j, j + prefixLength);\n        best_longtext_a = longtext.substring(0, i - suffixLength);\n        best_longtext_b = longtext.substring(i + prefixLength);\n        best_shorttext_a = shorttext.substring(0, j - suffixLength);\n        best_shorttext_b = shorttext.substring(j + prefixLength);\n      }\n    }\n    if (best_common.length * 2 >= longtext.length) {\n      return [best_longtext_a, best_longtext_b,\n              best_shorttext_a, best_shorttext_b, best_common];\n    } else {\n      return null;\n    }\n  }\n\n  // First check if the second quarter is the seed for a half-match.\n  var hm1 = diff_halfMatchI_(longtext, shorttext,\n                             Math.ceil(longtext.length / 4));\n  // Check again based on the third quarter.\n  var hm2 = diff_halfMatchI_(longtext, shorttext,\n                             Math.ceil(longtext.length / 2));\n  var hm;\n  if (!hm1 && !hm2) {\n    return null;\n  } else if (!hm2) {\n    hm = hm1;\n  } else if (!hm1) {\n    hm = hm2;\n  } else {\n    // Both matched.  Select the longest.\n    hm = hm1[4].length > hm2[4].length ? hm1 : hm2;\n  }\n\n  // A half-match was found, sort out the return data.\n  var text1_a, text1_b, text2_a, text2_b;\n  if (text1.length > text2.length) {\n    text1_a = hm[0];\n    text1_b = hm[1];\n    text2_a = hm[2];\n    text2_b = hm[3];\n  } else {\n    text2_a = hm[0];\n    text2_b = hm[1];\n    text1_a = hm[2];\n    text1_b = hm[3];\n  }\n  var mid_common = hm[4];\n  return [text1_a, text1_b, text2_a, text2_b, mid_common];\n};\n\n\n/**\n * Reduce the number of edits by eliminating semantically trivial equalities.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n */\ndiff_match_patch.prototype.diff_cleanupSemantic = function(diffs) {\n  var changes = false;\n  var equalities = [];  // Stack of indices where equalities are found.\n  var equalitiesLength = 0;  // Keeping our own length var is faster in JS.\n  /** @type {?string} */\n  var lastEquality = null;\n  // Always equal to diffs[equalities[equalitiesLength - 1]][1]\n  var pointer = 0;  // Index of current position.\n  // Number of characters that changed prior to the equality.\n  var length_insertions1 = 0;\n  var length_deletions1 = 0;\n  // Number of characters that changed after the equality.\n  var length_insertions2 = 0;\n  var length_deletions2 = 0;\n  while (pointer < diffs.length) {\n    if (diffs[pointer][0] == DIFF_EQUAL) {  // Equality found.\n      equalities[equalitiesLength++] = pointer;\n      length_insertions1 = length_insertions2;\n      length_deletions1 = length_deletions2;\n      length_insertions2 = 0;\n      length_deletions2 = 0;\n      lastEquality = diffs[pointer][1];\n    } else {  // An insertion or deletion.\n      if (diffs[pointer][0] == DIFF_INSERT) {\n        length_insertions2 += diffs[pointer][1].length;\n      } else {\n        length_deletions2 += diffs[pointer][1].length;\n      }\n      // Eliminate an equality that is smaller or equal to the edits on both\n      // sides of it.\n      if (lastEquality && (lastEquality.length <=\n          Math.max(length_insertions1, length_deletions1)) &&\n          (lastEquality.length <= Math.max(length_insertions2,\n                                           length_deletions2))) {\n        // Duplicate record.\n        diffs.splice(equalities[equalitiesLength - 1], 0,\n                     new diff_match_patch.Diff(DIFF_DELETE, lastEquality));\n        // Change second copy to insert.\n        diffs[equalities[equalitiesLength - 1] + 1][0] = DIFF_INSERT;\n        // Throw away the equality we just deleted.\n        equalitiesLength--;\n        // Throw away the previous equality (it needs to be reevaluated).\n        equalitiesLength--;\n        pointer = equalitiesLength > 0 ? equalities[equalitiesLength - 1] : -1;\n        length_insertions1 = 0;  // Reset the counters.\n        length_deletions1 = 0;\n        length_insertions2 = 0;\n        length_deletions2 = 0;\n        lastEquality = null;\n        changes = true;\n      }\n    }\n    pointer++;\n  }\n\n  // Normalize the diff.\n  if (changes) {\n    this.diff_cleanupMerge(diffs);\n  }\n  this.diff_cleanupSemanticLossless(diffs);\n\n  // Find any overlaps between deletions and insertions.\n  // e.g: <del>abcxxx</del><ins>xxxdef</ins>\n  //   -> <del>abc</del>xxx<ins>def</ins>\n  // e.g: <del>xxxabc</del><ins>defxxx</ins>\n  //   -> <ins>def</ins>xxx<del>abc</del>\n  // Only extract an overlap if it is as big as the edit ahead or behind it.\n  pointer = 1;\n  while (pointer < diffs.length) {\n    if (diffs[pointer - 1][0] == DIFF_DELETE &&\n        diffs[pointer][0] == DIFF_INSERT) {\n      var deletion = diffs[pointer - 1][1];\n      var insertion = diffs[pointer][1];\n      var overlap_length1 = this.diff_commonOverlap_(deletion, insertion);\n      var overlap_length2 = this.diff_commonOverlap_(insertion, deletion);\n      if (overlap_length1 >= overlap_length2) {\n        if (overlap_length1 >= deletion.length / 2 ||\n            overlap_length1 >= insertion.length / 2) {\n          // Overlap found.  Insert an equality and trim the surrounding edits.\n          diffs.splice(pointer, 0, new diff_match_patch.Diff(DIFF_EQUAL,\n              insertion.substring(0, overlap_length1)));\n          diffs[pointer - 1][1] =\n              deletion.substring(0, deletion.length - overlap_length1);\n          diffs[pointer + 1][1] = insertion.substring(overlap_length1);\n          pointer++;\n        }\n      } else {\n        if (overlap_length2 >= deletion.length / 2 ||\n            overlap_length2 >= insertion.length / 2) {\n          // Reverse overlap found.\n          // Insert an equality and swap and trim the surrounding edits.\n          diffs.splice(pointer, 0, new diff_match_patch.Diff(DIFF_EQUAL,\n              deletion.substring(0, overlap_length2)));\n          diffs[pointer - 1][0] = DIFF_INSERT;\n          diffs[pointer - 1][1] =\n              insertion.substring(0, insertion.length - overlap_length2);\n          diffs[pointer + 1][0] = DIFF_DELETE;\n          diffs[pointer + 1][1] =\n              deletion.substring(overlap_length2);\n          pointer++;\n        }\n      }\n      pointer++;\n    }\n    pointer++;\n  }\n};\n\n\n/**\n * Look for single edits surrounded on both sides by equalities\n * which can be shifted sideways to align the edit to a word boundary.\n * e.g: The c<ins>at c</ins>ame. -> The <ins>cat </ins>came.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n */\ndiff_match_patch.prototype.diff_cleanupSemanticLossless = function(diffs) {\n  /**\n   * Given two strings, compute a score representing whether the internal\n   * boundary falls on logical boundaries.\n   * Scores range from 6 (best) to 0 (worst).\n   * Closure, but does not reference any external variables.\n   * @param {string} one First string.\n   * @param {string} two Second string.\n   * @return {number} The score.\n   * @private\n   */\n  function diff_cleanupSemanticScore_(one, two) {\n    if (!one || !two) {\n      // Edges are the best.\n      return 6;\n    }\n\n    // Each port of this function behaves slightly differently due to\n    // subtle differences in each language's definition of things like\n    // 'whitespace'.  Since this function's purpose is largely cosmetic,\n    // the choice has been made to use each language's native features\n    // rather than force total conformity.\n    var char1 = one.charAt(one.length - 1);\n    var char2 = two.charAt(0);\n    var nonAlphaNumeric1 = char1.match(diff_match_patch.nonAlphaNumericRegex_);\n    var nonAlphaNumeric2 = char2.match(diff_match_patch.nonAlphaNumericRegex_);\n    var whitespace1 = nonAlphaNumeric1 &&\n        char1.match(diff_match_patch.whitespaceRegex_);\n    var whitespace2 = nonAlphaNumeric2 &&\n        char2.match(diff_match_patch.whitespaceRegex_);\n    var lineBreak1 = whitespace1 &&\n        char1.match(diff_match_patch.linebreakRegex_);\n    var lineBreak2 = whitespace2 &&\n        char2.match(diff_match_patch.linebreakRegex_);\n    var blankLine1 = lineBreak1 &&\n        one.match(diff_match_patch.blanklineEndRegex_);\n    var blankLine2 = lineBreak2 &&\n        two.match(diff_match_patch.blanklineStartRegex_);\n\n    if (blankLine1 || blankLine2) {\n      // Five points for blank lines.\n      return 5;\n    } else if (lineBreak1 || lineBreak2) {\n      // Four points for line breaks.\n      return 4;\n    } else if (nonAlphaNumeric1 && !whitespace1 && whitespace2) {\n      // Three points for end of sentences.\n      return 3;\n    } else if (whitespace1 || whitespace2) {\n      // Two points for whitespace.\n      return 2;\n    } else if (nonAlphaNumeric1 || nonAlphaNumeric2) {\n      // One point for non-alphanumeric.\n      return 1;\n    }\n    return 0;\n  }\n\n  var pointer = 1;\n  // Intentionally ignore the first and last element (don't need checking).\n  while (pointer < diffs.length - 1) {\n    if (diffs[pointer - 1][0] == DIFF_EQUAL &&\n        diffs[pointer + 1][0] == DIFF_EQUAL) {\n      // This is a single edit surrounded by equalities.\n      var equality1 = diffs[pointer - 1][1];\n      var edit = diffs[pointer][1];\n      var equality2 = diffs[pointer + 1][1];\n\n      // First, shift the edit as far left as possible.\n      var commonOffset = this.diff_commonSuffix(equality1, edit);\n      if (commonOffset) {\n        var commonString = edit.substring(edit.length - commonOffset);\n        equality1 = equality1.substring(0, equality1.length - commonOffset);\n        edit = commonString + edit.substring(0, edit.length - commonOffset);\n        equality2 = commonString + equality2;\n      }\n\n      // Second, step character by character right, looking for the best fit.\n      var bestEquality1 = equality1;\n      var bestEdit = edit;\n      var bestEquality2 = equality2;\n      var bestScore = diff_cleanupSemanticScore_(equality1, edit) +\n          diff_cleanupSemanticScore_(edit, equality2);\n      while (edit.charAt(0) === equality2.charAt(0)) {\n        equality1 += edit.charAt(0);\n        edit = edit.substring(1) + equality2.charAt(0);\n        equality2 = equality2.substring(1);\n        var score = diff_cleanupSemanticScore_(equality1, edit) +\n            diff_cleanupSemanticScore_(edit, equality2);\n        // The >= encourages trailing rather than leading whitespace on edits.\n        if (score >= bestScore) {\n          bestScore = score;\n          bestEquality1 = equality1;\n          bestEdit = edit;\n          bestEquality2 = equality2;\n        }\n      }\n\n      if (diffs[pointer - 1][1] != bestEquality1) {\n        // We have an improvement, save it back to the diff.\n        if (bestEquality1) {\n          diffs[pointer - 1][1] = bestEquality1;\n        } else {\n          diffs.splice(pointer - 1, 1);\n          pointer--;\n        }\n        diffs[pointer][1] = bestEdit;\n        if (bestEquality2) {\n          diffs[pointer + 1][1] = bestEquality2;\n        } else {\n          diffs.splice(pointer + 1, 1);\n          pointer--;\n        }\n      }\n    }\n    pointer++;\n  }\n};\n\n// Define some regex patterns for matching boundaries.\ndiff_match_patch.nonAlphaNumericRegex_ = /[^a-zA-Z0-9]/;\ndiff_match_patch.whitespaceRegex_ = /\\s/;\ndiff_match_patch.linebreakRegex_ = /[\\r\\n]/;\ndiff_match_patch.blanklineEndRegex_ = /\\n\\r?\\n$/;\ndiff_match_patch.blanklineStartRegex_ = /^\\r?\\n\\r?\\n/;\n\n/**\n * Reduce the number of edits by eliminating operationally trivial equalities.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n */\ndiff_match_patch.prototype.diff_cleanupEfficiency = function(diffs) {\n  var changes = false;\n  var equalities = [];  // Stack of indices where equalities are found.\n  var equalitiesLength = 0;  // Keeping our own length var is faster in JS.\n  /** @type {?string} */\n  var lastEquality = null;\n  // Always equal to diffs[equalities[equalitiesLength - 1]][1]\n  var pointer = 0;  // Index of current position.\n  // Is there an insertion operation before the last equality.\n  var pre_ins = false;\n  // Is there a deletion operation before the last equality.\n  var pre_del = false;\n  // Is there an insertion operation after the last equality.\n  var post_ins = false;\n  // Is there a deletion operation after the last equality.\n  var post_del = false;\n  while (pointer < diffs.length) {\n    if (diffs[pointer][0] == DIFF_EQUAL) {  // Equality found.\n      if (diffs[pointer][1].length < this.Diff_EditCost &&\n          (post_ins || post_del)) {\n        // Candidate found.\n        equalities[equalitiesLength++] = pointer;\n        pre_ins = post_ins;\n        pre_del = post_del;\n        lastEquality = diffs[pointer][1];\n      } else {\n        // Not a candidate, and can never become one.\n        equalitiesLength = 0;\n        lastEquality = null;\n      }\n      post_ins = post_del = false;\n    } else {  // An insertion or deletion.\n      if (diffs[pointer][0] == DIFF_DELETE) {\n        post_del = true;\n      } else {\n        post_ins = true;\n      }\n      /*\n       * Five types to be split:\n       * <ins>A</ins><del>B</del>XY<ins>C</ins><del>D</del>\n       * <ins>A</ins>X<ins>C</ins><del>D</del>\n       * <ins>A</ins><del>B</del>X<ins>C</ins>\n       * <ins>A</del>X<ins>C</ins><del>D</del>\n       * <ins>A</ins><del>B</del>X<del>C</del>\n       */\n      if (lastEquality && ((pre_ins && pre_del && post_ins && post_del) ||\n                           ((lastEquality.length < this.Diff_EditCost / 2) &&\n                            (pre_ins + pre_del + post_ins + post_del) == 3))) {\n        // Duplicate record.\n        diffs.splice(equalities[equalitiesLength - 1], 0,\n                     new diff_match_patch.Diff(DIFF_DELETE, lastEquality));\n        // Change second copy to insert.\n        diffs[equalities[equalitiesLength - 1] + 1][0] = DIFF_INSERT;\n        equalitiesLength--;  // Throw away the equality we just deleted;\n        lastEquality = null;\n        if (pre_ins && pre_del) {\n          // No changes made which could affect previous entry, keep going.\n          post_ins = post_del = true;\n          equalitiesLength = 0;\n        } else {\n          equalitiesLength--;  // Throw away the previous equality.\n          pointer = equalitiesLength > 0 ?\n              equalities[equalitiesLength - 1] : -1;\n          post_ins = post_del = false;\n        }\n        changes = true;\n      }\n    }\n    pointer++;\n  }\n\n  if (changes) {\n    this.diff_cleanupMerge(diffs);\n  }\n};\n\n\n/**\n * Reorder and merge like edit sections.  Merge equalities.\n * Any edit section can move as long as it doesn't cross an equality.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n */\ndiff_match_patch.prototype.diff_cleanupMerge = function(diffs) {\n  // Add a dummy entry at the end.\n  diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, ''));\n  var pointer = 0;\n  var count_delete = 0;\n  var count_insert = 0;\n  var text_delete = '';\n  var text_insert = '';\n  var commonlength;\n  while (pointer < diffs.length) {\n    switch (diffs[pointer][0]) {\n      case DIFF_INSERT:\n        count_insert++;\n        text_insert += diffs[pointer][1];\n        pointer++;\n        break;\n      case DIFF_DELETE:\n        count_delete++;\n        text_delete += diffs[pointer][1];\n        pointer++;\n        break;\n      case DIFF_EQUAL:\n        // Upon reaching an equality, check for prior redundancies.\n        if (count_delete + count_insert > 1) {\n          if (count_delete !== 0 && count_insert !== 0) {\n            // Factor out any common prefixies.\n            commonlength = this.diff_commonPrefix(text_insert, text_delete);\n            if (commonlength !== 0) {\n              if ((pointer - count_delete - count_insert) > 0 &&\n                  diffs[pointer - count_delete - count_insert - 1][0] ==\n                  DIFF_EQUAL) {\n                diffs[pointer - count_delete - count_insert - 1][1] +=\n                    text_insert.substring(0, commonlength);\n              } else {\n                diffs.splice(0, 0, new diff_match_patch.Diff(DIFF_EQUAL,\n                    text_insert.substring(0, commonlength)));\n                pointer++;\n              }\n              text_insert = text_insert.substring(commonlength);\n              text_delete = text_delete.substring(commonlength);\n            }\n            // Factor out any common suffixies.\n            commonlength = this.diff_commonSuffix(text_insert, text_delete);\n            if (commonlength !== 0) {\n              diffs[pointer][1] = text_insert.substring(text_insert.length -\n                  commonlength) + diffs[pointer][1];\n              text_insert = text_insert.substring(0, text_insert.length -\n                  commonlength);\n              text_delete = text_delete.substring(0, text_delete.length -\n                  commonlength);\n            }\n          }\n          // Delete the offending records and add the merged ones.\n          pointer -= count_delete + count_insert;\n          diffs.splice(pointer, count_delete + count_insert);\n          if (text_delete.length) {\n            diffs.splice(pointer, 0,\n                new diff_match_patch.Diff(DIFF_DELETE, text_delete));\n            pointer++;\n          }\n          if (text_insert.length) {\n            diffs.splice(pointer, 0,\n                new diff_match_patch.Diff(DIFF_INSERT, text_insert));\n            pointer++;\n          }\n          pointer++;\n        } else if (pointer !== 0 && diffs[pointer - 1][0] == DIFF_EQUAL) {\n          // Merge this equality with the previous one.\n          diffs[pointer - 1][1] += diffs[pointer][1];\n          diffs.splice(pointer, 1);\n        } else {\n          pointer++;\n        }\n        count_insert = 0;\n        count_delete = 0;\n        text_delete = '';\n        text_insert = '';\n        break;\n    }\n  }\n  if (diffs[diffs.length - 1][1] === '') {\n    diffs.pop();  // Remove the dummy entry at the end.\n  }\n\n  // Second pass: look for single edits surrounded on both sides by equalities\n  // which can be shifted sideways to eliminate an equality.\n  // e.g: A<ins>BA</ins>C -> <ins>AB</ins>AC\n  var changes = false;\n  pointer = 1;\n  // Intentionally ignore the first and last element (don't need checking).\n  while (pointer < diffs.length - 1) {\n    if (diffs[pointer - 1][0] == DIFF_EQUAL &&\n        diffs[pointer + 1][0] == DIFF_EQUAL) {\n      // This is a single edit surrounded by equalities.\n      if (diffs[pointer][1].substring(diffs[pointer][1].length -\n          diffs[pointer - 1][1].length) == diffs[pointer - 1][1]) {\n        // Shift the edit over the previous equality.\n        diffs[pointer][1] = diffs[pointer - 1][1] +\n            diffs[pointer][1].substring(0, diffs[pointer][1].length -\n                                        diffs[pointer - 1][1].length);\n        diffs[pointer + 1][1] = diffs[pointer - 1][1] + diffs[pointer + 1][1];\n        diffs.splice(pointer - 1, 1);\n        changes = true;\n      } else if (diffs[pointer][1].substring(0, diffs[pointer + 1][1].length) ==\n          diffs[pointer + 1][1]) {\n        // Shift the edit over the next equality.\n        diffs[pointer - 1][1] += diffs[pointer + 1][1];\n        diffs[pointer][1] =\n            diffs[pointer][1].substring(diffs[pointer + 1][1].length) +\n            diffs[pointer + 1][1];\n        diffs.splice(pointer + 1, 1);\n        changes = true;\n      }\n    }\n    pointer++;\n  }\n  // If shifts were made, the diff needs reordering and another shift sweep.\n  if (changes) {\n    this.diff_cleanupMerge(diffs);\n  }\n};\n\n\n/**\n * loc is a location in text1, compute and return the equivalent location in\n * text2.\n * e.g. 'The cat' vs 'The big cat', 1->1, 5->8\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n * @param {number} loc Location within text1.\n * @return {number} Location within text2.\n */\ndiff_match_patch.prototype.diff_xIndex = function(diffs, loc) {\n  var chars1 = 0;\n  var chars2 = 0;\n  var last_chars1 = 0;\n  var last_chars2 = 0;\n  var x;\n  for (x = 0; x < diffs.length; x++) {\n    if (diffs[x][0] !== DIFF_INSERT) {  // Equality or deletion.\n      chars1 += diffs[x][1].length;\n    }\n    if (diffs[x][0] !== DIFF_DELETE) {  // Equality or insertion.\n      chars2 += diffs[x][1].length;\n    }\n    if (chars1 > loc) {  // Overshot the location.\n      break;\n    }\n    last_chars1 = chars1;\n    last_chars2 = chars2;\n  }\n  // Was the location was deleted?\n  if (diffs.length != x && diffs[x][0] === DIFF_DELETE) {\n    return last_chars2;\n  }\n  // Add the remaining character length.\n  return last_chars2 + (loc - last_chars1);\n};\n\n\n/**\n * Convert a diff array into a pretty HTML report.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n * @return {string} HTML representation.\n */\ndiff_match_patch.prototype.diff_prettyHtml = function(diffs) {\n  var html = [];\n  var pattern_amp = /&/g;\n  var pattern_lt = /</g;\n  var pattern_gt = />/g;\n  var pattern_para = /\\n/g;\n  for (var x = 0; x < diffs.length; x++) {\n    var op = diffs[x][0];    // Operation (insert, delete, equal)\n    var data = diffs[x][1];  // Text of change.\n    var text = data.replace(pattern_amp, '&amp;').replace(pattern_lt, '&lt;')\n        .replace(pattern_gt, '&gt;').replace(pattern_para, '&para;<br>');\n    switch (op) {\n      case DIFF_INSERT:\n        html[x] = '<ins style=\"background:#e6ffe6;\">' + text + '</ins>';\n        break;\n      case DIFF_DELETE:\n        html[x] = '<del style=\"background:#ffe6e6;\">' + text + '</del>';\n        break;\n      case DIFF_EQUAL:\n        html[x] = '<span>' + text + '</span>';\n        break;\n    }\n  }\n  return html.join('');\n};\n\n\n/**\n * Compute and return the source text (all equalities and deletions).\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n * @return {string} Source text.\n */\ndiff_match_patch.prototype.diff_text1 = function(diffs) {\n  var text = [];\n  for (var x = 0; x < diffs.length; x++) {\n    if (diffs[x][0] !== DIFF_INSERT) {\n      text[x] = diffs[x][1];\n    }\n  }\n  return text.join('');\n};\n\n\n/**\n * Compute and return the destination text (all equalities and insertions).\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n * @return {string} Destination text.\n */\ndiff_match_patch.prototype.diff_text2 = function(diffs) {\n  var text = [];\n  for (var x = 0; x < diffs.length; x++) {\n    if (diffs[x][0] !== DIFF_DELETE) {\n      text[x] = diffs[x][1];\n    }\n  }\n  return text.join('');\n};\n\n\n/**\n * Compute the Levenshtein distance; the number of inserted, deleted or\n * substituted characters.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n * @return {number} Number of changes.\n */\ndiff_match_patch.prototype.diff_levenshtein = function(diffs) {\n  var levenshtein = 0;\n  var insertions = 0;\n  var deletions = 0;\n  for (var x = 0; x < diffs.length; x++) {\n    var op = diffs[x][0];\n    var data = diffs[x][1];\n    switch (op) {\n      case DIFF_INSERT:\n        insertions += data.length;\n        break;\n      case DIFF_DELETE:\n        deletions += data.length;\n        break;\n      case DIFF_EQUAL:\n        // A deletion and an insertion is one substitution.\n        levenshtein += Math.max(insertions, deletions);\n        insertions = 0;\n        deletions = 0;\n        break;\n    }\n  }\n  levenshtein += Math.max(insertions, deletions);\n  return levenshtein;\n};\n\n\n/**\n * Crush the diff into an encoded string which describes the operations\n * required to transform text1 into text2.\n * E.g. =3\\t-2\\t+ing  -> Keep 3 chars, delete 2 chars, insert 'ing'.\n * Operations are tab-separated.  Inserted text is escaped using %xx notation.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n * @return {string} Delta text.\n */\ndiff_match_patch.prototype.diff_toDelta = function(diffs) {\n  var text = [];\n  for (var x = 0; x < diffs.length; x++) {\n    switch (diffs[x][0]) {\n      case DIFF_INSERT:\n        text[x] = '+' + encodeURI(diffs[x][1]);\n        break;\n      case DIFF_DELETE:\n        text[x] = '-' + diffs[x][1].length;\n        break;\n      case DIFF_EQUAL:\n        text[x] = '=' + diffs[x][1].length;\n        break;\n    }\n  }\n  return text.join('\\t').replace(/%20/g, ' ');\n};\n\n\n/**\n * Given the original text1, and an encoded string which describes the\n * operations required to transform text1 into text2, compute the full diff.\n * @param {string} text1 Source string for the diff.\n * @param {string} delta Delta text.\n * @return {!Array.<!diff_match_patch.Diff>} Array of diff tuples.\n * @throws {!Error} If invalid input.\n */\ndiff_match_patch.prototype.diff_fromDelta = function(text1, delta) {\n  var diffs = [];\n  var diffsLength = 0;  // Keeping our own length var is faster in JS.\n  var pointer = 0;  // Cursor in text1\n  var tokens = delta.split(/\\t/g);\n  for (var x = 0; x < tokens.length; x++) {\n    // Each token begins with a one character parameter which specifies the\n    // operation of this token (delete, insert, equality).\n    var param = tokens[x].substring(1);\n    switch (tokens[x].charAt(0)) {\n      case '+':\n        try {\n          diffs[diffsLength++] =\n              new diff_match_patch.Diff(DIFF_INSERT, decodeURI(param));\n        } catch (ex) {\n          // Malformed URI sequence.\n          throw new Error('Illegal escape in diff_fromDelta: ' + param);\n        }\n        break;\n      case '-':\n        // Fall through.\n      case '=':\n        var n = parseInt(param, 10);\n        if (isNaN(n) || n < 0) {\n          throw new Error('Invalid number in diff_fromDelta: ' + param);\n        }\n        var text = text1.substring(pointer, pointer += n);\n        if (tokens[x].charAt(0) == '=') {\n          diffs[diffsLength++] = new diff_match_patch.Diff(DIFF_EQUAL, text);\n        } else {\n          diffs[diffsLength++] = new diff_match_patch.Diff(DIFF_DELETE, text);\n        }\n        break;\n      default:\n        // Blank tokens are ok (from a trailing \\t).\n        // Anything else is an error.\n        if (tokens[x]) {\n          throw new Error('Invalid diff operation in diff_fromDelta: ' +\n                          tokens[x]);\n        }\n    }\n  }\n  if (pointer != text1.length) {\n    throw new Error('Delta length (' + pointer +\n        ') does not equal source text length (' + text1.length + ').');\n  }\n  return diffs;\n};\n\n\n//  MATCH FUNCTIONS\n\n\n/**\n * Locate the best instance of 'pattern' in 'text' near 'loc'.\n * @param {string} text The text to search.\n * @param {string} pattern The pattern to search for.\n * @param {number} loc The location to search around.\n * @return {number} Best match index or -1.\n */\ndiff_match_patch.prototype.match_main = function(text, pattern, loc) {\n  // Check for null inputs.\n  if (text == null || pattern == null || loc == null) {\n    throw new Error('Null input. (match_main)');\n  }\n\n  loc = Math.max(0, Math.min(loc, text.length));\n  if (text == pattern) {\n    // Shortcut (potentially not guaranteed by the algorithm)\n    return 0;\n  } else if (!text.length) {\n    // Nothing to match.\n    return -1;\n  } else if (text.substring(loc, loc + pattern.length) == pattern) {\n    // Perfect match at the perfect spot!  (Includes case of null pattern)\n    return loc;\n  } else {\n    // Do a fuzzy compare.\n    return this.match_bitap_(text, pattern, loc);\n  }\n};\n\n\n/**\n * Locate the best instance of 'pattern' in 'text' near 'loc' using the\n * Bitap algorithm.\n * @param {string} text The text to search.\n * @param {string} pattern The pattern to search for.\n * @param {number} loc The location to search around.\n * @return {number} Best match index or -1.\n * @private\n */\ndiff_match_patch.prototype.match_bitap_ = function(text, pattern, loc) {\n  if (pattern.length > this.Match_MaxBits) {\n    throw new Error('Pattern too long for this browser.');\n  }\n\n  // Initialise the alphabet.\n  var s = this.match_alphabet_(pattern);\n\n  var dmp = this;  // 'this' becomes 'window' in a closure.\n\n  /**\n   * Compute and return the score for a match with e errors and x location.\n   * Accesses loc and pattern through being a closure.\n   * @param {number} e Number of errors in match.\n   * @param {number} x Location of match.\n   * @return {number} Overall score for match (0.0 = good, 1.0 = bad).\n   * @private\n   */\n  function match_bitapScore_(e, x) {\n    var accuracy = e / pattern.length;\n    var proximity = Math.abs(loc - x);\n    if (!dmp.Match_Distance) {\n      // Dodge divide by zero error.\n      return proximity ? 1.0 : accuracy;\n    }\n    return accuracy + (proximity / dmp.Match_Distance);\n  }\n\n  // Highest score beyond which we give up.\n  var score_threshold = this.Match_Threshold;\n  // Is there a nearby exact match? (speedup)\n  var best_loc = text.indexOf(pattern, loc);\n  if (best_loc != -1) {\n    score_threshold = Math.min(match_bitapScore_(0, best_loc), score_threshold);\n    // What about in the other direction? (speedup)\n    best_loc = text.lastIndexOf(pattern, loc + pattern.length);\n    if (best_loc != -1) {\n      score_threshold =\n          Math.min(match_bitapScore_(0, best_loc), score_threshold);\n    }\n  }\n\n  // Initialise the bit arrays.\n  var matchmask = 1 << (pattern.length - 1);\n  best_loc = -1;\n\n  var bin_min, bin_mid;\n  var bin_max = pattern.length + text.length;\n  var last_rd;\n  for (var d = 0; d < pattern.length; d++) {\n    // Scan for the best match; each iteration allows for one more error.\n    // Run a binary search to determine how far from 'loc' we can stray at this\n    // error level.\n    bin_min = 0;\n    bin_mid = bin_max;\n    while (bin_min < bin_mid) {\n      if (match_bitapScore_(d, loc + bin_mid) <= score_threshold) {\n        bin_min = bin_mid;\n      } else {\n        bin_max = bin_mid;\n      }\n      bin_mid = Math.floor((bin_max - bin_min) / 2 + bin_min);\n    }\n    // Use the result from this iteration as the maximum for the next.\n    bin_max = bin_mid;\n    var start = Math.max(1, loc - bin_mid + 1);\n    var finish = Math.min(loc + bin_mid, text.length) + pattern.length;\n\n    var rd = Array(finish + 2);\n    rd[finish + 1] = (1 << d) - 1;\n    for (var j = finish; j >= start; j--) {\n      // The alphabet (s) is a sparse hash, so the following line generates\n      // warnings.\n      var charMatch = s[text.charAt(j - 1)];\n      if (d === 0) {  // First pass: exact match.\n        rd[j] = ((rd[j + 1] << 1) | 1) & charMatch;\n      } else {  // Subsequent passes: fuzzy match.\n        rd[j] = (((rd[j + 1] << 1) | 1) & charMatch) |\n                (((last_rd[j + 1] | last_rd[j]) << 1) | 1) |\n                last_rd[j + 1];\n      }\n      if (rd[j] & matchmask) {\n        var score = match_bitapScore_(d, j - 1);\n        // This match will almost certainly be better than any existing match.\n        // But check anyway.\n        if (score <= score_threshold) {\n          // Told you so.\n          score_threshold = score;\n          best_loc = j - 1;\n          if (best_loc > loc) {\n            // When passing loc, don't exceed our current distance from loc.\n            start = Math.max(1, 2 * loc - best_loc);\n          } else {\n            // Already passed loc, downhill from here on in.\n            break;\n          }\n        }\n      }\n    }\n    // No hope for a (better) match at greater error levels.\n    if (match_bitapScore_(d + 1, loc) > score_threshold) {\n      break;\n    }\n    last_rd = rd;\n  }\n  return best_loc;\n};\n\n\n/**\n * Initialise the alphabet for the Bitap algorithm.\n * @param {string} pattern The text to encode.\n * @return {!Object} Hash of character locations.\n * @private\n */\ndiff_match_patch.prototype.match_alphabet_ = function(pattern) {\n  var s = {};\n  for (var i = 0; i < pattern.length; i++) {\n    s[pattern.charAt(i)] = 0;\n  }\n  for (var i = 0; i < pattern.length; i++) {\n    s[pattern.charAt(i)] |= 1 << (pattern.length - i - 1);\n  }\n  return s;\n};\n\n\n//  PATCH FUNCTIONS\n\n\n/**\n * Increase the context until it is unique,\n * but don't let the pattern expand beyond Match_MaxBits.\n * @param {!diff_match_patch.patch_obj} patch The patch to grow.\n * @param {string} text Source text.\n * @private\n */\ndiff_match_patch.prototype.patch_addContext_ = function(patch, text) {\n  if (text.length == 0) {\n    return;\n  }\n  if (patch.start2 === null) {\n    throw Error('patch not initialized');\n  }\n  var pattern = text.substring(patch.start2, patch.start2 + patch.length1);\n  var padding = 0;\n\n  // Look for the first and last matches of pattern in text.  If two different\n  // matches are found, increase the pattern length.\n  while (text.indexOf(pattern) != text.lastIndexOf(pattern) &&\n         pattern.length < this.Match_MaxBits - this.Patch_Margin -\n         this.Patch_Margin) {\n    padding += this.Patch_Margin;\n    pattern = text.substring(patch.start2 - padding,\n                             patch.start2 + patch.length1 + padding);\n  }\n  // Add one chunk for good luck.\n  padding += this.Patch_Margin;\n\n  // Add the prefix.\n  var prefix = text.substring(patch.start2 - padding, patch.start2);\n  if (prefix) {\n    patch.diffs.unshift(new diff_match_patch.Diff(DIFF_EQUAL, prefix));\n  }\n  // Add the suffix.\n  var suffix = text.substring(patch.start2 + patch.length1,\n                              patch.start2 + patch.length1 + padding);\n  if (suffix) {\n    patch.diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, suffix));\n  }\n\n  // Roll back the start points.\n  patch.start1 -= prefix.length;\n  patch.start2 -= prefix.length;\n  // Extend the lengths.\n  patch.length1 += prefix.length + suffix.length;\n  patch.length2 += prefix.length + suffix.length;\n};\n\n\n/**\n * Compute a list of patches to turn text1 into text2.\n * Use diffs if provided, otherwise compute it ourselves.\n * There are four ways to call this function, depending on what data is\n * available to the caller:\n * Method 1:\n * a = text1, b = text2\n * Method 2:\n * a = diffs\n * Method 3 (optimal):\n * a = text1, b = diffs\n * Method 4 (deprecated, use method 3):\n * a = text1, b = text2, c = diffs\n *\n * @param {string|!Array.<!diff_match_patch.Diff>} a text1 (methods 1,3,4) or\n * Array of diff tuples for text1 to text2 (method 2).\n * @param {string|!Array.<!diff_match_patch.Diff>=} opt_b text2 (methods 1,4) or\n * Array of diff tuples for text1 to text2 (method 3) or undefined (method 2).\n * @param {string|!Array.<!diff_match_patch.Diff>=} opt_c Array of diff tuples\n * for text1 to text2 (method 4) or undefined (methods 1,2,3).\n * @return {!Array.<!diff_match_patch.patch_obj>} Array of Patch objects.\n */\ndiff_match_patch.prototype.patch_make = function(a, opt_b, opt_c) {\n  var text1, diffs;\n  if (typeof a == 'string' && typeof opt_b == 'string' &&\n      typeof opt_c == 'undefined') {\n    // Method 1: text1, text2\n    // Compute diffs from text1 and text2.\n    text1 = /** @type {string} */(a);\n    diffs = this.diff_main(text1, /** @type {string} */(opt_b), true);\n    if (diffs.length > 2) {\n      this.diff_cleanupSemantic(diffs);\n      this.diff_cleanupEfficiency(diffs);\n    }\n  } else if (a && typeof a == 'object' && typeof opt_b == 'undefined' &&\n      typeof opt_c == 'undefined') {\n    // Method 2: diffs\n    // Compute text1 from diffs.\n    diffs = /** @type {!Array.<!diff_match_patch.Diff>} */(a);\n    text1 = this.diff_text1(diffs);\n  } else if (typeof a == 'string' && opt_b && typeof opt_b == 'object' &&\n      typeof opt_c == 'undefined') {\n    // Method 3: text1, diffs\n    text1 = /** @type {string} */(a);\n    diffs = /** @type {!Array.<!diff_match_patch.Diff>} */(opt_b);\n  } else if (typeof a == 'string' && typeof opt_b == 'string' &&\n      opt_c && typeof opt_c == 'object') {\n    // Method 4: text1, text2, diffs\n    // text2 is not used.\n    text1 = /** @type {string} */(a);\n    diffs = /** @type {!Array.<!diff_match_patch.Diff>} */(opt_c);\n  } else {\n    throw new Error('Unknown call format to patch_make.');\n  }\n\n  if (diffs.length === 0) {\n    return [];  // Get rid of the null case.\n  }\n  var patches = [];\n  var patch = new diff_match_patch.patch_obj();\n  var patchDiffLength = 0;  // Keeping our own length var is faster in JS.\n  var char_count1 = 0;  // Number of characters into the text1 string.\n  var char_count2 = 0;  // Number of characters into the text2 string.\n  // Start with text1 (prepatch_text) and apply the diffs until we arrive at\n  // text2 (postpatch_text).  We recreate the patches one by one to determine\n  // context info.\n  var prepatch_text = text1;\n  var postpatch_text = text1;\n  for (var x = 0; x < diffs.length; x++) {\n    var diff_type = diffs[x][0];\n    var diff_text = diffs[x][1];\n\n    if (!patchDiffLength && diff_type !== DIFF_EQUAL) {\n      // A new patch starts here.\n      patch.start1 = char_count1;\n      patch.start2 = char_count2;\n    }\n\n    switch (diff_type) {\n      case DIFF_INSERT:\n        patch.diffs[patchDiffLength++] = diffs[x];\n        patch.length2 += diff_text.length;\n        postpatch_text = postpatch_text.substring(0, char_count2) + diff_text +\n                         postpatch_text.substring(char_count2);\n        break;\n      case DIFF_DELETE:\n        patch.length1 += diff_text.length;\n        patch.diffs[patchDiffLength++] = diffs[x];\n        postpatch_text = postpatch_text.substring(0, char_count2) +\n                         postpatch_text.substring(char_count2 +\n                             diff_text.length);\n        break;\n      case DIFF_EQUAL:\n        if (diff_text.length <= 2 * this.Patch_Margin &&\n            patchDiffLength && diffs.length != x + 1) {\n          // Small equality inside a patch.\n          patch.diffs[patchDiffLength++] = diffs[x];\n          patch.length1 += diff_text.length;\n          patch.length2 += diff_text.length;\n        } else if (diff_text.length >= 2 * this.Patch_Margin) {\n          // Time for a new patch.\n          if (patchDiffLength) {\n            this.patch_addContext_(patch, prepatch_text);\n            patches.push(patch);\n            patch = new diff_match_patch.patch_obj();\n            patchDiffLength = 0;\n            // Unlike Unidiff, our patch lists have a rolling context.\n            // https://github.com/google/diff-match-patch/wiki/Unidiff\n            // Update prepatch text & pos to reflect the application of the\n            // just completed patch.\n            prepatch_text = postpatch_text;\n            char_count1 = char_count2;\n          }\n        }\n        break;\n    }\n\n    // Update the current character count.\n    if (diff_type !== DIFF_INSERT) {\n      char_count1 += diff_text.length;\n    }\n    if (diff_type !== DIFF_DELETE) {\n      char_count2 += diff_text.length;\n    }\n  }\n  // Pick up the leftover patch if not empty.\n  if (patchDiffLength) {\n    this.patch_addContext_(patch, prepatch_text);\n    patches.push(patch);\n  }\n\n  return patches;\n};\n\n\n/**\n * Given an array of patches, return another array that is identical.\n * @param {!Array.<!diff_match_patch.patch_obj>} patches Array of Patch objects.\n * @return {!Array.<!diff_match_patch.patch_obj>} Array of Patch objects.\n */\ndiff_match_patch.prototype.patch_deepCopy = function(patches) {\n  // Making deep copies is hard in JavaScript.\n  var patchesCopy = [];\n  for (var x = 0; x < patches.length; x++) {\n    var patch = patches[x];\n    var patchCopy = new diff_match_patch.patch_obj();\n    patchCopy.diffs = [];\n    for (var y = 0; y < patch.diffs.length; y++) {\n      patchCopy.diffs[y] =\n          new diff_match_patch.Diff(patch.diffs[y][0], patch.diffs[y][1]);\n    }\n    patchCopy.start1 = patch.start1;\n    patchCopy.start2 = patch.start2;\n    patchCopy.length1 = patch.length1;\n    patchCopy.length2 = patch.length2;\n    patchesCopy[x] = patchCopy;\n  }\n  return patchesCopy;\n};\n\n\n/**\n * Merge a set of patches onto the text.  Return a patched text, as well\n * as a list of true/false values indicating which patches were applied.\n * @param {!Array.<!diff_match_patch.patch_obj>} patches Array of Patch objects.\n * @param {string} text Old text.\n * @return {!Array.<string|!Array.<boolean>>} Two element Array, containing the\n *      new text and an array of boolean values.\n */\ndiff_match_patch.prototype.patch_apply = function(patches, text) {\n  if (patches.length == 0) {\n    return [text, []];\n  }\n\n  // Deep copy the patches so that no changes are made to originals.\n  patches = this.patch_deepCopy(patches);\n\n  var nullPadding = this.patch_addPadding(patches);\n  text = nullPadding + text + nullPadding;\n\n  this.patch_splitMax(patches);\n  // delta keeps track of the offset between the expected and actual location\n  // of the previous patch.  If there are patches expected at positions 10 and\n  // 20, but the first patch was found at 12, delta is 2 and the second patch\n  // has an effective expected position of 22.\n  var delta = 0;\n  var results = [];\n  for (var x = 0; x < patches.length; x++) {\n    var expected_loc = patches[x].start2 + delta;\n    var text1 = this.diff_text1(patches[x].diffs);\n    var start_loc;\n    var end_loc = -1;\n    if (text1.length > this.Match_MaxBits) {\n      // patch_splitMax will only provide an oversized pattern in the case of\n      // a monster delete.\n      start_loc = this.match_main(text, text1.substring(0, this.Match_MaxBits),\n                                  expected_loc);\n      if (start_loc != -1) {\n        end_loc = this.match_main(text,\n            text1.substring(text1.length - this.Match_MaxBits),\n            expected_loc + text1.length - this.Match_MaxBits);\n        if (end_loc == -1 || start_loc >= end_loc) {\n          // Can't find valid trailing context.  Drop this patch.\n          start_loc = -1;\n        }\n      }\n    } else {\n      start_loc = this.match_main(text, text1, expected_loc);\n    }\n    if (start_loc == -1) {\n      // No match found.  :(\n      results[x] = false;\n      // Subtract the delta for this failed patch from subsequent patches.\n      delta -= patches[x].length2 - patches[x].length1;\n    } else {\n      // Found a match.  :)\n      results[x] = true;\n      delta = start_loc - expected_loc;\n      var text2;\n      if (end_loc == -1) {\n        text2 = text.substring(start_loc, start_loc + text1.length);\n      } else {\n        text2 = text.substring(start_loc, end_loc + this.Match_MaxBits);\n      }\n      if (text1 == text2) {\n        // Perfect match, just shove the replacement text in.\n        text = text.substring(0, start_loc) +\n               this.diff_text2(patches[x].diffs) +\n               text.substring(start_loc + text1.length);\n      } else {\n        // Imperfect match.  Run a diff to get a framework of equivalent\n        // indices.\n        var diffs = this.diff_main(text1, text2, false);\n        if (text1.length > this.Match_MaxBits &&\n            this.diff_levenshtein(diffs) / text1.length >\n            this.Patch_DeleteThreshold) {\n          // The end points match, but the content is unacceptably bad.\n          results[x] = false;\n        } else {\n          this.diff_cleanupSemanticLossless(diffs);\n          var index1 = 0;\n          var index2;\n          for (var y = 0; y < patches[x].diffs.length; y++) {\n            var mod = patches[x].diffs[y];\n            if (mod[0] !== DIFF_EQUAL) {\n              index2 = this.diff_xIndex(diffs, index1);\n            }\n            if (mod[0] === DIFF_INSERT) {  // Insertion\n              text = text.substring(0, start_loc + index2) + mod[1] +\n                     text.substring(start_loc + index2);\n            } else if (mod[0] === DIFF_DELETE) {  // Deletion\n              text = text.substring(0, start_loc + index2) +\n                     text.substring(start_loc + this.diff_xIndex(diffs,\n                         index1 + mod[1].length));\n            }\n            if (mod[0] !== DIFF_DELETE) {\n              index1 += mod[1].length;\n            }\n          }\n        }\n      }\n    }\n  }\n  // Strip the padding off.\n  text = text.substring(nullPadding.length, text.length - nullPadding.length);\n  return [text, results];\n};\n\n\n/**\n * Add some padding on text start and end so that edges can match something.\n * Intended to be called only from within patch_apply.\n * @param {!Array.<!diff_match_patch.patch_obj>} patches Array of Patch objects.\n * @return {string} The padding string added to each side.\n */\ndiff_match_patch.prototype.patch_addPadding = function(patches) {\n  var paddingLength = this.Patch_Margin;\n  var nullPadding = '';\n  for (var x = 1; x <= paddingLength; x++) {\n    nullPadding += String.fromCharCode(x);\n  }\n\n  // Bump all the patches forward.\n  for (var x = 0; x < patches.length; x++) {\n    patches[x].start1 += paddingLength;\n    patches[x].start2 += paddingLength;\n  }\n\n  // Add some padding on start of first diff.\n  var patch = patches[0];\n  var diffs = patch.diffs;\n  if (diffs.length == 0 || diffs[0][0] != DIFF_EQUAL) {\n    // Add nullPadding equality.\n    diffs.unshift(new diff_match_patch.Diff(DIFF_EQUAL, nullPadding));\n    patch.start1 -= paddingLength;  // Should be 0.\n    patch.start2 -= paddingLength;  // Should be 0.\n    patch.length1 += paddingLength;\n    patch.length2 += paddingLength;\n  } else if (paddingLength > diffs[0][1].length) {\n    // Grow first equality.\n    var extraLength = paddingLength - diffs[0][1].length;\n    diffs[0][1] = nullPadding.substring(diffs[0][1].length) + diffs[0][1];\n    patch.start1 -= extraLength;\n    patch.start2 -= extraLength;\n    patch.length1 += extraLength;\n    patch.length2 += extraLength;\n  }\n\n  // Add some padding on end of last diff.\n  patch = patches[patches.length - 1];\n  diffs = patch.diffs;\n  if (diffs.length == 0 || diffs[diffs.length - 1][0] != DIFF_EQUAL) {\n    // Add nullPadding equality.\n    diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, nullPadding));\n    patch.length1 += paddingLength;\n    patch.length2 += paddingLength;\n  } else if (paddingLength > diffs[diffs.length - 1][1].length) {\n    // Grow last equality.\n    var extraLength = paddingLength - diffs[diffs.length - 1][1].length;\n    diffs[diffs.length - 1][1] += nullPadding.substring(0, extraLength);\n    patch.length1 += extraLength;\n    patch.length2 += extraLength;\n  }\n\n  return nullPadding;\n};\n\n\n/**\n * Look through the patches and break up any which are longer than the maximum\n * limit of the match algorithm.\n * Intended to be called only from within patch_apply.\n * @param {!Array.<!diff_match_patch.patch_obj>} patches Array of Patch objects.\n */\ndiff_match_patch.prototype.patch_splitMax = function(patches) {\n  var patch_size = this.Match_MaxBits;\n  for (var x = 0; x < patches.length; x++) {\n    if (patches[x].length1 <= patch_size) {\n      continue;\n    }\n    var bigpatch = patches[x];\n    // Remove the big old patch.\n    patches.splice(x--, 1);\n    var start1 = bigpatch.start1;\n    var start2 = bigpatch.start2;\n    var precontext = '';\n    while (bigpatch.diffs.length !== 0) {\n      // Create one of several smaller patches.\n      var patch = new diff_match_patch.patch_obj();\n      var empty = true;\n      patch.start1 = start1 - precontext.length;\n      patch.start2 = start2 - precontext.length;\n      if (precontext !== '') {\n        patch.length1 = patch.length2 = precontext.length;\n        patch.diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, precontext));\n      }\n      while (bigpatch.diffs.length !== 0 &&\n             patch.length1 < patch_size - this.Patch_Margin) {\n        var diff_type = bigpatch.diffs[0][0];\n        var diff_text = bigpatch.diffs[0][1];\n        if (diff_type === DIFF_INSERT) {\n          // Insertions are harmless.\n          patch.length2 += diff_text.length;\n          start2 += diff_text.length;\n          patch.diffs.push(bigpatch.diffs.shift());\n          empty = false;\n        } else if (diff_type === DIFF_DELETE && patch.diffs.length == 1 &&\n                   patch.diffs[0][0] == DIFF_EQUAL &&\n                   diff_text.length > 2 * patch_size) {\n          // This is a large deletion.  Let it pass in one chunk.\n          patch.length1 += diff_text.length;\n          start1 += diff_text.length;\n          empty = false;\n          patch.diffs.push(new diff_match_patch.Diff(diff_type, diff_text));\n          bigpatch.diffs.shift();\n        } else {\n          // Deletion or equality.  Only take as much as we can stomach.\n          diff_text = diff_text.substring(0,\n              patch_size - patch.length1 - this.Patch_Margin);\n          patch.length1 += diff_text.length;\n          start1 += diff_text.length;\n          if (diff_type === DIFF_EQUAL) {\n            patch.length2 += diff_text.length;\n            start2 += diff_text.length;\n          } else {\n            empty = false;\n          }\n          patch.diffs.push(new diff_match_patch.Diff(diff_type, diff_text));\n          if (diff_text == bigpatch.diffs[0][1]) {\n            bigpatch.diffs.shift();\n          } else {\n            bigpatch.diffs[0][1] =\n                bigpatch.diffs[0][1].substring(diff_text.length);\n          }\n        }\n      }\n      // Compute the head context for the next patch.\n      precontext = this.diff_text2(patch.diffs);\n      precontext =\n          precontext.substring(precontext.length - this.Patch_Margin);\n      // Append the end context for this patch.\n      var postcontext = this.diff_text1(bigpatch.diffs)\n                            .substring(0, this.Patch_Margin);\n      if (postcontext !== '') {\n        patch.length1 += postcontext.length;\n        patch.length2 += postcontext.length;\n        if (patch.diffs.length !== 0 &&\n            patch.diffs[patch.diffs.length - 1][0] === DIFF_EQUAL) {\n          patch.diffs[patch.diffs.length - 1][1] += postcontext;\n        } else {\n          patch.diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, postcontext));\n        }\n      }\n      if (!empty) {\n        patches.splice(++x, 0, patch);\n      }\n    }\n  }\n};\n\n\n/**\n * Take a list of patches and return a textual representation.\n * @param {!Array.<!diff_match_patch.patch_obj>} patches Array of Patch objects.\n * @return {string} Text representation of patches.\n */\ndiff_match_patch.prototype.patch_toText = function(patches) {\n  var text = [];\n  for (var x = 0; x < patches.length; x++) {\n    text[x] = patches[x];\n  }\n  return text.join('');\n};\n\n\n/**\n * Parse a textual representation of patches and return a list of Patch objects.\n * @param {string} textline Text representation of patches.\n * @return {!Array.<!diff_match_patch.patch_obj>} Array of Patch objects.\n * @throws {!Error} If invalid input.\n */\ndiff_match_patch.prototype.patch_fromText = function(textline) {\n  var patches = [];\n  if (!textline) {\n    return patches;\n  }\n  var text = textline.split('\\n');\n  var textPointer = 0;\n  var patchHeader = /^@@ -(\\d+),?(\\d*) \\+(\\d+),?(\\d*) @@$/;\n  while (textPointer < text.length) {\n    var m = text[textPointer].match(patchHeader);\n    if (!m) {\n      throw new Error('Invalid patch string: ' + text[textPointer]);\n    }\n    var patch = new diff_match_patch.patch_obj();\n    patches.push(patch);\n    patch.start1 = parseInt(m[1], 10);\n    if (m[2] === '') {\n      patch.start1--;\n      patch.length1 = 1;\n    } else if (m[2] == '0') {\n      patch.length1 = 0;\n    } else {\n      patch.start1--;\n      patch.length1 = parseInt(m[2], 10);\n    }\n\n    patch.start2 = parseInt(m[3], 10);\n    if (m[4] === '') {\n      patch.start2--;\n      patch.length2 = 1;\n    } else if (m[4] == '0') {\n      patch.length2 = 0;\n    } else {\n      patch.start2--;\n      patch.length2 = parseInt(m[4], 10);\n    }\n    textPointer++;\n\n    while (textPointer < text.length) {\n      var sign = text[textPointer].charAt(0);\n      try {\n        var line = decodeURI(text[textPointer].substring(1));\n      } catch (ex) {\n        // Malformed URI sequence.\n        throw new Error('Illegal escape in patch_fromText: ' + line);\n      }\n      if (sign == '-') {\n        // Deletion.\n        patch.diffs.push(new diff_match_patch.Diff(DIFF_DELETE, line));\n      } else if (sign == '+') {\n        // Insertion.\n        patch.diffs.push(new diff_match_patch.Diff(DIFF_INSERT, line));\n      } else if (sign == ' ') {\n        // Minor equality.\n        patch.diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, line));\n      } else if (sign == '@') {\n        // Start of next patch.\n        break;\n      } else if (sign === '') {\n        // Blank line?  Whatever.\n      } else {\n        // WTF?\n        throw new Error('Invalid patch mode \"' + sign + '\" in: ' + line);\n      }\n      textPointer++;\n    }\n  }\n  return patches;\n};\n\n\n/**\n * Class representing one patch operation.\n * @constructor\n */\ndiff_match_patch.patch_obj = function() {\n  /** @type {!Array.<!diff_match_patch.Diff>} */\n  this.diffs = [];\n  /** @type {?number} */\n  this.start1 = null;\n  /** @type {?number} */\n  this.start2 = null;\n  /** @type {number} */\n  this.length1 = 0;\n  /** @type {number} */\n  this.length2 = 0;\n};\n\n\n/**\n * Emulate GNU diff's format.\n * Header: @@ -382,8 +481,9 @@\n * Indices are printed as 1-based, not 0-based.\n * @return {string} The GNU diff string.\n */\ndiff_match_patch.patch_obj.prototype.toString = function() {\n  var coords1, coords2;\n  if (this.length1 === 0) {\n    coords1 = this.start1 + ',0';\n  } else if (this.length1 == 1) {\n    coords1 = this.start1 + 1;\n  } else {\n    coords1 = (this.start1 + 1) + ',' + this.length1;\n  }\n  if (this.length2 === 0) {\n    coords2 = this.start2 + ',0';\n  } else if (this.length2 == 1) {\n    coords2 = this.start2 + 1;\n  } else {\n    coords2 = (this.start2 + 1) + ',' + this.length2;\n  }\n  var text = ['@@ -' + coords1 + ' +' + coords2 + ' @@\\n'];\n  var op;\n  // Escape the body of the patch with %xx notation.\n  for (var x = 0; x < this.diffs.length; x++) {\n    switch (this.diffs[x][0]) {\n      case DIFF_INSERT:\n        op = '+';\n        break;\n      case DIFF_DELETE:\n        op = '-';\n        break;\n      case DIFF_EQUAL:\n        op = ' ';\n        break;\n    }\n    text[x + 1] = op + encodeURI(this.diffs[x][1]) + '\\n';\n  }\n  return text.join('').replace(/%20/g, ' ');\n};\n\n\n// The following export code was added by @ForbesLindesay\nmodule.exports = diff_match_patch;\nmodule.exports['diff_match_patch'] = diff_match_patch;\nmodule.exports['DIFF_DELETE'] = DIFF_DELETE;\nmodule.exports['DIFF_INSERT'] = DIFF_INSERT;\nmodule.exports['DIFF_EQUAL'] = DIFF_EQUAL;","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** `Object#toString` result references. */\nvar funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    symbolTag = '[object Symbol]';\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/,\n    reLeadingDot = /^\\./,\n    rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\n/**\n * Checks if `value` is a host object in IE < 9.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a host object, else `false`.\n */\nfunction isHostObject(value) {\n  // Many host objects are `Object` objects that can coerce to strings\n  // despite having improperly defined `toString` methods.\n  var result = false;\n  if (value != null && typeof value.toString != 'function') {\n    try {\n      result = !!(value + '');\n    } catch (e) {}\n  }\n  return result;\n}\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype,\n    funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/** Built-in value references. */\nvar Symbol = root.Symbol,\n    splice = arrayProto.splice;\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map'),\n    nativeCreate = getNative(Object, 'create');\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n}\n\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  return this.has(key) && delete this.__data__[key];\n}\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? data[key] !== undefined : hasOwnProperty.call(data, key);\n}\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n}\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  return true;\n}\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  return getMapData(this, key)['delete'](key);\n}\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  getMapData(this, key).set(key, value);\n  return this;\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path) {\n  path = isKey(path, object) ? [path] : castPath(path);\n\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[toKey(path[index++])];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = (isFunction(value) || isHostObject(value)) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value) {\n  return isArray(value) ? value : stringToPath(value);\n}\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = memoize(function(string) {\n  string = toString(string);\n\n  var result = [];\n  if (reLeadingDot.test(string)) {\n    result.push('');\n  }\n  string.replace(rePropName, function(match, number, quote, string) {\n    result.push(quote ? string.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to process.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\nfunction memoize(func, resolver) {\n  if (typeof func != 'function' || (resolver && typeof resolver != 'function')) {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var memoized = function() {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result);\n    return result;\n  };\n  memoized.cache = new (memoize.Cache || MapCache);\n  return memoized;\n}\n\n// Assign cache to `_.memoize`.\nmemoize.Cache = MapCache;\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8-9 which returns 'object' for typed array and other constructors.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\n/**\n * Gets the value at `path` of `object`. If the resolved value is\n * `undefined`, the `defaultValue` is returned in its place.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n * @returns {*} Returns the resolved value.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.get(object, 'a[0].b.c');\n * // => 3\n *\n * _.get(object, ['a', '0', 'b', 'c']);\n * // => 3\n *\n * _.get(object, 'a.b.c', 'default');\n * // => 'default'\n */\nfunction get(object, path, defaultValue) {\n  var result = object == null ? undefined : baseGet(object, path);\n  return result === undefined ? defaultValue : result;\n}\n\nmodule.exports = get;\n","/**\n * Lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright JS Foundation and other contributors <https://js.foundation/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    asyncTag = '[object AsyncFunction]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    nullTag = '[object Null]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    proxyTag = '[object Proxy]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]',\n    undefinedTag = '[object Undefined]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\n/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\n/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\n/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\n/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\n/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype,\n    funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined,\n    Symbol = root.Symbol,\n    Uint8Array = root.Uint8Array,\n    propertyIsEnumerable = objectProto.propertyIsEnumerable,\n    splice = arrayProto.splice,\n    symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols,\n    nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,\n    nativeKeys = overArg(Object.keys, Object);\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView'),\n    Map = getNative(root, 'Map'),\n    Promise = getNative(root, 'Promise'),\n    Set = getNative(root, 'Set'),\n    WeakMap = getNative(root, 'WeakMap'),\n    nativeCreate = getNative(Object, 'create');\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\n/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\n/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\n/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = objIsArr ? arrayTag : getTag(object),\n      othTag = othIsArr ? arrayTag : getTag(other);\n\n  objTag = objTag == argsTag ? objectTag : objTag;\n  othTag = othTag == argsTag ? objectTag : othTag;\n\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && isBuffer(object)) {\n    if (!isBuffer(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(array);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!cacheHas(seen, othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n              return seen.push(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, bitmask, customizer, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if ((object.byteLength != other.byteLength) ||\n          (object.byteOffset != other.byteOffset)) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq(+object, +other);\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == (other + '');\n\n    case mapTag:\n      var convert = mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n      convert || (convert = setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= COMPARE_UNORDERED_FLAG;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n      stack['delete'](object);\n      return result;\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      objProps = getAllKeys(object),\n      objLength = objProps.length,\n      othProps = getAllKeys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(object);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return arrayFilter(nativeGetSymbols(object), function(symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return !!length &&\n    (typeof value == 'number' || reIsUint.test(value)) &&\n    (value > -1 && value % 1 == 0 && value < length);\n}\n\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\n/**\n * Performs a deep comparison between two values to determine if they are\n * equivalent.\n *\n * **Note:** This method supports comparing arrays, array buffers, booleans,\n * date objects, error objects, maps, numbers, `Object` objects, regexes,\n * sets, strings, symbols, and typed arrays. `Object` objects are compared\n * by their own, not inherited, enumerable properties. Functions and DOM\n * nodes are compared by strict equality, i.e. `===`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.isEqual(object, other);\n * // => true\n *\n * object === other;\n * // => false\n */\nfunction isEqual(value, other) {\n  return baseIsEqual(value, other);\n}\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\n/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\n/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = isEqual;\n","import { Ace, Range } from \"ace-builds\";\nimport * as AceBuilds from \"ace-builds\";\nimport * as PropTypes from \"prop-types\";\nimport * as React from \"react\";\nconst isEqual = require(\"lodash.isequal\");\nimport {\n  debounce,\n  editorEvents,\n  editorOptions,\n  getAceInstance\n} from \"./editorOptions\";\nconst ace = getAceInstance();\n\nimport {\n  IAceEditor,\n  IAceOptions,\n  ICommand,\n  IEditorProps,\n  IMarker\n} from \"./types\";\n/**\n * See https://github.com/ajaxorg/ace/wiki/Configuring-Ace\n */\n\nexport interface IAceEditorProps {\n  name?: string;\n  style?: React.CSSProperties;\n  /** For available modes see https://github.com/thlorenz/brace/tree/master/mode */\n  mode?: string | object;\n  /** For available themes see https://github.com/thlorenz/brace/tree/master/theme */\n  theme?: string;\n  height?: string;\n  width?: string;\n  className?: string;\n  fontSize?: number | string;\n  showGutter?: boolean;\n  showPrintMargin?: boolean;\n  highlightActiveLine?: boolean;\n  focus?: boolean;\n  cursorStart?: number;\n  wrapEnabled?: boolean;\n  readOnly?: boolean;\n  minLines?: number;\n  maxLines?: number;\n  navigateToFileEnd?: boolean;\n  debounceChangePeriod?: number;\n  enableBasicAutocompletion?: boolean | string[];\n  enableLiveAutocompletion?: boolean | string[];\n  tabSize?: number;\n  value?: string;\n  placeholder?: string;\n  defaultValue?: string;\n  scrollMargin?: number[];\n  enableSnippets?: boolean;\n  onSelectionChange?: (value: any, event?: any) => void;\n  onCursorChange?: (value: any, event?: any) => void;\n  onInput?: (event?: any) => void;\n  onLoad?: (editor: Ace.Editor) => void;\n  onValidate?: (annotations: Ace.Annotation[]) => void;\n  onBeforeLoad?: (ace: typeof AceBuilds) => void;\n  onChange?: (value: string, event?: any) => void;\n  onSelection?: (selectedText: string, event?: any) => void;\n  onCopy?: (value: string) => void;\n  onPaste?: (value: string) => void;\n  onFocus?: (event: any, editor?: Ace.Editor) => void;\n  onBlur?: (event: any, editor?: Ace.Editor) => void;\n  onScroll?: (editor: IEditorProps) => void;\n  editorProps?: IEditorProps;\n  setOptions?: IAceOptions;\n  keyboardHandler?: string;\n  commands?: ICommand[];\n  annotations?: Ace.Annotation[];\n  markers?: IMarker[];\n}\n\nexport default class ReactAce extends React.Component<IAceEditorProps> {\n  public static propTypes: PropTypes.ValidationMap<IAceEditorProps> = {\n    mode: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n    focus: PropTypes.bool,\n    theme: PropTypes.string,\n    name: PropTypes.string,\n    className: PropTypes.string,\n    height: PropTypes.string,\n    width: PropTypes.string,\n    fontSize: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n    showGutter: PropTypes.bool,\n    onChange: PropTypes.func,\n    onCopy: PropTypes.func,\n    onPaste: PropTypes.func,\n    onFocus: PropTypes.func,\n    onInput: PropTypes.func,\n    onBlur: PropTypes.func,\n    onScroll: PropTypes.func,\n    value: PropTypes.string,\n    defaultValue: PropTypes.string,\n    onLoad: PropTypes.func,\n    onSelectionChange: PropTypes.func,\n    onCursorChange: PropTypes.func,\n    onBeforeLoad: PropTypes.func,\n    onValidate: PropTypes.func,\n    minLines: PropTypes.number,\n    maxLines: PropTypes.number,\n    readOnly: PropTypes.bool,\n    highlightActiveLine: PropTypes.bool,\n    tabSize: PropTypes.number,\n    showPrintMargin: PropTypes.bool,\n    cursorStart: PropTypes.number,\n    debounceChangePeriod: PropTypes.number,\n    editorProps: PropTypes.object,\n    setOptions: PropTypes.object,\n    style: PropTypes.object,\n    scrollMargin: PropTypes.array,\n    annotations: PropTypes.array,\n    markers: PropTypes.array,\n    keyboardHandler: PropTypes.string,\n    wrapEnabled: PropTypes.bool,\n    enableSnippets: PropTypes.bool,\n    enableBasicAutocompletion: PropTypes.oneOfType([\n      PropTypes.bool,\n      PropTypes.array\n    ]),\n    enableLiveAutocompletion: PropTypes.oneOfType([\n      PropTypes.bool,\n      PropTypes.array\n    ]),\n    navigateToFileEnd: PropTypes.bool,\n    commands: PropTypes.array,\n    placeholder: PropTypes.string\n  };\n  public static defaultProps: Partial<IAceEditorProps> = {\n    name: \"ace-editor\",\n    focus: false,\n    mode: \"\",\n    theme: \"\",\n    height: \"500px\",\n    width: \"500px\",\n    fontSize: 12,\n    enableSnippets: false,\n    showGutter: true,\n    onChange: null,\n    onPaste: null,\n    onLoad: null,\n    onScroll: null,\n    minLines: null,\n    maxLines: null,\n    readOnly: false,\n    highlightActiveLine: true,\n    showPrintMargin: true,\n    tabSize: 4,\n    cursorStart: 1,\n    editorProps: {},\n    style: {},\n    scrollMargin: [0, 0, 0, 0],\n    setOptions: {},\n    wrapEnabled: false,\n    enableBasicAutocompletion: false,\n    enableLiveAutocompletion: false,\n    placeholder: null,\n    navigateToFileEnd: true\n  };\n  public editor: IAceEditor;\n  public refEditor: HTMLElement;\n  public debounce: (fn: any, delay: number) => (...args: any) => void;\n  // [index: string]: any;\n  public silent: boolean;\n  constructor(props: IAceEditorProps) {\n    super(props);\n    editorEvents.forEach(method => {\n      this[method] = this[method].bind(this);\n    });\n    this.debounce = debounce;\n  }\n  public isInShadow(node: HTMLElement): boolean {\n    let parent = node && node.parentNode;\n    while (parent) {\n      if (parent.toString() === \"[object ShadowRoot]\") {\n        return true;\n      }\n      parent = parent.parentNode;\n    }\n    return false;\n  }\n  public componentDidMount() {\n    const {\n      className,\n      onBeforeLoad,\n      onValidate,\n      mode,\n      focus,\n      theme,\n      fontSize,\n      value,\n      defaultValue,\n      showGutter,\n      wrapEnabled,\n      showPrintMargin,\n      scrollMargin = [0, 0, 0, 0],\n      keyboardHandler,\n      onLoad,\n      commands,\n      annotations,\n      markers,\n      placeholder\n    } = this.props;\n\n    this.editor = ace.edit(this.refEditor);\n\n    if (onBeforeLoad) {\n      onBeforeLoad(ace);\n    }\n\n    const editorProps = Object.keys(this.props.editorProps);\n    for (let i = 0; i < editorProps.length; i++) {\n      this.editor[editorProps[i]] = this.props.editorProps[editorProps[i]];\n    }\n    if (this.props.debounceChangePeriod) {\n      this.onChange = this.debounce(\n        this.onChange,\n        this.props.debounceChangePeriod\n      );\n    }\n    this.editor.renderer.setScrollMargin(\n      scrollMargin[0],\n      scrollMargin[1],\n      scrollMargin[2],\n      scrollMargin[3]\n    );\n    if (this.isInShadow(this.refEditor)) {\n      this.editor.renderer.attachToShadowRoot();\n    }\n    this.editor\n      .getSession()\n      .setMode(\n        typeof mode === \"string\" ? `ace/mode/${mode}` : (mode as Ace.SyntaxMode)\n      );\n    if(theme && theme !== \"\")\n      this.editor.setTheme(`ace/theme/${theme}`);\n    this.editor.setFontSize(\n      typeof fontSize === \"number\" ? `${fontSize}px` : fontSize\n    );\n    this.editor\n      .getSession()\n      .setValue(!defaultValue ? value || \"\" : defaultValue);\n\n    if (this.props.navigateToFileEnd) {\n      this.editor.navigateFileEnd();\n    }\n    this.editor.renderer.setShowGutter(showGutter);\n    this.editor.getSession().setUseWrapMode(wrapEnabled);\n    this.editor.setShowPrintMargin(showPrintMargin);\n    this.editor.on(\"focus\", this.onFocus);\n    this.editor.on(\"blur\", this.onBlur);\n    this.editor.on(\"copy\", this.onCopy);\n    this.editor.on(\"paste\", this.onPaste);\n    this.editor.on(\"change\", this.onChange);\n    this.editor.on(\"input\", this.onInput);\n    if (placeholder) {\n      this.updatePlaceholder();\n    }\n    this.editor\n      .getSession()\n      .selection.on(\"changeSelection\", this.onSelectionChange);\n    this.editor.getSession().selection.on(\"changeCursor\", this.onCursorChange);\n    if (onValidate) {\n      // @ts-ignore types don't include\n      this.editor.getSession().on(\"changeAnnotation\", () => {\n        // tslint:disable-next-line:no-shadowed-variable\n        const annotations = this.editor.getSession().getAnnotations();\n        this.props.onValidate(annotations);\n      });\n    }\n    this.editor.session.on(\"changeScrollTop\", this.onScroll);\n    this.editor.getSession().setAnnotations(annotations || []);\n    if (markers && markers.length > 0) {\n      this.handleMarkers(markers);\n    }\n\n    // get a list of possible options to avoid 'misspelled option errors'\n    const availableOptions = this.editor.$options;\n    editorOptions.forEach(option => {\n      if (availableOptions.hasOwnProperty(option)) {\n        // @ts-ignore\n        this.editor.setOption(option, this.props[option]);\n      } else if (this.props[option]) {\n        console.warn(\n          `ReactAce: editor option ${option} was activated but not found. Did you need to import a related tool or did you possibly mispell the option?`\n        );\n      }\n    });\n\n    this.handleOptions(this.props);\n\n    if (Array.isArray(commands)) {\n      commands.forEach(command => {\n        if (typeof command.exec === \"string\") {\n          (this.editor.commands as any).bindKey(command.bindKey, command.exec);\n        } else {\n          (this.editor.commands as any).addCommand(command);\n        }\n      });\n    }\n\n    if (keyboardHandler) {\n      this.editor.setKeyboardHandler(\"ace/keyboard/\" + keyboardHandler);\n    }\n\n    if (className) {\n      this.refEditor.className += \" \" + className;\n    }\n\n    if (onLoad) {\n      onLoad(this.editor);\n    }\n\n    this.editor.resize();\n\n    if (focus) {\n      this.editor.focus();\n    }\n  }\n\n  public componentDidUpdate(prevProps: IAceEditorProps) {\n    const oldProps = prevProps;\n    const nextProps = this.props;\n\n    for (let i = 0; i < editorOptions.length; i++) {\n      const option = editorOptions[i];\n      if (nextProps[option] !== oldProps[option]) {\n        // @ts-ignore\n        this.editor.setOption(option, nextProps[option]);\n      }\n    }\n\n    if (nextProps.className !== oldProps.className) {\n      const appliedClasses = this.refEditor.className;\n      const appliedClassesArray = appliedClasses.trim().split(\" \");\n      const oldClassesArray = oldProps.className.trim().split(\" \");\n      oldClassesArray.forEach(oldClass => {\n        const index = appliedClassesArray.indexOf(oldClass);\n        appliedClassesArray.splice(index, 1);\n      });\n      this.refEditor.className =\n        \" \" + nextProps.className + \" \" + appliedClassesArray.join(\" \");\n    }\n\n    // First process editor value, as it may create a new session (see issue #300)\n    const valueChanged = this.editor &&\n      nextProps.value != null &&\n      this.editor.getValue() !== nextProps.value;\n\n    if (valueChanged) {\n      // editor.setValue is a synchronous function call, change event is emitted before setValue return.\n      this.silent = true;\n      const pos = this.editor.session.selection.toJSON();\n      this.editor.setValue(nextProps.value, nextProps.cursorStart);\n      this.editor.session.selection.fromJSON(pos);\n      this.silent = false;\n    }\n\n    if (nextProps.placeholder !== oldProps.placeholder) {\n      this.updatePlaceholder();\n    }\n    if (nextProps.mode !== oldProps.mode) {\n      this.editor\n        .getSession()\n        .setMode(\n          typeof nextProps.mode === \"string\"\n            ? `ace/mode/${nextProps.mode}`\n            : (nextProps.mode as Ace.SyntaxMode)\n        );\n    }\n    if (nextProps.theme !== oldProps.theme) {\n      this.editor.setTheme(\"ace/theme/\" + nextProps.theme);\n    }\n    if (nextProps.keyboardHandler !== oldProps.keyboardHandler) {\n      if (nextProps.keyboardHandler) {\n        this.editor.setKeyboardHandler(\n          \"ace/keyboard/\" + nextProps.keyboardHandler\n        );\n      } else {\n        this.editor.setKeyboardHandler(null);\n      }\n    }\n    if (nextProps.fontSize !== oldProps.fontSize) {\n      this.editor.setFontSize(\n        typeof nextProps.fontSize === \"number\"\n          ? `${nextProps.fontSize}px`\n          : nextProps.fontSize\n      );\n    }\n    if (nextProps.wrapEnabled !== oldProps.wrapEnabled) {\n      this.editor.getSession().setUseWrapMode(nextProps.wrapEnabled);\n    }\n    if (nextProps.showPrintMargin !== oldProps.showPrintMargin) {\n      this.editor.setShowPrintMargin(nextProps.showPrintMargin);\n    }\n    if (nextProps.showGutter !== oldProps.showGutter) {\n      this.editor.renderer.setShowGutter(nextProps.showGutter);\n    }\n    if (!isEqual(nextProps.setOptions, oldProps.setOptions)) {\n      this.handleOptions(nextProps);\n    }\n    // if the value or annotations changed, set the annotations\n    // changing the value may create create a new session which will require annotations to be re-set\n    if (valueChanged || !isEqual(nextProps.annotations, oldProps.annotations)) {\n      this.editor.getSession().setAnnotations(nextProps.annotations || []);\n    }\n    if (\n      !isEqual(nextProps.markers, oldProps.markers) &&\n      Array.isArray(nextProps.markers)\n    ) {\n      this.handleMarkers(nextProps.markers);\n    }\n\n    // this doesn't look like it works at all....\n    if (!isEqual(nextProps.scrollMargin, oldProps.scrollMargin)) {\n      this.handleScrollMargins(nextProps.scrollMargin);\n    }\n\n    if (\n      prevProps.height !== this.props.height ||\n      prevProps.width !== this.props.width\n    ) {\n      this.editor.resize();\n    }\n    if (this.props.focus && !prevProps.focus) {\n      this.editor.focus();\n    }\n  }\n\n  public handleScrollMargins(margins = [0, 0, 0, 0]) {\n    this.editor.renderer.setScrollMargin(\n      margins[0],\n      margins[1],\n      margins[2],\n      margins[3]\n    );\n  }\n\n  public componentWillUnmount() {\n    if (this.editor) {\n      this.editor.destroy();\n      this.editor = null;\n    }\n  }\n\n  public onChange(event: any) {\n    if (this.props.onChange && !this.silent) {\n      const value = this.editor.getValue();\n      this.props.onChange(value, event);\n    }\n  }\n\n  public onSelectionChange(event: any) {\n    if (this.props.onSelectionChange) {\n      const value = this.editor.getSelection();\n      this.props.onSelectionChange(value, event);\n    }\n  }\n  public onCursorChange(event: any) {\n    if (this.props.onCursorChange) {\n      const value = this.editor.getSelection();\n      this.props.onCursorChange(value, event);\n    }\n  }\n  public onInput(event?: any) {\n    if (this.props.onInput) {\n      this.props.onInput(event);\n    }\n    if (this.props.placeholder) {\n      this.updatePlaceholder();\n    }\n  }\n  public onFocus(event: any) {\n    if (this.props.onFocus) {\n      this.props.onFocus(event, this.editor);\n    }\n  }\n\n  public onBlur(event: any) {\n    if (this.props.onBlur) {\n      this.props.onBlur(event, this.editor);\n    }\n  }\n\n  public onCopy({ text }: { text: string }) {\n    if (this.props.onCopy) {\n      this.props.onCopy(text);\n    }\n  }\n\n  public onPaste({ text }: { text: string }) {\n    if (this.props.onPaste) {\n      this.props.onPaste(text);\n    }\n  }\n\n  public onScroll() {\n    if (this.props.onScroll) {\n      this.props.onScroll(this.editor);\n    }\n  }\n\n  public handleOptions(props: IAceEditorProps) {\n    const setOptions = Object.keys(props.setOptions);\n    for (let y = 0; y < setOptions.length; y++) {\n      // @ts-ignore\n      this.editor.setOption(setOptions[y], props.setOptions[setOptions[y]]);\n    }\n  }\n\n  public handleMarkers(markers: IMarker[]) {\n    // remove foreground markers\n    let currentMarkers = this.editor.getSession().getMarkers(true);\n    for (const i in currentMarkers) {\n      if (currentMarkers.hasOwnProperty(i)) {\n        this.editor.getSession().removeMarker(currentMarkers[i].id);\n      }\n    }\n    // remove background markers except active line marker and selected word marker\n    currentMarkers = this.editor.getSession().getMarkers(false);\n    for (const i in currentMarkers) {\n      if (\n        currentMarkers.hasOwnProperty(i) &&\n        currentMarkers[i].clazz !== \"ace_active-line\" &&\n        currentMarkers[i].clazz !== \"ace_selected-word\"\n      ) {\n        this.editor.getSession().removeMarker(currentMarkers[i].id);\n      }\n    }\n    // add new markers\n    markers.forEach(\n      ({\n        startRow,\n        startCol,\n        endRow,\n        endCol,\n        className,\n        type,\n        inFront = false\n      }) => {\n        const range = new Range(startRow, startCol, endRow, endCol);\n        this.editor.getSession().addMarker(range, className, type, inFront);\n      }\n    );\n  }\n\n  public updatePlaceholder() {\n    // Adapted from https://stackoverflow.com/questions/26695708/how-can-i-add-placeholder-text-when-the-editor-is-empty\n\n    const editor = this.editor;\n    const { placeholder } = this.props;\n\n    const showPlaceholder = !editor.session.getValue().length;\n    let node = editor.renderer.placeholderNode;\n\n    if (!showPlaceholder && node) {\n      editor.renderer.scroller.removeChild(editor.renderer.placeholderNode);\n      editor.renderer.placeholderNode = null;\n    } else if (showPlaceholder && !node) {\n      node = editor.renderer.placeholderNode = document.createElement(\"div\");\n      node.textContent = placeholder || \"\";\n      node.className = \"ace_comment ace_placeholder\";\n      node.style.padding = \"0 9px\";\n      node.style.position = \"absolute\";\n      node.style.zIndex = \"3\";\n      editor.renderer.scroller.appendChild(node);\n    } else if (showPlaceholder && node) {\n      node.textContent = placeholder;\n    }\n  }\n\n  public updateRef(item: HTMLElement) {\n    this.refEditor = item;\n  }\n\n  public render() {\n    const { name, width, height, style } = this.props;\n    const divStyle = { width, height, ...style };\n    return <div ref={this.updateRef} id={name} style={divStyle} />;\n  }\n}\n","import * as PropTypes from \"prop-types\";\nimport * as React from \"react\";\nimport SplitEditor from \"./split\";\nconst DiffMatchPatch = require(\"diff-match-patch\");\nimport { IEditorProps } from \"./types\";\n\nexport interface IDiffEditorProps {\n  cursorStart?: number;\n  editorProps?: object;\n  enableBasicAutocompletion?: boolean | string[];\n  enableLiveAutocompletion?: boolean | string[];\n  focus?: boolean;\n  fontSize?: number;\n  height?: string;\n  highlightActiveLine?: boolean;\n  maxLines?: number;\n  minLines?: number;\n  mode?: string;\n  name?: string;\n  className?: string;\n  onLoad?: (editor: IEditorProps) => void;\n  onChange?: (value: string[], event?: any) => void;\n  onPaste?: (value: string) => void;\n  onScroll?: (editor: IEditorProps) => void;\n  orientation?: string;\n  readOnly?: boolean;\n  scrollMargin?: number[];\n  setOptions?: object;\n  showGutter?: boolean;\n  showPrintMargin?: boolean;\n  splits?: number;\n  style?: object;\n  tabSize?: number;\n  theme?: string;\n  value?: string[];\n  width?: string;\n  wrapEnabled?: boolean;\n}\n\nexport interface IDiffEditorState {\n  value: string[];\n}\n\nexport default class DiffComponent extends React.Component<\n  IDiffEditorProps,\n  IDiffEditorState\n> {\n  public static propTypes: PropTypes.ValidationMap<IDiffEditorProps> = {\n    cursorStart: PropTypes.number,\n    editorProps: PropTypes.object,\n    enableBasicAutocompletion: PropTypes.bool,\n    enableLiveAutocompletion: PropTypes.bool,\n    focus: PropTypes.bool,\n    fontSize: PropTypes.number,\n    height: PropTypes.string,\n    highlightActiveLine: PropTypes.bool,\n    maxLines: PropTypes.number,\n    minLines: PropTypes.number,\n    mode: PropTypes.string,\n    name: PropTypes.string,\n    className: PropTypes.string,\n    onLoad: PropTypes.func,\n    onPaste: PropTypes.func,\n    onScroll: PropTypes.func,\n    onChange: PropTypes.func,\n    orientation: PropTypes.string,\n    readOnly: PropTypes.bool,\n    scrollMargin: PropTypes.array,\n    setOptions: PropTypes.object,\n    showGutter: PropTypes.bool,\n    showPrintMargin: PropTypes.bool,\n    splits: PropTypes.number,\n    style: PropTypes.object,\n    tabSize: PropTypes.number,\n    theme: PropTypes.string,\n    value: PropTypes.array,\n    width: PropTypes.string,\n    wrapEnabled: PropTypes.bool\n  };\n\n  public static defaultProps: Partial<IDiffEditorProps> = {\n    cursorStart: 1,\n    editorProps: {},\n    enableBasicAutocompletion: false,\n    enableLiveAutocompletion: false,\n    focus: false,\n    fontSize: 12,\n    height: \"500px\",\n    highlightActiveLine: true,\n    maxLines: null,\n    minLines: null,\n    mode: \"\",\n    name: \"ace-editor\",\n    onLoad: null,\n    onScroll: null,\n    onPaste: null,\n    onChange: null,\n    orientation: \"beside\",\n    readOnly: false,\n    scrollMargin: [0, 0, 0, 0],\n    setOptions: {},\n    showGutter: true,\n    showPrintMargin: true,\n    splits: 2,\n    style: {},\n    tabSize: 4,\n    theme: \"github\",\n    value: [\"\", \"\"],\n    width: \"500px\",\n    wrapEnabled: true\n  };\n  constructor(props: IDiffEditorProps) {\n    super(props);\n    this.state = {\n      value: this.props.value\n    };\n    this.onChange = this.onChange.bind(this);\n    this.diff = this.diff.bind(this);\n  }\n\n  public componentDidUpdate() {\n    const { value } = this.props;\n\n    if (value !== this.state.value) {\n      this.setState({ value });\n    }\n  }\n\n  public onChange(value: any) {\n    this.setState({\n      value\n    });\n    if (this.props.onChange) {\n      this.props.onChange(value);\n    }\n  }\n\n  public diff() {\n    const dmp = new DiffMatchPatch();\n    const lhString = this.state.value[0];\n    const rhString = this.state.value[1];\n\n    if (lhString.length === 0 && rhString.length === 0) {\n      return [];\n    }\n\n    const diff = dmp.diff_main(lhString, rhString);\n    dmp.diff_cleanupSemantic(diff);\n\n    const diffedLines = this.generateDiffedLines(diff);\n    const codeEditorSettings = this.setCodeMarkers(diffedLines);\n    return codeEditorSettings;\n  }\n\n  public generateDiffedLines(diff: any) {\n    const C = {\n      DIFF_EQUAL: 0,\n      DIFF_DELETE: -1,\n      DIFF_INSERT: 1\n    };\n\n    const diffedLines = {\n      left: [] as any[],\n      right: [] as any[]\n    };\n\n    const cursor = {\n      left: 1,\n      right: 1\n    };\n\n    diff.forEach((chunk: any) => {\n      const chunkType = chunk[0];\n      const text = chunk[1];\n      let lines = text.split(\"\\n\").length - 1;\n\n      // diff-match-patch sometimes returns empty strings at random\n      if (text.length === 0) {\n        return;\n      }\n\n      const firstChar = text[0];\n      const lastChar = text[text.length - 1];\n      let linesToHighlight = 0;\n\n      switch (chunkType) {\n        case C.DIFF_EQUAL:\n          cursor.left += lines;\n          cursor.right += lines;\n\n          break;\n        case C.DIFF_DELETE:\n          // If the deletion starts with a newline, push the cursor down to that line\n          if (firstChar === \"\\n\") {\n            cursor.left++;\n            lines--;\n          }\n\n          linesToHighlight = lines;\n\n          // If the deletion does not include a newline, highlight the same line on the right\n          if (linesToHighlight === 0) {\n            diffedLines.right.push({\n              startLine: cursor.right,\n              endLine: cursor.right\n            });\n          }\n\n          // If the last character is a newline, we don't want to highlight that line\n          if (lastChar === \"\\n\") {\n            linesToHighlight -= 1;\n          }\n\n          diffedLines.left.push({\n            startLine: cursor.left,\n            endLine: cursor.left + linesToHighlight\n          });\n\n          cursor.left += lines;\n          break;\n        case C.DIFF_INSERT:\n          // If the insertion starts with a newline, push the cursor down to that line\n          if (firstChar === \"\\n\") {\n            cursor.right++;\n            lines--;\n          }\n\n          linesToHighlight = lines;\n\n          // If the insertion does not include a newline, highlight the same line on the left\n          if (linesToHighlight === 0) {\n            diffedLines.left.push({\n              startLine: cursor.left,\n              endLine: cursor.left\n            });\n          }\n\n          // If the last character is a newline, we don't want to highlight that line\n          if (lastChar === \"\\n\") {\n            linesToHighlight -= 1;\n          }\n\n          diffedLines.right.push({\n            startLine: cursor.right,\n            endLine: cursor.right + linesToHighlight\n          });\n\n          cursor.right += lines;\n          break;\n        default:\n          throw new Error(\"Diff type was not defined.\");\n      }\n    });\n    return diffedLines;\n  }\n\n  // Receives a collection of line numbers and iterates through them to highlight appropriately\n  // Returns an object that tells the render() method how to display the code editors\n  public setCodeMarkers(diffedLines: any = { left: [], right: [] }) {\n    const codeEditorSettings = [];\n\n    const newMarkerSet = {\n      left: [] as any[],\n      right: [] as any[]\n    };\n\n    for (let i = 0; i < diffedLines.left.length; i++) {\n      const markerObj = {\n        startRow: diffedLines.left[i].startLine - 1,\n        endRow: diffedLines.left[i].endLine,\n        type: \"text\",\n        className: \"codeMarker\"\n      };\n      newMarkerSet.left.push(markerObj);\n    }\n\n    for (let i = 0; i < diffedLines.right.length; i++) {\n      const markerObj = {\n        startRow: diffedLines.right[i].startLine - 1,\n        endRow: diffedLines.right[i].endLine,\n        type: \"text\",\n        className: \"codeMarker\"\n      };\n      newMarkerSet.right.push(markerObj);\n    }\n\n    codeEditorSettings[0] = newMarkerSet.left;\n    codeEditorSettings[1] = newMarkerSet.right;\n\n    return codeEditorSettings;\n  }\n\n  public render() {\n    const markers = this.diff();\n    return (\n      <SplitEditor\n        name={this.props.name}\n        className={this.props.className}\n        focus={this.props.focus}\n        orientation={this.props.orientation}\n        splits={this.props.splits}\n        mode={this.props.mode}\n        theme={this.props.theme}\n        height={this.props.height}\n        width={this.props.width}\n        fontSize={this.props.fontSize}\n        showGutter={this.props.showGutter}\n        onChange={this.onChange}\n        onPaste={this.props.onPaste}\n        onLoad={this.props.onLoad}\n        onScroll={this.props.onScroll}\n        minLines={this.props.minLines}\n        maxLines={this.props.maxLines}\n        readOnly={this.props.readOnly}\n        highlightActiveLine={this.props.highlightActiveLine}\n        showPrintMargin={this.props.showPrintMargin}\n        tabSize={this.props.tabSize}\n        cursorStart={this.props.cursorStart}\n        editorProps={this.props.editorProps}\n        style={this.props.style}\n        scrollMargin={this.props.scrollMargin}\n        setOptions={this.props.setOptions}\n        wrapEnabled={this.props.wrapEnabled}\n        enableBasicAutocompletion={this.props.enableBasicAutocompletion}\n        enableLiveAutocompletion={this.props.enableLiveAutocompletion}\n        value={this.state.value}\n        markers={markers}\n      />\n    );\n  }\n}\n","import * as AceBuilds from \"ace-builds\";\n\ntype EditorOption =\n  | \"minLines\"\n  | \"maxLines\"\n  | \"readOnly\"\n  | \"highlightActiveLine\"\n  | \"tabSize\"\n  | \"enableBasicAutocompletion\"\n  | \"enableLiveAutocompletion\"\n  | \"enableSnippets\";\n\nconst editorOptions: EditorOption[] = [\n  \"minLines\",\n  \"maxLines\",\n  \"readOnly\",\n  \"highlightActiveLine\",\n  \"tabSize\",\n  \"enableBasicAutocompletion\",\n  \"enableLiveAutocompletion\",\n  \"enableSnippets\"\n];\n\ntype EditorEvent =\n  | \"onChange\"\n  | \"onFocus\"\n  | \"onInput\"\n  | \"onBlur\"\n  | \"onCopy\"\n  | \"onPaste\"\n  | \"onSelectionChange\"\n  | \"onCursorChange\"\n  | \"onScroll\"\n  | \"handleOptions\"\n  | \"updateRef\";\n\nconst editorEvents: EditorEvent[] = [\n  \"onChange\",\n  \"onFocus\",\n  \"onInput\",\n  \"onBlur\",\n  \"onCopy\",\n  \"onPaste\",\n  \"onSelectionChange\",\n  \"onCursorChange\",\n  \"onScroll\",\n  \"handleOptions\",\n  \"updateRef\"\n];\n\n// Typescript globals definition to allow us to create a window object during SSR.\ndeclare global {\n  namespace NodeJS {\n    // tslint:disable-next-line\n    interface Global {\n      window: any;\n    }\n  }\n}\nconst getAceInstance = (): typeof AceBuilds => {\n  let ace;\n  if (typeof window === \"undefined\") {\n    // ace-builds just needs some window object to attach ace to.\n    // During SSR even just an empty object will work.\n    global.window = {};\n    ace = require(\"ace-builds\");\n    // And it can be discarded immediately afterward to avoid confusing\n    // other libraries that might detect SSR the same way we did.\n    delete global.window;\n  } else if ((window as any).ace) {\n    // Fallback for ace.require when vanilla ACE is hosted over a CDN\n    ace = (window as any).ace;\n    ace.acequire = (window as any).ace.require || (window as any).ace.acequire;\n  } else {\n    ace = require(\"ace-builds\");\n  }\n  return ace;\n};\n\nconst debounce = (fn: (...args: any[]) => void, delay: number) => {\n  let timer: any = null;\n  // tslint:disable-next-line\n  return function () {\n    const context = this;\n    const args = arguments;\n    clearTimeout(timer);\n    timer = setTimeout(() => {\n      fn.apply(context, args);\n    }, delay);\n  };\n};\nexport { editorOptions, editorEvents, debounce, getAceInstance };\n","import ace, { IAceEditorProps } from \"./ace\";\nimport diff, { IDiffEditorProps, IDiffEditorState } from \"./diff\";\nimport split, { ISplitEditorProps } from \"./split\";\nimport {\n  IAceOptions,\n  IAnnotation,\n  ICommand,\n  ICommandBindKey,\n  ICommandManager,\n  IEditorProps,\n  IMarker\n} from \"./types\";\nexport {\n  split,\n  diff,\n  IAceOptions,\n  IAceEditorProps,\n  IAnnotation,\n  ICommand,\n  ICommandBindKey,\n  ICommandManager,\n  IDiffEditorProps,\n  IDiffEditorState,\n  IEditorProps,\n  IMarker,\n  ISplitEditorProps\n};\nexport default ace;\n","import {\n  debounce,\n  editorEvents,\n  editorOptions,\n  getAceInstance\n} from \"./editorOptions\";\nconst ace = getAceInstance();\nimport { Ace, Range } from \"ace-builds\";\nimport Editor = Ace.Editor;\nimport { Split } from \"ace-builds/src-noconflict/ext-split\";\nimport * as PropTypes from \"prop-types\";\nimport * as React from \"react\";\nconst isEqual = require(\"lodash.isequal\");\nconst get = require(\"lodash.get\");\nimport {\n  IAceOptions,\n  IAnnotation,\n  ICommand,\n  IEditorProps,\n  IMarker\n} from \"./types\";\n\ninterface IAceEditorClass extends Editor {\n  [index: string]: any;\n  $options?: any;\n}\n\nexport interface ISplitEditorProps {\n  [index: string]: any;\n  name?: string;\n  style?: object;\n  /** For available modes see https://github.com/thlorenz/brace/tree/master/mode */\n  mode?: string;\n  /** For available themes see https://github.com/thlorenz/brace/tree/master/theme */\n  theme?: string;\n  height?: string;\n  width?: string;\n  className?: string;\n  fontSize?: number | string;\n  showGutter?: boolean;\n  showPrintMargin?: boolean;\n  highlightActiveLine?: boolean;\n  focus?: boolean;\n  splits: number;\n  debounceChangePeriod?: number;\n  cursorStart?: number;\n  wrapEnabled?: boolean;\n  readOnly?: boolean;\n  minLines?: number;\n  maxLines?: number;\n  enableBasicAutocompletion?: boolean | string[];\n  enableLiveAutocompletion?: boolean | string[];\n  tabSize?: number;\n  value?: string[];\n  defaultValue?: string[];\n  scrollMargin?: number[];\n  orientation?: string;\n  onSelectionChange?: (value: any, event?: any) => void;\n  onCursorChange?: (value: any, event?: any) => void;\n  onInput?: (event?: any) => void;\n  onLoad?: (editor: IEditorProps) => void;\n  onBeforeLoad?: (ace: any) => void;\n  onChange?: (value: string[], event?: any) => void;\n  onSelection?: (selectedText: string, event?: any) => void;\n  onCopy?: (value: string) => void;\n  onPaste?: (value: string) => void;\n  onFocus?: (value: Event) => void;\n  onBlur?: (value: Event) => void;\n  onScroll?: (editor: IEditorProps) => void;\n  editorProps?: IEditorProps;\n  setOptions?: IAceOptions;\n  keyboardHandler?: string;\n  commands?: ICommand[];\n  annotations?: IAnnotation[][];\n  markers?: IMarker[][];\n}\n\nexport default class SplitComponent extends React.Component<\n  ISplitEditorProps,\n  undefined\n> {\n  [index: string]: any;\n\n  public static propTypes: PropTypes.ValidationMap<ISplitEditorProps> = {\n    className: PropTypes.string,\n    debounceChangePeriod: PropTypes.number,\n    defaultValue: PropTypes.arrayOf(PropTypes.string),\n    focus: PropTypes.bool,\n    fontSize: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n    height: PropTypes.string,\n    mode: PropTypes.string,\n    name: PropTypes.string,\n    onBlur: PropTypes.func,\n    onChange: PropTypes.func,\n    onCopy: PropTypes.func,\n    onFocus: PropTypes.func,\n    onInput: PropTypes.func,\n    onLoad: PropTypes.func,\n    onPaste: PropTypes.func,\n    onScroll: PropTypes.func,\n    orientation: PropTypes.string,\n    showGutter: PropTypes.bool,\n    splits: PropTypes.number,\n    theme: PropTypes.string,\n    value: PropTypes.arrayOf(PropTypes.string),\n    width: PropTypes.string,\n    onSelectionChange: PropTypes.func,\n    onCursorChange: PropTypes.func,\n    onBeforeLoad: PropTypes.func,\n    minLines: PropTypes.number,\n    maxLines: PropTypes.number,\n    readOnly: PropTypes.bool,\n    highlightActiveLine: PropTypes.bool,\n    tabSize: PropTypes.number,\n    showPrintMargin: PropTypes.bool,\n    cursorStart: PropTypes.number,\n    editorProps: PropTypes.object,\n    setOptions: PropTypes.object,\n    style: PropTypes.object,\n    scrollMargin: PropTypes.array,\n    annotations: PropTypes.array,\n    markers: PropTypes.array,\n    keyboardHandler: PropTypes.string,\n    wrapEnabled: PropTypes.bool,\n    enableBasicAutocompletion: PropTypes.oneOfType([\n      PropTypes.bool,\n      PropTypes.array\n    ]),\n    enableLiveAutocompletion: PropTypes.oneOfType([\n      PropTypes.bool,\n      PropTypes.array\n    ]),\n    commands: PropTypes.array\n  };\n  public static defaultProps: Partial<ISplitEditorProps> = {\n    name: \"ace-editor\",\n    focus: false,\n    orientation: \"beside\",\n    splits: 2,\n    mode: \"\",\n    theme: \"\",\n    height: \"500px\",\n    width: \"500px\",\n    value: [],\n    fontSize: 12,\n    showGutter: true,\n    onChange: null,\n    onPaste: null,\n    onLoad: null,\n    onScroll: null,\n    minLines: null,\n    maxLines: null,\n    readOnly: false,\n    highlightActiveLine: true,\n    showPrintMargin: true,\n    tabSize: 4,\n    cursorStart: 1,\n    editorProps: {},\n    style: {},\n    scrollMargin: [0, 0, 0, 0],\n    setOptions: {},\n    wrapEnabled: false,\n    enableBasicAutocompletion: false,\n    enableLiveAutocompletion: false\n  };\n  public editor: IAceEditorClass;\n  public refEditor: HTMLElement;\n  public silent: boolean;\n  public split: IAceEditorClass;\n  public splitEditor: IAceEditorClass;\n  public debounce: (fn: any, delay: number) => (...args: any) => void;\n  constructor(props: ISplitEditorProps) {\n    super(props);\n    editorEvents.forEach(method => {\n      this[method] = this[method].bind(this);\n    });\n    this.debounce = debounce;\n  }\n  public isInShadow(node: HTMLElement): boolean {\n    let parent = node && node.parentNode;\n    while (parent) {\n      if (parent.toString() === \"[object ShadowRoot]\") {\n        return true;\n      }\n      parent = parent.parentNode;\n    }\n    return false;\n  }\n  public componentDidMount() {\n    const {\n      className,\n      onBeforeLoad,\n      mode,\n      focus,\n      theme,\n      fontSize,\n      value,\n      defaultValue,\n      cursorStart,\n      showGutter,\n      wrapEnabled,\n      showPrintMargin,\n      scrollMargin = [0, 0, 0, 0],\n      keyboardHandler,\n      onLoad,\n      commands,\n      annotations,\n      markers,\n      splits\n    } = this.props;\n\n    this.editor = ace.edit(this.refEditor);\n    if (this.isInShadow(this.refEditor)) {\n      this.editor.renderer.attachToShadowRoot();\n    }\n    this.editor.setTheme(`ace/theme/${theme}`);\n\n    if (onBeforeLoad) {\n      onBeforeLoad(ace);\n    }\n\n    const editorProps = Object.keys(this.props.editorProps);\n\n    const split = new Split(\n      this.editor.container,\n      `ace/theme/${theme}`,\n      splits\n    );\n    this.editor.env.split = split;\n\n    this.splitEditor = split.getEditor(0);\n    this.split = split;\n    // in a split scenario we don't want a print margin for the entire application\n    this.editor.setShowPrintMargin(false);\n    this.editor.renderer.setShowGutter(false);\n    // get a list of possible options to avoid 'misspelled option errors'\n    const availableOptions = this.splitEditor.$options;\n    if (this.props.debounceChangePeriod) {\n      this.onChange = this.debounce(\n        this.onChange,\n        this.props.debounceChangePeriod\n      );\n    }\n    split.forEach((editor: IAceEditorClass, index: number) => {\n      for (let i = 0; i < editorProps.length; i++) {\n        editor[editorProps[i]] = this.props.editorProps[editorProps[i]];\n      }\n      const defaultValueForEditor = get(defaultValue, index);\n      const valueForEditor = get(value, index, \"\");\n      editor.session.setUndoManager(new ace.UndoManager());\n      editor.setTheme(`ace/theme/${theme}`);\n      editor.renderer.setScrollMargin(\n        scrollMargin[0],\n        scrollMargin[1],\n        scrollMargin[2],\n        scrollMargin[3]\n      );\n      editor.getSession().setMode(`ace/mode/${mode}`);\n      editor.setFontSize(fontSize as any);\n      editor.renderer.setShowGutter(showGutter);\n      editor.getSession().setUseWrapMode(wrapEnabled);\n      editor.setShowPrintMargin(showPrintMargin);\n      editor.on(\"focus\", this.onFocus);\n      editor.on(\"blur\", this.onBlur);\n      editor.on(\"input\" as any, this.onInput);\n      editor.on(\"copy\", this.onCopy as any);\n      editor.on(\"paste\", this.onPaste as any);\n      editor.on(\"change\", this.onChange);\n      editor\n        .getSession()\n        .selection.on(\"changeSelection\", this.onSelectionChange);\n      editor.getSession().selection.on(\"changeCursor\", this.onCursorChange);\n      editor.session.on(\"changeScrollTop\", this.onScroll);\n      editor.setValue(\n        defaultValueForEditor === undefined\n          ? valueForEditor\n          : defaultValueForEditor,\n        cursorStart\n      );\n      const newAnnotations = get(annotations, index, []);\n      const newMarkers = get(markers, index, []);\n      editor.getSession().setAnnotations(newAnnotations);\n      if (newMarkers && newMarkers.length > 0) {\n        this.handleMarkers(newMarkers, editor);\n      }\n\n      for (let i = 0; i < editorOptions.length; i++) {\n        const option = editorOptions[i];\n        if (availableOptions.hasOwnProperty(option)) {\n          editor.setOption(option as any, this.props[option]);\n        } else if (this.props[option]) {\n          console.warn(\n            `ReaceAce: editor option ${option} was activated but not found. Did you need to import a related tool or did you possibly mispell the option?`\n          );\n        }\n      }\n      this.handleOptions(this.props, editor);\n\n      if (Array.isArray(commands)) {\n        commands.forEach(command => {\n          if (typeof command.exec === \"string\") {\n            (editor.commands as any).bindKey(command.bindKey, command.exec);\n          } else {\n            (editor.commands as any).addCommand(command);\n          }\n        });\n      }\n\n      if (keyboardHandler) {\n        editor.setKeyboardHandler(\"ace/keyboard/\" + keyboardHandler);\n      }\n    });\n\n    if (className) {\n      this.refEditor.className += \" \" + className;\n    }\n\n    if (focus) {\n      this.splitEditor.focus();\n    }\n\n    const sp = this.editor.env.split;\n    sp.setOrientation(\n      this.props.orientation === \"below\" ? sp.BELOW : sp.BESIDE\n    );\n    sp.resize(true);\n    if (onLoad) {\n      onLoad(sp);\n    }\n  }\n\n  public componentDidUpdate(prevProps: ISplitEditorProps) {\n    const oldProps = prevProps;\n    const nextProps = this.props;\n\n    const split = this.editor.env.split;\n\n    if (nextProps.splits !== oldProps.splits) {\n      split.setSplits(nextProps.splits);\n    }\n\n    if (nextProps.orientation !== oldProps.orientation) {\n      split.setOrientation(\n        nextProps.orientation === \"below\" ? split.BELOW : split.BESIDE\n      );\n    }\n\n    split.forEach((editor: IAceEditorClass, index: number) => {\n      if (nextProps.mode !== oldProps.mode) {\n        editor.getSession().setMode(\"ace/mode/\" + nextProps.mode);\n      }\n      if (nextProps.keyboardHandler !== oldProps.keyboardHandler) {\n        if (nextProps.keyboardHandler) {\n          editor.setKeyboardHandler(\n            \"ace/keyboard/\" + nextProps.keyboardHandler\n          );\n        } else {\n          editor.setKeyboardHandler(null);\n        }\n      }\n      if (nextProps.fontSize !== oldProps.fontSize) {\n        editor.setFontSize(nextProps.fontSize as any);\n      }\n      if (nextProps.wrapEnabled !== oldProps.wrapEnabled) {\n        editor.getSession().setUseWrapMode(nextProps.wrapEnabled);\n      }\n      if (nextProps.showPrintMargin !== oldProps.showPrintMargin) {\n        editor.setShowPrintMargin(nextProps.showPrintMargin);\n      }\n      if (nextProps.showGutter !== oldProps.showGutter) {\n        editor.renderer.setShowGutter(nextProps.showGutter);\n      }\n\n      for (let i = 0; i < editorOptions.length; i++) {\n        const option = editorOptions[i];\n        if (nextProps[option] !== oldProps[option]) {\n          editor.setOption(option as any, nextProps[option]);\n        }\n      }\n      if (!isEqual(nextProps.setOptions, oldProps.setOptions)) {\n        this.handleOptions(nextProps, editor);\n      }\n      const nextValue = get(nextProps.value, index, \"\");\n      if (editor.getValue() !== nextValue) {\n        // editor.setValue is a synchronous function call, change event is emitted before setValue return.\n        this.silent = true;\n        const pos = (editor.session.selection as any).toJSON();\n        editor.setValue(nextValue, nextProps.cursorStart);\n        (editor.session.selection as any).fromJSON(pos);\n        this.silent = false;\n      }\n      const newAnnotations = get(nextProps.annotations, index, []);\n      const oldAnnotations = get(oldProps.annotations, index, []);\n      if (!isEqual(newAnnotations, oldAnnotations)) {\n        editor.getSession().setAnnotations(newAnnotations);\n      }\n\n      const newMarkers = get(nextProps.markers, index, []);\n      const oldMarkers = get(oldProps.markers, index, []);\n      if (!isEqual(newMarkers, oldMarkers) && Array.isArray(newMarkers)) {\n        this.handleMarkers(newMarkers, editor);\n      }\n    });\n\n    if (nextProps.className !== oldProps.className) {\n      const appliedClasses = this.refEditor.className;\n      const appliedClassesArray = appliedClasses.trim().split(\" \");\n      const oldClassesArray = oldProps.className.trim().split(\" \");\n      oldClassesArray.forEach(oldClass => {\n        const index = appliedClassesArray.indexOf(oldClass);\n        appliedClassesArray.splice(index, 1);\n      });\n      this.refEditor.className =\n        \" \" + nextProps.className + \" \" + appliedClassesArray.join(\" \");\n    }\n\n    if (nextProps.theme !== oldProps.theme) {\n      split.setTheme(\"ace/theme/\" + nextProps.theme);\n    }\n\n    if (nextProps.focus && !oldProps.focus) {\n      this.splitEditor.focus();\n    }\n    if (\n      nextProps.height !== this.props.height ||\n      nextProps.width !== this.props.width\n    ) {\n      this.editor.resize();\n    }\n  }\n\n  public componentWillUnmount() {\n    this.editor.destroy();\n    this.editor = null;\n  }\n\n  public onChange(event: any) {\n    if (this.props.onChange && !this.silent) {\n      const value: any = [];\n      this.editor.env.split.forEach((editor: IAceEditorClass) => {\n        value.push(editor.getValue());\n      });\n      this.props.onChange(value, event);\n    }\n  }\n\n  public onSelectionChange(event: any) {\n    if (this.props.onSelectionChange) {\n      const value: any = [];\n      this.editor.env.split.forEach((editor: IAceEditorClass) => {\n        value.push(editor.getSelection());\n      });\n      this.props.onSelectionChange(value, event);\n    }\n  }\n  public onCursorChange(event: any) {\n    if (this.props.onCursorChange) {\n      const value: any = [];\n      this.editor.env.split.forEach((editor: IAceEditorClass) => {\n        value.push(editor.getSelection());\n      });\n      this.props.onCursorChange(value, event);\n    }\n  }\n  public onFocus(event: any) {\n    if (this.props.onFocus) {\n      this.props.onFocus(event);\n    }\n  }\n\n  public onInput(event: any) {\n    if (this.props.onInput) {\n      this.props.onInput(event);\n    }\n  }\n\n  public onBlur(event: any) {\n    if (this.props.onBlur) {\n      this.props.onBlur(event);\n    }\n  }\n\n  public onCopy(text: string) {\n    if (this.props.onCopy) {\n      this.props.onCopy(text);\n    }\n  }\n\n  public onPaste(text: string) {\n    if (this.props.onPaste) {\n      this.props.onPaste(text);\n    }\n  }\n\n  public onScroll() {\n    if (this.props.onScroll) {\n      this.props.onScroll(this.editor);\n    }\n  }\n\n  public handleOptions(props: ISplitEditorProps, editor: IAceEditorClass) {\n    const setOptions = Object.keys(props.setOptions);\n    for (let y = 0; y < setOptions.length; y++) {\n      editor.setOption(setOptions[y] as any, props.setOptions[setOptions[y]]);\n    }\n  }\n\n  public handleMarkers(markers: IMarker[], editor: IAceEditorClass) {\n    // remove foreground markers\n    let currentMarkers = editor.getSession().getMarkers(true);\n    for (const i in currentMarkers) {\n      if (currentMarkers.hasOwnProperty(i)) {\n        editor.getSession().removeMarker(currentMarkers[i].id);\n      }\n    }\n    // remove background markers\n    currentMarkers = editor.getSession().getMarkers(false);\n    for (const i in currentMarkers) {\n      if (currentMarkers.hasOwnProperty(i)) {\n        editor.getSession().removeMarker(currentMarkers[i].id);\n      }\n    }\n    // add new markers\n    markers.forEach(\n      ({\n        startRow,\n        startCol,\n        endRow,\n        endCol,\n        className,\n        type,\n        inFront = false\n      }) => {\n        const range = new Range(startRow, startCol, endRow, endCol);\n        editor\n          .getSession()\n          .addMarker(range as any, className, type as any, inFront);\n      }\n    );\n  }\n\n  public updateRef(item: HTMLElement) {\n    this.refEditor = item;\n  }\n\n  public render() {\n    const { name, width, height, style } = this.props;\n    const divStyle = { width, height, ...style };\n    return <div ref={this.updateRef} id={name} style={divStyle} />;\n  }\n}\n","/* ***** BEGIN LICENSE BLOCK *****\n * Distributed under the BSD license:\n *\n * Copyright (c) 2010, Ajax.org B.V.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *     * Redistributions of source code must retain the above copyright\n *       notice, this list of conditions and the following disclaimer.\n *     * Redistributions in binary form must reproduce the above copyright\n *       notice, this list of conditions and the following disclaimer in the\n *       documentation and/or other materials provided with the distribution.\n *     * Neither the name of Ajax.org B.V. nor the\n *       names of its contributors may be used to endorse or promote products\n *       derived from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL AJAX.ORG B.V. BE LIABLE FOR ANY\n * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * ***** END LICENSE BLOCK ***** */\n\n/**\n * Define a module along with a payload\n * @param module a name for the payload\n * @param payload a function to call with (require, exports, module) params\n */\n\n(function() {\n\nvar ACE_NAMESPACE = \"ace\";\n\nvar global = (function() { return this; })();\nif (!global && typeof window != \"undefined\") global = window; // strict mode\n\n\nif (!ACE_NAMESPACE && typeof requirejs !== \"undefined\")\n    return;\n\n\nvar define = function(module, deps, payload) {\n    if (typeof module !== \"string\") {\n        if (define.original)\n            define.original.apply(this, arguments);\n        else {\n            console.error(\"dropping module because define wasn\\'t a string.\");\n            console.trace();\n        }\n        return;\n    }\n    if (arguments.length == 2)\n        payload = deps;\n    if (!define.modules[module]) {\n        define.payloads[module] = payload;\n        define.modules[module] = null;\n    }\n};\n\ndefine.modules = {};\ndefine.payloads = {};\n\n/**\n * Get at functionality define()ed using the function above\n */\nvar _require = function(parentId, module, callback) {\n    if (typeof module === \"string\") {\n        var payload = lookup(parentId, module);\n        if (payload != undefined) {\n            callback && callback();\n            return payload;\n        }\n    } else if (Object.prototype.toString.call(module) === \"[object Array]\") {\n        var params = [];\n        for (var i = 0, l = module.length; i < l; ++i) {\n            var dep = lookup(parentId, module[i]);\n            if (dep == undefined && require.original)\n                return;\n            params.push(dep);\n        }\n        return callback && callback.apply(null, params) || true;\n    }\n};\n\nvar require = function(module, callback) {\n    var packagedModule = _require(\"\", module, callback);\n    if (packagedModule == undefined && require.original)\n        return require.original.apply(this, arguments);\n    return packagedModule;\n};\n\nvar normalizeModule = function(parentId, moduleName) {\n    // normalize plugin requires\n    if (moduleName.indexOf(\"!\") !== -1) {\n        var chunks = moduleName.split(\"!\");\n        return normalizeModule(parentId, chunks[0]) + \"!\" + normalizeModule(parentId, chunks[1]);\n    }\n    // normalize relative requires\n    if (moduleName.charAt(0) == \".\") {\n        var base = parentId.split(\"/\").slice(0, -1).join(\"/\");\n        moduleName = base + \"/\" + moduleName;\n\n        while(moduleName.indexOf(\".\") !== -1 && previous != moduleName) {\n            var previous = moduleName;\n            moduleName = moduleName.replace(/\\/\\.\\//, \"/\").replace(/[^\\/]+\\/\\.\\.\\//, \"\");\n        }\n    }\n    return moduleName;\n};\n\n/**\n * Internal function to lookup moduleNames and resolve them by calling the\n * definition function if needed.\n */\nvar lookup = function(parentId, moduleName) {\n    moduleName = normalizeModule(parentId, moduleName);\n\n    var module = define.modules[moduleName];\n    if (!module) {\n        module = define.payloads[moduleName];\n        if (typeof module === 'function') {\n            var exports = {};\n            var mod = {\n                id: moduleName,\n                uri: '',\n                exports: exports,\n                packaged: true\n            };\n\n            var req = function(module, callback) {\n                return _require(moduleName, module, callback);\n            };\n\n            var returnValue = module(req, exports, mod);\n            exports = returnValue || mod.exports;\n            define.modules[moduleName] = exports;\n            delete define.payloads[moduleName];\n        }\n        module = define.modules[moduleName] = exports || module;\n    }\n    return module;\n};\n\nfunction exportAce(ns) {\n    var root = global;\n    if (ns) {\n        if (!global[ns])\n            global[ns] = {};\n        root = global[ns];\n    }\n\n    if (!root.define || !root.define.packaged) {\n        define.original = root.define;\n        root.define = define;\n        root.define.packaged = true;\n    }\n\n    if (!root.require || !root.require.packaged) {\n        require.original = root.require;\n        root.require = require;\n        root.require.packaged = true;\n    }\n}\n\nexportAce(ACE_NAMESPACE);\n\n})();\n\nace.define(\"ace/lib/es6-shim\",[\"require\",\"exports\",\"module\"], function(require, exports, module){function defineProp(obj, name, val) {\n    Object.defineProperty(obj, name, {\n        value: val,\n        enumerable: false,\n        writable: true,\n        configurable: true\n    });\n}\nif (!String.prototype.startsWith) {\n    defineProp(String.prototype, \"startsWith\", function (searchString, position) {\n        position = position || 0;\n        return this.lastIndexOf(searchString, position) === position;\n    });\n}\nif (!String.prototype.endsWith) {\n    defineProp(String.prototype, \"endsWith\", function (searchString, position) {\n        var subjectString = this;\n        if (position === undefined || position > subjectString.length) {\n            position = subjectString.length;\n        }\n        position -= searchString.length;\n        var lastIndex = subjectString.indexOf(searchString, position);\n        return lastIndex !== -1 && lastIndex === position;\n    });\n}\nif (!String.prototype.repeat) {\n    defineProp(String.prototype, \"repeat\", function (count) {\n        var result = \"\";\n        var string = this;\n        while (count > 0) {\n            if (count & 1)\n                result += string;\n            if ((count >>= 1))\n                string += string;\n        }\n        return result;\n    });\n}\nif (!String.prototype.includes) {\n    defineProp(String.prototype, \"includes\", function (str, position) {\n        return this.indexOf(str, position) != -1;\n    });\n}\nif (!Object.assign) {\n    Object.assign = function (target) {\n        if (target === undefined || target === null) {\n            throw new TypeError(\"Cannot convert undefined or null to object\");\n        }\n        var output = Object(target);\n        for (var index = 1; index < arguments.length; index++) {\n            var source = arguments[index];\n            if (source !== undefined && source !== null) {\n                Object.keys(source).forEach(function (key) {\n                    output[key] = source[key];\n                });\n            }\n        }\n        return output;\n    };\n}\nif (!Object.values) {\n    Object.values = function (o) {\n        return Object.keys(o).map(function (k) {\n            return o[k];\n        });\n    };\n}\nif (!Array.prototype.find) {\n    defineProp(Array.prototype, \"find\", function (predicate) {\n        var len = this.length;\n        var thisArg = arguments[1];\n        for (var k = 0; k < len; k++) {\n            var kValue = this[k];\n            if (predicate.call(thisArg, kValue, k, this)) {\n                return kValue;\n            }\n        }\n    });\n}\nif (!Array.prototype.findIndex) {\n    defineProp(Array.prototype, \"findIndex\", function (predicate) {\n        var len = this.length;\n        var thisArg = arguments[1];\n        for (var k = 0; k < len; k++) {\n            var kValue = this[k];\n            if (predicate.call(thisArg, kValue, k, this)) {\n                return k;\n            }\n        }\n    });\n}\nif (!Array.prototype.includes) {\n    defineProp(Array.prototype, \"includes\", function (item, position) {\n        return this.indexOf(item, position) != -1;\n    });\n}\nif (!Array.prototype.fill) {\n    defineProp(Array.prototype, \"fill\", function (value) {\n        var O = this;\n        var len = O.length >>> 0;\n        var start = arguments[1];\n        var relativeStart = start >> 0;\n        var k = relativeStart < 0\n            ? Math.max(len + relativeStart, 0)\n            : Math.min(relativeStart, len);\n        var end = arguments[2];\n        var relativeEnd = end === undefined ? len : end >> 0;\n        var final = relativeEnd < 0\n            ? Math.max(len + relativeEnd, 0)\n            : Math.min(relativeEnd, len);\n        while (k < final) {\n            O[k] = value;\n            k++;\n        }\n        return O;\n    });\n}\nif (!Array.of) {\n    defineProp(Array, \"of\", function () {\n        return Array.prototype.slice.call(arguments);\n    });\n}\n\n});\n\nace.define(\"ace/lib/fixoldbrowsers\",[\"require\",\"exports\",\"module\",\"ace/lib/es6-shim\"], function(require, exports, module){// vim:set ts=4 sts=4 sw=4 st:\n\"use strict\";\nrequire(\"./es6-shim\");\n\n});\n\nace.define(\"ace/lib/lang\",[\"require\",\"exports\",\"module\"], function(require, exports, module){\"use strict\";\nexports.last = function (a) {\n    return a[a.length - 1];\n};\nexports.stringReverse = function (string) {\n    return string.split(\"\").reverse().join(\"\");\n};\nexports.stringRepeat = function (string, count) {\n    var result = '';\n    while (count > 0) {\n        if (count & 1)\n            result += string;\n        if (count >>= 1)\n            string += string;\n    }\n    return result;\n};\nvar trimBeginRegexp = /^\\s\\s*/;\nvar trimEndRegexp = /\\s\\s*$/;\nexports.stringTrimLeft = function (string) {\n    return string.replace(trimBeginRegexp, '');\n};\nexports.stringTrimRight = function (string) {\n    return string.replace(trimEndRegexp, '');\n};\nexports.copyObject = function (obj) {\n    var copy = {};\n    for (var key in obj) {\n        copy[key] = obj[key];\n    }\n    return copy;\n};\nexports.copyArray = function (array) {\n    var copy = [];\n    for (var i = 0, l = array.length; i < l; i++) {\n        if (array[i] && typeof array[i] == \"object\")\n            copy[i] = this.copyObject(array[i]);\n        else\n            copy[i] = array[i];\n    }\n    return copy;\n};\nexports.deepCopy = function deepCopy(obj) {\n    if (typeof obj !== \"object\" || !obj)\n        return obj;\n    var copy;\n    if (Array.isArray(obj)) {\n        copy = [];\n        for (var key = 0; key < obj.length; key++) {\n            copy[key] = deepCopy(obj[key]);\n        }\n        return copy;\n    }\n    if (Object.prototype.toString.call(obj) !== \"[object Object]\")\n        return obj;\n    copy = {};\n    for (var key in obj)\n        copy[key] = deepCopy(obj[key]);\n    return copy;\n};\nexports.arrayToMap = function (arr) {\n    var map = {};\n    for (var i = 0; i < arr.length; i++) {\n        map[arr[i]] = 1;\n    }\n    return map;\n};\nexports.createMap = function (props) {\n    var map = Object.create(null);\n    for (var i in props) {\n        map[i] = props[i];\n    }\n    return map;\n};\nexports.arrayRemove = function (array, value) {\n    for (var i = 0; i <= array.length; i++) {\n        if (value === array[i]) {\n            array.splice(i, 1);\n        }\n    }\n};\nexports.escapeRegExp = function (str) {\n    return str.replace(/([.*+?^${}()|[\\]\\/\\\\])/g, '\\\\$1');\n};\nexports.escapeHTML = function (str) {\n    return (\"\" + str).replace(/&/g, \"&#38;\").replace(/\"/g, \"&#34;\").replace(/'/g, \"&#39;\").replace(/</g, \"&#60;\");\n};\nexports.getMatchOffsets = function (string, regExp) {\n    var matches = [];\n    string.replace(regExp, function (str) {\n        matches.push({\n            offset: arguments[arguments.length - 2],\n            length: str.length\n        });\n    });\n    return matches;\n};\nexports.deferredCall = function (fcn) {\n    var timer = null;\n    var callback = function () {\n        timer = null;\n        fcn();\n    };\n    var deferred = function (timeout) {\n        deferred.cancel();\n        timer = setTimeout(callback, timeout || 0);\n        return deferred;\n    };\n    deferred.schedule = deferred;\n    deferred.call = function () {\n        this.cancel();\n        fcn();\n        return deferred;\n    };\n    deferred.cancel = function () {\n        clearTimeout(timer);\n        timer = null;\n        return deferred;\n    };\n    deferred.isPending = function () {\n        return timer;\n    };\n    return deferred;\n};\nexports.delayedCall = function (fcn, defaultTimeout) {\n    var timer = null;\n    var callback = function () {\n        timer = null;\n        fcn();\n    };\n    var _self = function (timeout) {\n        if (timer == null)\n            timer = setTimeout(callback, timeout || defaultTimeout);\n    };\n    _self.delay = function (timeout) {\n        timer && clearTimeout(timer);\n        timer = setTimeout(callback, timeout || defaultTimeout);\n    };\n    _self.schedule = _self;\n    _self.call = function () {\n        this.cancel();\n        fcn();\n    };\n    _self.cancel = function () {\n        timer && clearTimeout(timer);\n        timer = null;\n    };\n    _self.isPending = function () {\n        return timer;\n    };\n    return _self;\n};\n\n});\n\nace.define(\"ace/lib/oop\",[\"require\",\"exports\",\"module\"], function(require, exports, module){\"use strict\";\nexports.inherits = function (ctor, superCtor) {\n    ctor.super_ = superCtor;\n    ctor.prototype = Object.create(superCtor.prototype, {\n        constructor: {\n            value: ctor,\n            enumerable: false,\n            writable: true,\n            configurable: true\n        }\n    });\n};\nexports.mixin = function (obj, mixin) {\n    for (var key in mixin) {\n        obj[key] = mixin[key];\n    }\n    return obj;\n};\nexports.implement = function (proto, mixin) {\n    exports.mixin(proto, mixin);\n};\n\n});\n\nace.define(\"ace/lib/useragent\",[\"require\",\"exports\",\"module\"], function(require, exports, module){\"use strict\";\nexports.OS = {\n    LINUX: \"LINUX\",\n    MAC: \"MAC\",\n    WINDOWS: \"WINDOWS\"\n};\nexports.getOS = function () {\n    if (exports.isMac) {\n        return exports.OS.MAC;\n    }\n    else if (exports.isLinux) {\n        return exports.OS.LINUX;\n    }\n    else {\n        return exports.OS.WINDOWS;\n    }\n};\nvar _navigator = typeof navigator == \"object\" ? navigator : {};\nvar os = (/mac|win|linux/i.exec(_navigator.platform) || [\"other\"])[0].toLowerCase();\nvar ua = _navigator.userAgent || \"\";\nvar appName = _navigator.appName || \"\";\nexports.isWin = (os == \"win\");\nexports.isMac = (os == \"mac\");\nexports.isLinux = (os == \"linux\");\nexports.isIE =\n    (appName == \"Microsoft Internet Explorer\" || appName.indexOf(\"MSAppHost\") >= 0)\n        ? parseFloat((ua.match(/(?:MSIE |Trident\\/[0-9]+[\\.0-9]+;.*rv:)([0-9]+[\\.0-9]+)/) || [])[1])\n        : parseFloat((ua.match(/(?:Trident\\/[0-9]+[\\.0-9]+;.*rv:)([0-9]+[\\.0-9]+)/) || [])[1]); // for ie\nexports.isOldIE = exports.isIE && exports.isIE < 9;\nexports.isGecko = exports.isMozilla = ua.match(/ Gecko\\/\\d+/);\nexports.isOpera = typeof opera == \"object\" && Object.prototype.toString.call(window.opera) == \"[object Opera]\";\nexports.isWebKit = parseFloat(ua.split(\"WebKit/\")[1]) || undefined;\nexports.isChrome = parseFloat(ua.split(\" Chrome/\")[1]) || undefined;\nexports.isEdge = parseFloat(ua.split(\" Edge/\")[1]) || undefined;\nexports.isAIR = ua.indexOf(\"AdobeAIR\") >= 0;\nexports.isAndroid = ua.indexOf(\"Android\") >= 0;\nexports.isChromeOS = ua.indexOf(\" CrOS \") >= 0;\nexports.isIOS = /iPad|iPhone|iPod/.test(ua) && !window.MSStream;\nif (exports.isIOS)\n    exports.isMac = true;\nexports.isMobile = exports.isIOS || exports.isAndroid;\n\n});\n\nace.define(\"ace/lib/dom\",[\"require\",\"exports\",\"module\",\"ace/lib/useragent\"], function(require, exports, module){\"use strict\";\nvar useragent = require(\"./useragent\");\nvar XHTML_NS = \"http://www.w3.org/1999/xhtml\";\nexports.buildDom = function buildDom(arr, parent, refs) {\n    if (typeof arr == \"string\" && arr) {\n        var txt = document.createTextNode(arr);\n        if (parent)\n            parent.appendChild(txt);\n        return txt;\n    }\n    if (!Array.isArray(arr)) {\n        if (arr && arr.appendChild && parent)\n            parent.appendChild(arr);\n        return arr;\n    }\n    if (typeof arr[0] != \"string\" || !arr[0]) {\n        var els = [];\n        for (var i = 0; i < arr.length; i++) {\n            var ch = buildDom(arr[i], parent, refs);\n            ch && els.push(ch);\n        }\n        return els;\n    }\n    var el = document.createElement(arr[0]);\n    var options = arr[1];\n    var childIndex = 1;\n    if (options && typeof options == \"object\" && !Array.isArray(options))\n        childIndex = 2;\n    for (var i = childIndex; i < arr.length; i++)\n        buildDom(arr[i], el, refs);\n    if (childIndex == 2) {\n        Object.keys(options).forEach(function (n) {\n            var val = options[n];\n            if (n === \"class\") {\n                el.className = Array.isArray(val) ? val.join(\" \") : val;\n            }\n            else if (typeof val == \"function\" || n == \"value\" || n[0] == \"$\") {\n                el[n] = val;\n            }\n            else if (n === \"ref\") {\n                if (refs)\n                    refs[val] = el;\n            }\n            else if (n === \"style\") {\n                if (typeof val == \"string\")\n                    el.style.cssText = val;\n            }\n            else if (val != null) {\n                el.setAttribute(n, val);\n            }\n        });\n    }\n    if (parent)\n        parent.appendChild(el);\n    return el;\n};\nexports.getDocumentHead = function (doc) {\n    if (!doc)\n        doc = document;\n    return doc.head || doc.getElementsByTagName(\"head\")[0] || doc.documentElement;\n};\nexports.createElement = function (tag, ns) {\n    return document.createElementNS ?\n        document.createElementNS(ns || XHTML_NS, tag) :\n        document.createElement(tag);\n};\nexports.removeChildren = function (element) {\n    element.innerHTML = \"\";\n};\nexports.createTextNode = function (textContent, element) {\n    var doc = element ? element.ownerDocument : document;\n    return doc.createTextNode(textContent);\n};\nexports.createFragment = function (element) {\n    var doc = element ? element.ownerDocument : document;\n    return doc.createDocumentFragment();\n};\nexports.hasCssClass = function (el, name) {\n    var classes = (el.className + \"\").split(/\\s+/g);\n    return classes.indexOf(name) !== -1;\n};\nexports.addCssClass = function (el, name) {\n    if (!exports.hasCssClass(el, name)) {\n        el.className += \" \" + name;\n    }\n};\nexports.removeCssClass = function (el, name) {\n    var classes = el.className.split(/\\s+/g);\n    while (true) {\n        var index = classes.indexOf(name);\n        if (index == -1) {\n            break;\n        }\n        classes.splice(index, 1);\n    }\n    el.className = classes.join(\" \");\n};\nexports.toggleCssClass = function (el, name) {\n    var classes = el.className.split(/\\s+/g), add = true;\n    while (true) {\n        var index = classes.indexOf(name);\n        if (index == -1) {\n            break;\n        }\n        add = false;\n        classes.splice(index, 1);\n    }\n    if (add)\n        classes.push(name);\n    el.className = classes.join(\" \");\n    return add;\n};\nexports.setCssClass = function (node, className, include) {\n    if (include) {\n        exports.addCssClass(node, className);\n    }\n    else {\n        exports.removeCssClass(node, className);\n    }\n};\nexports.hasCssString = function (id, doc) {\n    var index = 0, sheets;\n    doc = doc || document;\n    if ((sheets = doc.querySelectorAll(\"style\"))) {\n        while (index < sheets.length) {\n            if (sheets[index++].id === id) {\n                return true;\n            }\n        }\n    }\n};\nexports.removeElementById = function (id, doc) {\n    doc = doc || document;\n    if (doc.getElementById(id)) {\n        doc.getElementById(id).remove();\n    }\n};\nvar strictCSP;\nvar cssCache = [];\nexports.useStrictCSP = function (value) {\n    strictCSP = value;\n    if (value == false)\n        insertPendingStyles();\n    else if (!cssCache)\n        cssCache = [];\n};\nfunction insertPendingStyles() {\n    var cache = cssCache;\n    cssCache = null;\n    cache && cache.forEach(function (item) {\n        importCssString(item[0], item[1]);\n    });\n}\nfunction importCssString(cssText, id, target) {\n    if (typeof document == \"undefined\")\n        return;\n    if (cssCache) {\n        if (target) {\n            insertPendingStyles();\n        }\n        else if (target === false) {\n            return cssCache.push([cssText, id]);\n        }\n    }\n    if (strictCSP)\n        return;\n    var container = target;\n    if (!target || !target.getRootNode) {\n        container = document;\n    }\n    else {\n        container = target.getRootNode();\n        if (!container || container == target)\n            container = document;\n    }\n    var doc = container.ownerDocument || container;\n    if (id && exports.hasCssString(id, container))\n        return null;\n    if (id)\n        cssText += \"\\n/*# sourceURL=ace/css/\" + id + \" */\";\n    var style = exports.createElement(\"style\");\n    style.appendChild(doc.createTextNode(cssText));\n    if (id)\n        style.id = id;\n    if (container == doc)\n        container = exports.getDocumentHead(doc);\n    container.insertBefore(style, container.firstChild);\n}\nexports.importCssString = importCssString;\nexports.importCssStylsheet = function (uri, doc) {\n    exports.buildDom([\"link\", { rel: \"stylesheet\", href: uri }], exports.getDocumentHead(doc));\n};\nexports.scrollbarWidth = function (document) {\n    var inner = exports.createElement(\"ace_inner\");\n    inner.style.width = \"100%\";\n    inner.style.minWidth = \"0px\";\n    inner.style.height = \"200px\";\n    inner.style.display = \"block\";\n    var outer = exports.createElement(\"ace_outer\");\n    var style = outer.style;\n    style.position = \"absolute\";\n    style.left = \"-10000px\";\n    style.overflow = \"hidden\";\n    style.width = \"200px\";\n    style.minWidth = \"0px\";\n    style.height = \"150px\";\n    style.display = \"block\";\n    outer.appendChild(inner);\n    var body = document.documentElement;\n    body.appendChild(outer);\n    var noScrollbar = inner.offsetWidth;\n    style.overflow = \"scroll\";\n    var withScrollbar = inner.offsetWidth;\n    if (noScrollbar == withScrollbar) {\n        withScrollbar = outer.clientWidth;\n    }\n    body.removeChild(outer);\n    return noScrollbar - withScrollbar;\n};\nexports.computedStyle = function (element, style) {\n    return window.getComputedStyle(element, \"\") || {};\n};\nexports.setStyle = function (styles, property, value) {\n    if (styles[property] !== value) {\n        styles[property] = value;\n    }\n};\nexports.HAS_CSS_ANIMATION = false;\nexports.HAS_CSS_TRANSFORMS = false;\nexports.HI_DPI = useragent.isWin\n    ? typeof window !== \"undefined\" && window.devicePixelRatio >= 1.5\n    : true;\nif (useragent.isChromeOS)\n    exports.HI_DPI = false;\nif (typeof document !== \"undefined\") {\n    var div = document.createElement(\"div\");\n    if (exports.HI_DPI && div.style.transform !== undefined)\n        exports.HAS_CSS_TRANSFORMS = true;\n    if (!useragent.isEdge && typeof div.style.animationName !== \"undefined\")\n        exports.HAS_CSS_ANIMATION = true;\n    div = null;\n}\nif (exports.HAS_CSS_TRANSFORMS) {\n    exports.translate = function (element, tx, ty) {\n        element.style.transform = \"translate(\" + Math.round(tx) + \"px, \" + Math.round(ty) + \"px)\";\n    };\n}\nelse {\n    exports.translate = function (element, tx, ty) {\n        element.style.top = Math.round(ty) + \"px\";\n        element.style.left = Math.round(tx) + \"px\";\n    };\n}\n\n});\n\nace.define(\"ace/lib/net\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\"], function(require, exports, module){/*\n * based on code from:\n *\n * @license RequireJS text 0.25.0 Copyright (c) 2010-2011, The Dojo Foundation All Rights Reserved.\n * Available via the MIT or new BSD license.\n * see: http://github.com/jrburke/requirejs for details\n */\n\"use strict\";\nvar dom = require(\"./dom\");\nexports.get = function (url, callback) {\n    var xhr = new XMLHttpRequest();\n    xhr.open('GET', url, true);\n    xhr.onreadystatechange = function () {\n        if (xhr.readyState === 4) {\n            callback(xhr.responseText);\n        }\n    };\n    xhr.send(null);\n};\nexports.loadScript = function (path, callback) {\n    var head = dom.getDocumentHead();\n    var s = document.createElement('script');\n    s.src = path;\n    head.appendChild(s);\n    s.onload = s.onreadystatechange = function (_, isAbort) {\n        if (isAbort || !s.readyState || s.readyState == \"loaded\" || s.readyState == \"complete\") {\n            s = s.onload = s.onreadystatechange = null;\n            if (!isAbort)\n                callback();\n        }\n    };\n};\nexports.qualifyURL = function (url) {\n    var a = document.createElement('a');\n    a.href = url;\n    return a.href;\n};\n\n});\n\nace.define(\"ace/lib/event_emitter\",[\"require\",\"exports\",\"module\"], function(require, exports, module){\"use strict\";\nvar EventEmitter = {};\nvar stopPropagation = function () { this.propagationStopped = true; };\nvar preventDefault = function () { this.defaultPrevented = true; };\nEventEmitter._emit =\n    EventEmitter._dispatchEvent = function (eventName, e) {\n        this._eventRegistry || (this._eventRegistry = {});\n        this._defaultHandlers || (this._defaultHandlers = {});\n        var listeners = this._eventRegistry[eventName] || [];\n        var defaultHandler = this._defaultHandlers[eventName];\n        if (!listeners.length && !defaultHandler)\n            return;\n        if (typeof e != \"object\" || !e)\n            e = {};\n        if (!e.type)\n            e.type = eventName;\n        if (!e.stopPropagation)\n            e.stopPropagation = stopPropagation;\n        if (!e.preventDefault)\n            e.preventDefault = preventDefault;\n        listeners = listeners.slice();\n        for (var i = 0; i < listeners.length; i++) {\n            listeners[i](e, this);\n            if (e.propagationStopped)\n                break;\n        }\n        if (defaultHandler && !e.defaultPrevented)\n            return defaultHandler(e, this);\n    };\nEventEmitter._signal = function (eventName, e) {\n    var listeners = (this._eventRegistry || {})[eventName];\n    if (!listeners)\n        return;\n    listeners = listeners.slice();\n    for (var i = 0; i < listeners.length; i++)\n        listeners[i](e, this);\n};\nEventEmitter.once = function (eventName, callback) {\n    var _self = this;\n    this.on(eventName, function newCallback() {\n        _self.off(eventName, newCallback);\n        callback.apply(null, arguments);\n    });\n    if (!callback) {\n        return new Promise(function (resolve) {\n            callback = resolve;\n        });\n    }\n};\nEventEmitter.setDefaultHandler = function (eventName, callback) {\n    var handlers = this._defaultHandlers;\n    if (!handlers)\n        handlers = this._defaultHandlers = { _disabled_: {} };\n    if (handlers[eventName]) {\n        var old = handlers[eventName];\n        var disabled = handlers._disabled_[eventName];\n        if (!disabled)\n            handlers._disabled_[eventName] = disabled = [];\n        disabled.push(old);\n        var i = disabled.indexOf(callback);\n        if (i != -1)\n            disabled.splice(i, 1);\n    }\n    handlers[eventName] = callback;\n};\nEventEmitter.removeDefaultHandler = function (eventName, callback) {\n    var handlers = this._defaultHandlers;\n    if (!handlers)\n        return;\n    var disabled = handlers._disabled_[eventName];\n    if (handlers[eventName] == callback) {\n        if (disabled)\n            this.setDefaultHandler(eventName, disabled.pop());\n    }\n    else if (disabled) {\n        var i = disabled.indexOf(callback);\n        if (i != -1)\n            disabled.splice(i, 1);\n    }\n};\nEventEmitter.on =\n    EventEmitter.addEventListener = function (eventName, callback, capturing) {\n        this._eventRegistry = this._eventRegistry || {};\n        var listeners = this._eventRegistry[eventName];\n        if (!listeners)\n            listeners = this._eventRegistry[eventName] = [];\n        if (listeners.indexOf(callback) == -1)\n            listeners[capturing ? \"unshift\" : \"push\"](callback);\n        return callback;\n    };\nEventEmitter.off =\n    EventEmitter.removeListener =\n        EventEmitter.removeEventListener = function (eventName, callback) {\n            this._eventRegistry = this._eventRegistry || {};\n            var listeners = this._eventRegistry[eventName];\n            if (!listeners)\n                return;\n            var index = listeners.indexOf(callback);\n            if (index !== -1)\n                listeners.splice(index, 1);\n        };\nEventEmitter.removeAllListeners = function (eventName) {\n    if (!eventName)\n        this._eventRegistry = this._defaultHandlers = undefined;\n    if (this._eventRegistry)\n        this._eventRegistry[eventName] = undefined;\n    if (this._defaultHandlers)\n        this._defaultHandlers[eventName] = undefined;\n};\nexports.EventEmitter = EventEmitter;\n\n});\n\nace.define(\"ace/lib/app_config\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/event_emitter\"], function(require, exports, module){\"no use strict\";\nvar oop = require(\"./oop\");\nvar EventEmitter = require(\"./event_emitter\").EventEmitter;\nvar optionsProvider = {\n    setOptions: function (optList) {\n        Object.keys(optList).forEach(function (key) {\n            this.setOption(key, optList[key]);\n        }, this);\n    },\n    getOptions: function (optionNames) {\n        var result = {};\n        if (!optionNames) {\n            var options = this.$options;\n            optionNames = Object.keys(options).filter(function (key) {\n                return !options[key].hidden;\n            });\n        }\n        else if (!Array.isArray(optionNames)) {\n            result = optionNames;\n            optionNames = Object.keys(result);\n        }\n        optionNames.forEach(function (key) {\n            result[key] = this.getOption(key);\n        }, this);\n        return result;\n    },\n    setOption: function (name, value) {\n        if (this[\"$\" + name] === value)\n            return;\n        var opt = this.$options[name];\n        if (!opt) {\n            return warn('misspelled option \"' + name + '\"');\n        }\n        if (opt.forwardTo)\n            return this[opt.forwardTo] && this[opt.forwardTo].setOption(name, value);\n        if (!opt.handlesSet)\n            this[\"$\" + name] = value;\n        if (opt && opt.set)\n            opt.set.call(this, value);\n    },\n    getOption: function (name) {\n        var opt = this.$options[name];\n        if (!opt) {\n            return warn('misspelled option \"' + name + '\"');\n        }\n        if (opt.forwardTo)\n            return this[opt.forwardTo] && this[opt.forwardTo].getOption(name);\n        return opt && opt.get ? opt.get.call(this) : this[\"$\" + name];\n    }\n};\nfunction warn(message) {\n    if (typeof console != \"undefined\" && console.warn)\n        console.warn.apply(console, arguments);\n}\nfunction reportError(msg, data) {\n    var e = new Error(msg);\n    e.data = data;\n    if (typeof console == \"object\" && console.error)\n        console.error(e);\n    setTimeout(function () { throw e; });\n}\nvar AppConfig = function () {\n    this.$defaultOptions = {};\n};\n(function () {\n    oop.implement(this, EventEmitter);\n    this.defineOptions = function (obj, path, options) {\n        if (!obj.$options)\n            this.$defaultOptions[path] = obj.$options = {};\n        Object.keys(options).forEach(function (key) {\n            var opt = options[key];\n            if (typeof opt == \"string\")\n                opt = { forwardTo: opt };\n            opt.name || (opt.name = key);\n            obj.$options[opt.name] = opt;\n            if (\"initialValue\" in opt)\n                obj[\"$\" + opt.name] = opt.initialValue;\n        });\n        oop.implement(obj, optionsProvider);\n        return this;\n    };\n    this.resetOptions = function (obj) {\n        Object.keys(obj.$options).forEach(function (key) {\n            var opt = obj.$options[key];\n            if (\"value\" in opt)\n                obj.setOption(key, opt.value);\n        });\n    };\n    this.setDefaultValue = function (path, name, value) {\n        if (!path) {\n            for (path in this.$defaultOptions)\n                if (this.$defaultOptions[path][name])\n                    break;\n            if (!this.$defaultOptions[path][name])\n                return false;\n        }\n        var opts = this.$defaultOptions[path] || (this.$defaultOptions[path] = {});\n        if (opts[name]) {\n            if (opts.forwardTo)\n                this.setDefaultValue(opts.forwardTo, name, value);\n            else\n                opts[name].value = value;\n        }\n    };\n    this.setDefaultValues = function (path, optionHash) {\n        Object.keys(optionHash).forEach(function (key) {\n            this.setDefaultValue(path, key, optionHash[key]);\n        }, this);\n    };\n    this.warn = warn;\n    this.reportError = reportError;\n}).call(AppConfig.prototype);\nexports.AppConfig = AppConfig;\n\n});\n\nace.define(\"ace/theme/textmate.css\",[\"require\",\"exports\",\"module\"], function(require, exports, module){module.exports = \".ace-tm .ace_gutter {\\n  background: #f0f0f0;\\n  color: #333;\\n}\\n\\n.ace-tm .ace_print-margin {\\n  width: 1px;\\n  background: #e8e8e8;\\n}\\n\\n.ace-tm .ace_fold {\\n    background-color: #6B72E6;\\n}\\n\\n.ace-tm {\\n  background-color: #FFFFFF;\\n  color: black;\\n}\\n\\n.ace-tm .ace_cursor {\\n  color: black;\\n}\\n        \\n.ace-tm .ace_invisible {\\n  color: rgb(191, 191, 191);\\n}\\n\\n.ace-tm .ace_storage,\\n.ace-tm .ace_keyword {\\n  color: blue;\\n}\\n\\n.ace-tm .ace_constant {\\n  color: rgb(197, 6, 11);\\n}\\n\\n.ace-tm .ace_constant.ace_buildin {\\n  color: rgb(88, 72, 246);\\n}\\n\\n.ace-tm .ace_constant.ace_language {\\n  color: rgb(88, 92, 246);\\n}\\n\\n.ace-tm .ace_constant.ace_library {\\n  color: rgb(6, 150, 14);\\n}\\n\\n.ace-tm .ace_invalid {\\n  background-color: rgba(255, 0, 0, 0.1);\\n  color: red;\\n}\\n\\n.ace-tm .ace_support.ace_function {\\n  color: rgb(60, 76, 114);\\n}\\n\\n.ace-tm .ace_support.ace_constant {\\n  color: rgb(6, 150, 14);\\n}\\n\\n.ace-tm .ace_support.ace_type,\\n.ace-tm .ace_support.ace_class {\\n  color: rgb(109, 121, 222);\\n}\\n\\n.ace-tm .ace_keyword.ace_operator {\\n  color: rgb(104, 118, 135);\\n}\\n\\n.ace-tm .ace_string {\\n  color: rgb(3, 106, 7);\\n}\\n\\n.ace-tm .ace_comment {\\n  color: rgb(76, 136, 107);\\n}\\n\\n.ace-tm .ace_comment.ace_doc {\\n  color: rgb(0, 102, 255);\\n}\\n\\n.ace-tm .ace_comment.ace_doc.ace_tag {\\n  color: rgb(128, 159, 191);\\n}\\n\\n.ace-tm .ace_constant.ace_numeric {\\n  color: rgb(0, 0, 205);\\n}\\n\\n.ace-tm .ace_variable {\\n  color: rgb(49, 132, 149);\\n}\\n\\n.ace-tm .ace_xml-pe {\\n  color: rgb(104, 104, 91);\\n}\\n\\n.ace-tm .ace_entity.ace_name.ace_function {\\n  color: #0000A2;\\n}\\n\\n\\n.ace-tm .ace_heading {\\n  color: rgb(12, 7, 255);\\n}\\n\\n.ace-tm .ace_list {\\n  color:rgb(185, 6, 144);\\n}\\n\\n.ace-tm .ace_meta.ace_tag {\\n  color:rgb(0, 22, 142);\\n}\\n\\n.ace-tm .ace_string.ace_regex {\\n  color: rgb(255, 0, 0)\\n}\\n\\n.ace-tm .ace_marker-layer .ace_selection {\\n  background: rgb(181, 213, 255);\\n}\\n.ace-tm.ace_multiselect .ace_selection.ace_start {\\n  box-shadow: 0 0 3px 0px white;\\n}\\n.ace-tm .ace_marker-layer .ace_step {\\n  background: rgb(252, 255, 0);\\n}\\n\\n.ace-tm .ace_marker-layer .ace_stack {\\n  background: rgb(164, 229, 101);\\n}\\n\\n.ace-tm .ace_marker-layer .ace_bracket {\\n  margin: -1px 0 0 -1px;\\n  border: 1px solid rgb(192, 192, 192);\\n}\\n\\n.ace-tm .ace_marker-layer .ace_active-line {\\n  background: rgba(0, 0, 0, 0.07);\\n}\\n\\n.ace-tm .ace_gutter-active-line {\\n    background-color : #dcdcdc;\\n}\\n\\n.ace-tm .ace_marker-layer .ace_selected-word {\\n  background: rgb(250, 250, 255);\\n  border: 1px solid rgb(200, 200, 250);\\n}\\n\\n.ace-tm .ace_indent-guide {\\n  background: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==\\\") right repeat-y;\\n}\\n\\n.ace-tm .ace_indent-guide-active {\\n  background: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC\\\") right repeat-y;\\n}\\n\";\n\n});\n\nace.define(\"ace/theme/textmate\",[\"require\",\"exports\",\"module\",\"ace/theme/textmate.css\",\"ace/lib/dom\"], function(require, exports, module){\"use strict\";\nexports.isDark = false;\nexports.cssClass = \"ace-tm\";\nexports.cssText = require(\"./textmate.css\");\nexports.$id = \"ace/theme/textmate\";\nvar dom = require(\"../lib/dom\");\ndom.importCssString(exports.cssText, exports.cssClass, false);\n\n});\n\nace.define(\"ace/config\",[\"require\",\"exports\",\"module\",\"ace/lib/lang\",\"ace/lib/oop\",\"ace/lib/net\",\"ace/lib/dom\",\"ace/lib/app_config\",\"ace/theme/textmate\"], function(require, exports, module){\"no use strict\";\nvar lang = require(\"./lib/lang\");\nvar oop = require(\"./lib/oop\");\nvar net = require(\"./lib/net\");\nvar dom = require(\"./lib/dom\");\nvar AppConfig = require(\"./lib/app_config\").AppConfig;\nmodule.exports = exports = new AppConfig();\nvar options = {\n    packaged: false,\n    workerPath: null,\n    modePath: null,\n    themePath: null,\n    basePath: \"\",\n    suffix: \".js\",\n    $moduleUrls: {},\n    loadWorkerFromBlob: true,\n    sharedPopups: false,\n    useStrictCSP: null\n};\nexports.get = function (key) {\n    if (!options.hasOwnProperty(key))\n        throw new Error(\"Unknown config key: \" + key);\n    return options[key];\n};\nexports.set = function (key, value) {\n    if (options.hasOwnProperty(key))\n        options[key] = value;\n    else if (this.setDefaultValue(\"\", key, value) == false)\n        throw new Error(\"Unknown config key: \" + key);\n    if (key == \"useStrictCSP\")\n        dom.useStrictCSP(value);\n};\nexports.all = function () {\n    return lang.copyObject(options);\n};\nexports.$modes = {};\nexports.moduleUrl = function (name, component) {\n    if (options.$moduleUrls[name])\n        return options.$moduleUrls[name];\n    var parts = name.split(\"/\");\n    component = component || parts[parts.length - 2] || \"\";\n    var sep = component == \"snippets\" ? \"/\" : \"-\";\n    var base = parts[parts.length - 1];\n    if (component == \"worker\" && sep == \"-\") {\n        var re = new RegExp(\"^\" + component + \"[\\\\-_]|[\\\\-_]\" + component + \"$\", \"g\");\n        base = base.replace(re, \"\");\n    }\n    if ((!base || base == component) && parts.length > 1)\n        base = parts[parts.length - 2];\n    var path = options[component + \"Path\"];\n    if (path == null) {\n        path = options.basePath;\n    }\n    else if (sep == \"/\") {\n        component = sep = \"\";\n    }\n    if (path && path.slice(-1) != \"/\")\n        path += \"/\";\n    return path + component + sep + base + this.get(\"suffix\");\n};\nexports.setModuleUrl = function (name, subst) {\n    return options.$moduleUrls[name] = subst;\n};\nvar loader = function (moduleName, cb) {\n    if (moduleName == \"ace/theme/textmate\")\n        return cb(null, require(\"./theme/textmate\"));\n    return console.error(\"loader is not configured\");\n};\nexports.setLoader = function (cb) {\n    loader = cb;\n};\nexports.$loading = {};\nexports.loadModule = function (moduleName, onLoad) {\n    var module, moduleType;\n    if (Array.isArray(moduleName)) {\n        moduleType = moduleName[0];\n        moduleName = moduleName[1];\n    }\n    try {\n        module = require(moduleName);\n    }\n    catch (e) { }\n    if (module && !exports.$loading[moduleName])\n        return onLoad && onLoad(module);\n    if (!exports.$loading[moduleName])\n        exports.$loading[moduleName] = [];\n    exports.$loading[moduleName].push(onLoad);\n    if (exports.$loading[moduleName].length > 1)\n        return;\n    var afterLoad = function () {\n        loader(moduleName, function (err, module) {\n            exports._emit(\"load.module\", { name: moduleName, module: module });\n            var listeners = exports.$loading[moduleName];\n            exports.$loading[moduleName] = null;\n            listeners.forEach(function (onLoad) {\n                onLoad && onLoad(module);\n            });\n        });\n    };\n    if (!exports.get(\"packaged\"))\n        return afterLoad();\n    net.loadScript(exports.moduleUrl(moduleName, moduleType), afterLoad);\n    reportErrorIfPathIsNotConfigured();\n};\nvar reportErrorIfPathIsNotConfigured = function () {\n    if (!options.basePath && !options.workerPath\n        && !options.modePath && !options.themePath\n        && !Object.keys(options.$moduleUrls).length) {\n        console.error(\"Unable to infer path to ace from script src,\", \"use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes\", \"or with webpack use ace/webpack-resolver\");\n        reportErrorIfPathIsNotConfigured = function () { };\n    }\n};\nexports.version = \"1.10.0\";\n\n});\n\nace.define(\"ace/loader_build\",[\"require\",\"exports\",\"module\",\"ace/lib/fixoldbrowsers\",\"ace/config\"], function(require, exports, module) {\n\"use strict\";\n\nrequire(\"./lib/fixoldbrowsers\");\nvar config = require(\"./config\");\nconfig.setLoader(function(moduleName, cb) {\n    require([moduleName], function(module) {\n        cb(null, module);\n    });\n});\n\nvar global = (function() {\n    return this || typeof window != \"undefined\" && window;\n})();\n\nmodule.exports = function(ace) {\n    config.init = init;\n    ace.require = require;\n\n    if (typeof define === \"function\")\n        ace.define = define;\n};\ninit(true);function init(packaged) {\n\n    if (!global || !global.document)\n        return;\n    \n    config.set(\"packaged\", packaged || require.packaged || module.packaged || (global.define && define.packaged));\n\n    var scriptOptions = {};\n    var scriptUrl = \"\";\n    var currentScript = (document.currentScript || document._currentScript ); // native or polyfill\n    var currentDocument = currentScript && currentScript.ownerDocument || document;\n    \n    var scripts = currentDocument.getElementsByTagName(\"script\");\n    for (var i=0; i<scripts.length; i++) {\n        var script = scripts[i];\n\n        var src = script.src || script.getAttribute(\"src\");\n        if (!src)\n            continue;\n\n        var attributes = script.attributes;\n        for (var j=0, l=attributes.length; j < l; j++) {\n            var attr = attributes[j];\n            if (attr.name.indexOf(\"data-ace-\") === 0) {\n                scriptOptions[deHyphenate(attr.name.replace(/^data-ace-/, \"\"))] = attr.value;\n            }\n        }\n\n        var m = src.match(/^(.*)\\/ace(\\-\\w+)?\\.js(\\?|$)/);\n        if (m)\n            scriptUrl = m[1];\n    }\n\n    if (scriptUrl) {\n        scriptOptions.base = scriptOptions.base || scriptUrl;\n        scriptOptions.packaged = true;\n    }\n\n    scriptOptions.basePath = scriptOptions.base;\n    scriptOptions.workerPath = scriptOptions.workerPath || scriptOptions.base;\n    scriptOptions.modePath = scriptOptions.modePath || scriptOptions.base;\n    scriptOptions.themePath = scriptOptions.themePath || scriptOptions.base;\n    delete scriptOptions.base;\n\n    for (var key in scriptOptions)\n        if (typeof scriptOptions[key] !== \"undefined\")\n            config.set(key, scriptOptions[key]);\n}\n\nfunction deHyphenate(str) {\n    return str.replace(/-(.)/g, function(m, m1) { return m1.toUpperCase(); });\n}\n});\n\nace.define(\"ace/lib/keys\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\"], function(require, exports, module){/*! @license\n==========================================================================\nSproutCore -- JavaScript Application Framework\ncopyright 2006-2009, Sprout Systems Inc., Apple Inc. and contributors.\n\nPermission is hereby granted, free of charge, to any person obtaining a\ncopy of this software and associated documentation files (the \"Software\"),\nto deal in the Software without restriction, including without limitation\nthe rights to use, copy, modify, merge, publish, distribute, sublicense,\nand/or sell copies of the Software, and to permit persons to whom the\nSoftware is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\nFROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\nDEALINGS IN THE SOFTWARE.\n\nSproutCore and the SproutCore logo are trademarks of Sprout Systems, Inc.\n\nFor more information about SproutCore, visit http://www.sproutcore.com\n\n\n==========================================================================\n@license */\n\"use strict\";\nvar oop = require(\"./oop\");\nvar Keys = (function () {\n    var ret = {\n        MODIFIER_KEYS: {\n            16: 'Shift', 17: 'Ctrl', 18: 'Alt', 224: 'Meta',\n            91: 'MetaLeft', 92: 'MetaRight', 93: 'ContextMenu'\n        },\n        KEY_MODS: {\n            \"ctrl\": 1, \"alt\": 2, \"option\": 2, \"shift\": 4,\n            \"super\": 8, \"meta\": 8, \"command\": 8, \"cmd\": 8,\n            \"control\": 1\n        },\n        FUNCTION_KEYS: {\n            8: \"Backspace\",\n            9: \"Tab\",\n            13: \"Return\",\n            19: \"Pause\",\n            27: \"Esc\",\n            32: \"Space\",\n            33: \"PageUp\",\n            34: \"PageDown\",\n            35: \"End\",\n            36: \"Home\",\n            37: \"Left\",\n            38: \"Up\",\n            39: \"Right\",\n            40: \"Down\",\n            44: \"Print\",\n            45: \"Insert\",\n            46: \"Delete\",\n            96: \"Numpad0\",\n            97: \"Numpad1\",\n            98: \"Numpad2\",\n            99: \"Numpad3\",\n            100: \"Numpad4\",\n            101: \"Numpad5\",\n            102: \"Numpad6\",\n            103: \"Numpad7\",\n            104: \"Numpad8\",\n            105: \"Numpad9\",\n            '-13': \"NumpadEnter\",\n            112: \"F1\",\n            113: \"F2\",\n            114: \"F3\",\n            115: \"F4\",\n            116: \"F5\",\n            117: \"F6\",\n            118: \"F7\",\n            119: \"F8\",\n            120: \"F9\",\n            121: \"F10\",\n            122: \"F11\",\n            123: \"F12\",\n            144: \"Numlock\",\n            145: \"Scrolllock\"\n        },\n        PRINTABLE_KEYS: {\n            32: ' ', 48: '0', 49: '1', 50: '2', 51: '3', 52: '4', 53: '5',\n            54: '6', 55: '7', 56: '8', 57: '9', 59: ';', 61: '=', 65: 'a',\n            66: 'b', 67: 'c', 68: 'd', 69: 'e', 70: 'f', 71: 'g', 72: 'h',\n            73: 'i', 74: 'j', 75: 'k', 76: 'l', 77: 'm', 78: 'n', 79: 'o',\n            80: 'p', 81: 'q', 82: 'r', 83: 's', 84: 't', 85: 'u', 86: 'v',\n            87: 'w', 88: 'x', 89: 'y', 90: 'z', 107: '+', 109: '-', 110: '.',\n            186: ';', 187: '=', 188: ',', 189: '-', 190: '.', 191: '/', 192: '`',\n            219: '[', 220: '\\\\', 221: ']', 222: \"'\", 111: '/', 106: '*'\n        }\n    };\n    var name, i;\n    for (i in ret.FUNCTION_KEYS) {\n        name = ret.FUNCTION_KEYS[i].toLowerCase();\n        ret[name] = parseInt(i, 10);\n    }\n    for (i in ret.PRINTABLE_KEYS) {\n        name = ret.PRINTABLE_KEYS[i].toLowerCase();\n        ret[name] = parseInt(i, 10);\n    }\n    oop.mixin(ret, ret.MODIFIER_KEYS);\n    oop.mixin(ret, ret.PRINTABLE_KEYS);\n    oop.mixin(ret, ret.FUNCTION_KEYS);\n    ret.enter = ret[\"return\"];\n    ret.escape = ret.esc;\n    ret.del = ret[\"delete\"];\n    ret[173] = '-';\n    (function () {\n        var mods = [\"cmd\", \"ctrl\", \"alt\", \"shift\"];\n        for (var i = Math.pow(2, mods.length); i--;) {\n            ret.KEY_MODS[i] = mods.filter(function (x) {\n                return i & ret.KEY_MODS[x];\n            }).join(\"-\") + \"-\";\n        }\n    })();\n    ret.KEY_MODS[0] = \"\";\n    ret.KEY_MODS[-1] = \"input-\";\n    return ret;\n})();\noop.mixin(exports, Keys);\nexports.keyCodeToString = function (keyCode) {\n    var keyString = Keys[keyCode];\n    if (typeof keyString != \"string\")\n        keyString = String.fromCharCode(keyCode);\n    return keyString.toLowerCase();\n};\n\n});\n\nace.define(\"ace/lib/event\",[\"require\",\"exports\",\"module\",\"ace/lib/keys\",\"ace/lib/useragent\"], function(require, exports, module){\"use strict\";\nvar keys = require(\"./keys\");\nvar useragent = require(\"./useragent\");\nvar pressedKeys = null;\nvar ts = 0;\nvar activeListenerOptions;\nfunction detectListenerOptionsSupport() {\n    activeListenerOptions = false;\n    try {\n        document.createComment(\"\").addEventListener(\"test\", function () { }, {\n            get passive() {\n                activeListenerOptions = { passive: false };\n            }\n        });\n    }\n    catch (e) { }\n}\nfunction getListenerOptions() {\n    if (activeListenerOptions == undefined)\n        detectListenerOptionsSupport();\n    return activeListenerOptions;\n}\nfunction EventListener(elem, type, callback) {\n    this.elem = elem;\n    this.type = type;\n    this.callback = callback;\n}\nEventListener.prototype.destroy = function () {\n    removeListener(this.elem, this.type, this.callback);\n    this.elem = this.type = this.callback = undefined;\n};\nvar addListener = exports.addListener = function (elem, type, callback, destroyer) {\n    elem.addEventListener(type, callback, getListenerOptions());\n    if (destroyer)\n        destroyer.$toDestroy.push(new EventListener(elem, type, callback));\n};\nvar removeListener = exports.removeListener = function (elem, type, callback) {\n    elem.removeEventListener(type, callback, getListenerOptions());\n};\nexports.stopEvent = function (e) {\n    exports.stopPropagation(e);\n    exports.preventDefault(e);\n    return false;\n};\nexports.stopPropagation = function (e) {\n    if (e.stopPropagation)\n        e.stopPropagation();\n};\nexports.preventDefault = function (e) {\n    if (e.preventDefault)\n        e.preventDefault();\n};\nexports.getButton = function (e) {\n    if (e.type == \"dblclick\")\n        return 0;\n    if (e.type == \"contextmenu\" || (useragent.isMac && (e.ctrlKey && !e.altKey && !e.shiftKey)))\n        return 2;\n    return e.button;\n};\nexports.capture = function (el, eventHandler, releaseCaptureHandler) {\n    var ownerDocument = el && el.ownerDocument || document;\n    function onMouseUp(e) {\n        eventHandler && eventHandler(e);\n        releaseCaptureHandler && releaseCaptureHandler(e);\n        removeListener(ownerDocument, \"mousemove\", eventHandler);\n        removeListener(ownerDocument, \"mouseup\", onMouseUp);\n        removeListener(ownerDocument, \"dragstart\", onMouseUp);\n    }\n    addListener(ownerDocument, \"mousemove\", eventHandler);\n    addListener(ownerDocument, \"mouseup\", onMouseUp);\n    addListener(ownerDocument, \"dragstart\", onMouseUp);\n    return onMouseUp;\n};\nexports.addMouseWheelListener = function (el, callback, destroyer) {\n    addListener(el, \"wheel\", function (e) {\n        var factor = 0.15;\n        var deltaX = e.deltaX || 0;\n        var deltaY = e.deltaY || 0;\n        switch (e.deltaMode) {\n            case e.DOM_DELTA_PIXEL:\n                e.wheelX = deltaX * factor;\n                e.wheelY = deltaY * factor;\n                break;\n            case e.DOM_DELTA_LINE:\n                var linePixels = 15;\n                e.wheelX = deltaX * linePixels;\n                e.wheelY = deltaY * linePixels;\n                break;\n            case e.DOM_DELTA_PAGE:\n                var pagePixels = 150;\n                e.wheelX = deltaX * pagePixels;\n                e.wheelY = deltaY * pagePixels;\n                break;\n        }\n        callback(e);\n    }, destroyer);\n};\nexports.addMultiMouseDownListener = function (elements, timeouts, eventHandler, callbackName, destroyer) {\n    var clicks = 0;\n    var startX, startY, timer;\n    var eventNames = {\n        2: \"dblclick\",\n        3: \"tripleclick\",\n        4: \"quadclick\"\n    };\n    function onMousedown(e) {\n        if (exports.getButton(e) !== 0) {\n            clicks = 0;\n        }\n        else if (e.detail > 1) {\n            clicks++;\n            if (clicks > 4)\n                clicks = 1;\n        }\n        else {\n            clicks = 1;\n        }\n        if (useragent.isIE) {\n            var isNewClick = Math.abs(e.clientX - startX) > 5 || Math.abs(e.clientY - startY) > 5;\n            if (!timer || isNewClick)\n                clicks = 1;\n            if (timer)\n                clearTimeout(timer);\n            timer = setTimeout(function () { timer = null; }, timeouts[clicks - 1] || 600);\n            if (clicks == 1) {\n                startX = e.clientX;\n                startY = e.clientY;\n            }\n        }\n        e._clicks = clicks;\n        eventHandler[callbackName](\"mousedown\", e);\n        if (clicks > 4)\n            clicks = 0;\n        else if (clicks > 1)\n            return eventHandler[callbackName](eventNames[clicks], e);\n    }\n    if (!Array.isArray(elements))\n        elements = [elements];\n    elements.forEach(function (el) {\n        addListener(el, \"mousedown\", onMousedown, destroyer);\n    });\n};\nvar getModifierHash = function (e) {\n    return 0 | (e.ctrlKey ? 1 : 0) | (e.altKey ? 2 : 0) | (e.shiftKey ? 4 : 0) | (e.metaKey ? 8 : 0);\n};\nexports.getModifierString = function (e) {\n    return keys.KEY_MODS[getModifierHash(e)];\n};\nfunction normalizeCommandKeys(callback, e, keyCode) {\n    var hashId = getModifierHash(e);\n    if (!useragent.isMac && pressedKeys) {\n        if (e.getModifierState && (e.getModifierState(\"OS\") || e.getModifierState(\"Win\")))\n            hashId |= 8;\n        if (pressedKeys.altGr) {\n            if ((3 & hashId) != 3)\n                pressedKeys.altGr = 0;\n            else\n                return;\n        }\n        if (keyCode === 18 || keyCode === 17) {\n            var location = \"location\" in e ? e.location : e.keyLocation;\n            if (keyCode === 17 && location === 1) {\n                if (pressedKeys[keyCode] == 1)\n                    ts = e.timeStamp;\n            }\n            else if (keyCode === 18 && hashId === 3 && location === 2) {\n                var dt = e.timeStamp - ts;\n                if (dt < 50)\n                    pressedKeys.altGr = true;\n            }\n        }\n    }\n    if (keyCode in keys.MODIFIER_KEYS) {\n        keyCode = -1;\n    }\n    if (!hashId && keyCode === 13) {\n        var location = \"location\" in e ? e.location : e.keyLocation;\n        if (location === 3) {\n            callback(e, hashId, -keyCode);\n            if (e.defaultPrevented)\n                return;\n        }\n    }\n    if (useragent.isChromeOS && hashId & 8) {\n        callback(e, hashId, keyCode);\n        if (e.defaultPrevented)\n            return;\n        else\n            hashId &= ~8;\n    }\n    if (!hashId && !(keyCode in keys.FUNCTION_KEYS) && !(keyCode in keys.PRINTABLE_KEYS)) {\n        return false;\n    }\n    return callback(e, hashId, keyCode);\n}\nexports.addCommandKeyListener = function (el, callback, destroyer) {\n    if (useragent.isOldGecko || (useragent.isOpera && !(\"KeyboardEvent\" in window))) {\n        var lastKeyDownKeyCode = null;\n        addListener(el, \"keydown\", function (e) {\n            lastKeyDownKeyCode = e.keyCode;\n        }, destroyer);\n        addListener(el, \"keypress\", function (e) {\n            return normalizeCommandKeys(callback, e, lastKeyDownKeyCode);\n        }, destroyer);\n    }\n    else {\n        var lastDefaultPrevented = null;\n        addListener(el, \"keydown\", function (e) {\n            pressedKeys[e.keyCode] = (pressedKeys[e.keyCode] || 0) + 1;\n            var result = normalizeCommandKeys(callback, e, e.keyCode);\n            lastDefaultPrevented = e.defaultPrevented;\n            return result;\n        }, destroyer);\n        addListener(el, \"keypress\", function (e) {\n            if (lastDefaultPrevented && (e.ctrlKey || e.altKey || e.shiftKey || e.metaKey)) {\n                exports.stopEvent(e);\n                lastDefaultPrevented = null;\n            }\n        }, destroyer);\n        addListener(el, \"keyup\", function (e) {\n            pressedKeys[e.keyCode] = null;\n        }, destroyer);\n        if (!pressedKeys) {\n            resetPressedKeys();\n            addListener(window, \"focus\", resetPressedKeys);\n        }\n    }\n};\nfunction resetPressedKeys() {\n    pressedKeys = Object.create(null);\n}\nif (typeof window == \"object\" && window.postMessage && !useragent.isOldIE) {\n    var postMessageId = 1;\n    exports.nextTick = function (callback, win) {\n        win = win || window;\n        var messageName = \"zero-timeout-message-\" + (postMessageId++);\n        var listener = function (e) {\n            if (e.data == messageName) {\n                exports.stopPropagation(e);\n                removeListener(win, \"message\", listener);\n                callback();\n            }\n        };\n        addListener(win, \"message\", listener);\n        win.postMessage(messageName, \"*\");\n    };\n}\nexports.$idleBlocked = false;\nexports.onIdle = function (cb, timeout) {\n    return setTimeout(function handler() {\n        if (!exports.$idleBlocked) {\n            cb();\n        }\n        else {\n            setTimeout(handler, 100);\n        }\n    }, timeout);\n};\nexports.$idleBlockId = null;\nexports.blockIdle = function (delay) {\n    if (exports.$idleBlockId)\n        clearTimeout(exports.$idleBlockId);\n    exports.$idleBlocked = true;\n    exports.$idleBlockId = setTimeout(function () {\n        exports.$idleBlocked = false;\n    }, delay || 100);\n};\nexports.nextFrame = typeof window == \"object\" && (window.requestAnimationFrame\n    || window.mozRequestAnimationFrame\n    || window.webkitRequestAnimationFrame\n    || window.msRequestAnimationFrame\n    || window.oRequestAnimationFrame);\nif (exports.nextFrame)\n    exports.nextFrame = exports.nextFrame.bind(window);\nelse\n    exports.nextFrame = function (callback) {\n        setTimeout(callback, 17);\n    };\n\n});\n\nace.define(\"ace/range\",[\"require\",\"exports\",\"module\"], function(require, exports, module){\"use strict\";\nvar comparePoints = function (p1, p2) {\n    return p1.row - p2.row || p1.column - p2.column;\n};\nvar Range = function (startRow, startColumn, endRow, endColumn) {\n    this.start = {\n        row: startRow,\n        column: startColumn\n    };\n    this.end = {\n        row: endRow,\n        column: endColumn\n    };\n};\n(function () {\n    this.isEqual = function (range) {\n        return this.start.row === range.start.row &&\n            this.end.row === range.end.row &&\n            this.start.column === range.start.column &&\n            this.end.column === range.end.column;\n    };\n    this.toString = function () {\n        return (\"Range: [\" + this.start.row + \"/\" + this.start.column +\n            \"] -> [\" + this.end.row + \"/\" + this.end.column + \"]\");\n    };\n    this.contains = function (row, column) {\n        return this.compare(row, column) == 0;\n    };\n    this.compareRange = function (range) {\n        var cmp, end = range.end, start = range.start;\n        cmp = this.compare(end.row, end.column);\n        if (cmp == 1) {\n            cmp = this.compare(start.row, start.column);\n            if (cmp == 1) {\n                return 2;\n            }\n            else if (cmp == 0) {\n                return 1;\n            }\n            else {\n                return 0;\n            }\n        }\n        else if (cmp == -1) {\n            return -2;\n        }\n        else {\n            cmp = this.compare(start.row, start.column);\n            if (cmp == -1) {\n                return -1;\n            }\n            else if (cmp == 1) {\n                return 42;\n            }\n            else {\n                return 0;\n            }\n        }\n    };\n    this.comparePoint = function (p) {\n        return this.compare(p.row, p.column);\n    };\n    this.containsRange = function (range) {\n        return this.comparePoint(range.start) == 0 && this.comparePoint(range.end) == 0;\n    };\n    this.intersects = function (range) {\n        var cmp = this.compareRange(range);\n        return (cmp == -1 || cmp == 0 || cmp == 1);\n    };\n    this.isEnd = function (row, column) {\n        return this.end.row == row && this.end.column == column;\n    };\n    this.isStart = function (row, column) {\n        return this.start.row == row && this.start.column == column;\n    };\n    this.setStart = function (row, column) {\n        if (typeof row == \"object\") {\n            this.start.column = row.column;\n            this.start.row = row.row;\n        }\n        else {\n            this.start.row = row;\n            this.start.column = column;\n        }\n    };\n    this.setEnd = function (row, column) {\n        if (typeof row == \"object\") {\n            this.end.column = row.column;\n            this.end.row = row.row;\n        }\n        else {\n            this.end.row = row;\n            this.end.column = column;\n        }\n    };\n    this.inside = function (row, column) {\n        if (this.compare(row, column) == 0) {\n            if (this.isEnd(row, column) || this.isStart(row, column)) {\n                return false;\n            }\n            else {\n                return true;\n            }\n        }\n        return false;\n    };\n    this.insideStart = function (row, column) {\n        if (this.compare(row, column) == 0) {\n            if (this.isEnd(row, column)) {\n                return false;\n            }\n            else {\n                return true;\n            }\n        }\n        return false;\n    };\n    this.insideEnd = function (row, column) {\n        if (this.compare(row, column) == 0) {\n            if (this.isStart(row, column)) {\n                return false;\n            }\n            else {\n                return true;\n            }\n        }\n        return false;\n    };\n    this.compare = function (row, column) {\n        if (!this.isMultiLine()) {\n            if (row === this.start.row) {\n                return column < this.start.column ? -1 : (column > this.end.column ? 1 : 0);\n            }\n        }\n        if (row < this.start.row)\n            return -1;\n        if (row > this.end.row)\n            return 1;\n        if (this.start.row === row)\n            return column >= this.start.column ? 0 : -1;\n        if (this.end.row === row)\n            return column <= this.end.column ? 0 : 1;\n        return 0;\n    };\n    this.compareStart = function (row, column) {\n        if (this.start.row == row && this.start.column == column) {\n            return -1;\n        }\n        else {\n            return this.compare(row, column);\n        }\n    };\n    this.compareEnd = function (row, column) {\n        if (this.end.row == row && this.end.column == column) {\n            return 1;\n        }\n        else {\n            return this.compare(row, column);\n        }\n    };\n    this.compareInside = function (row, column) {\n        if (this.end.row == row && this.end.column == column) {\n            return 1;\n        }\n        else if (this.start.row == row && this.start.column == column) {\n            return -1;\n        }\n        else {\n            return this.compare(row, column);\n        }\n    };\n    this.clipRows = function (firstRow, lastRow) {\n        if (this.end.row > lastRow)\n            var end = { row: lastRow + 1, column: 0 };\n        else if (this.end.row < firstRow)\n            var end = { row: firstRow, column: 0 };\n        if (this.start.row > lastRow)\n            var start = { row: lastRow + 1, column: 0 };\n        else if (this.start.row < firstRow)\n            var start = { row: firstRow, column: 0 };\n        return Range.fromPoints(start || this.start, end || this.end);\n    };\n    this.extend = function (row, column) {\n        var cmp = this.compare(row, column);\n        if (cmp == 0)\n            return this;\n        else if (cmp == -1)\n            var start = { row: row, column: column };\n        else\n            var end = { row: row, column: column };\n        return Range.fromPoints(start || this.start, end || this.end);\n    };\n    this.isEmpty = function () {\n        return (this.start.row === this.end.row && this.start.column === this.end.column);\n    };\n    this.isMultiLine = function () {\n        return (this.start.row !== this.end.row);\n    };\n    this.clone = function () {\n        return Range.fromPoints(this.start, this.end);\n    };\n    this.collapseRows = function () {\n        if (this.end.column == 0)\n            return new Range(this.start.row, 0, Math.max(this.start.row, this.end.row - 1), 0);\n        else\n            return new Range(this.start.row, 0, this.end.row, 0);\n    };\n    this.toScreenRange = function (session) {\n        var screenPosStart = session.documentToScreenPosition(this.start);\n        var screenPosEnd = session.documentToScreenPosition(this.end);\n        return new Range(screenPosStart.row, screenPosStart.column, screenPosEnd.row, screenPosEnd.column);\n    };\n    this.moveBy = function (row, column) {\n        this.start.row += row;\n        this.start.column += column;\n        this.end.row += row;\n        this.end.column += column;\n    };\n}).call(Range.prototype);\nRange.fromPoints = function (start, end) {\n    return new Range(start.row, start.column, end.row, end.column);\n};\nRange.comparePoints = comparePoints;\nRange.comparePoints = function (p1, p2) {\n    return p1.row - p2.row || p1.column - p2.column;\n};\nexports.Range = Range;\n\n});\n\nace.define(\"ace/clipboard\",[\"require\",\"exports\",\"module\"], function(require, exports, module){\"use strict\";\nvar $cancelT;\nmodule.exports = {\n    lineMode: false,\n    pasteCancelled: function () {\n        if ($cancelT && $cancelT > Date.now() - 50)\n            return true;\n        return $cancelT = false;\n    },\n    cancel: function () {\n        $cancelT = Date.now();\n    }\n};\n\n});\n\nace.define(\"ace/keyboard/textinput\",[\"require\",\"exports\",\"module\",\"ace/lib/event\",\"ace/lib/useragent\",\"ace/lib/dom\",\"ace/lib/lang\",\"ace/clipboard\",\"ace/lib/keys\"], function(require, exports, module){\"use strict\";\nvar event = require(\"../lib/event\");\nvar useragent = require(\"../lib/useragent\");\nvar dom = require(\"../lib/dom\");\nvar lang = require(\"../lib/lang\");\nvar clipboard = require(\"../clipboard\");\nvar BROKEN_SETDATA = useragent.isChrome < 18;\nvar USE_IE_MIME_TYPE = useragent.isIE;\nvar HAS_FOCUS_ARGS = useragent.isChrome > 63;\nvar MAX_LINE_LENGTH = 400;\nvar KEYS = require(\"../lib/keys\");\nvar MODS = KEYS.KEY_MODS;\nvar isIOS = useragent.isIOS;\nvar valueResetRegex = isIOS ? /\\s/ : /\\n/;\nvar isMobile = useragent.isMobile;\nvar TextInput = function (parentNode, host) {\n    var text = dom.createElement(\"textarea\");\n    text.className = \"ace_text-input\";\n    text.setAttribute(\"wrap\", \"off\");\n    text.setAttribute(\"autocorrect\", \"off\");\n    text.setAttribute(\"autocapitalize\", \"off\");\n    text.setAttribute(\"spellcheck\", false);\n    text.style.opacity = \"0\";\n    parentNode.insertBefore(text, parentNode.firstChild);\n    var copied = false;\n    var pasted = false;\n    var inComposition = false;\n    var sendingText = false;\n    var tempStyle = '';\n    if (!isMobile)\n        text.style.fontSize = \"1px\";\n    var commandMode = false;\n    var ignoreFocusEvents = false;\n    var lastValue = \"\";\n    var lastSelectionStart = 0;\n    var lastSelectionEnd = 0;\n    var lastRestoreEnd = 0;\n    try {\n        var isFocused = document.activeElement === text;\n    }\n    catch (e) { }\n    event.addListener(text, \"blur\", function (e) {\n        if (ignoreFocusEvents)\n            return;\n        host.onBlur(e);\n        isFocused = false;\n    }, host);\n    event.addListener(text, \"focus\", function (e) {\n        if (ignoreFocusEvents)\n            return;\n        isFocused = true;\n        if (useragent.isEdge) {\n            try {\n                if (!document.hasFocus())\n                    return;\n            }\n            catch (e) { }\n        }\n        host.onFocus(e);\n        if (useragent.isEdge)\n            setTimeout(resetSelection);\n        else\n            resetSelection();\n    }, host);\n    this.$focusScroll = false;\n    this.focus = function () {\n        if (tempStyle || HAS_FOCUS_ARGS || this.$focusScroll == \"browser\")\n            return text.focus({ preventScroll: true });\n        var top = text.style.top;\n        text.style.position = \"fixed\";\n        text.style.top = \"0px\";\n        try {\n            var isTransformed = text.getBoundingClientRect().top != 0;\n        }\n        catch (e) {\n            return;\n        }\n        var ancestors = [];\n        if (isTransformed) {\n            var t = text.parentElement;\n            while (t && t.nodeType == 1) {\n                ancestors.push(t);\n                t.setAttribute(\"ace_nocontext\", true);\n                if (!t.parentElement && t.getRootNode)\n                    t = t.getRootNode().host;\n                else\n                    t = t.parentElement;\n            }\n        }\n        text.focus({ preventScroll: true });\n        if (isTransformed) {\n            ancestors.forEach(function (p) {\n                p.removeAttribute(\"ace_nocontext\");\n            });\n        }\n        setTimeout(function () {\n            text.style.position = \"\";\n            if (text.style.top == \"0px\")\n                text.style.top = top;\n        }, 0);\n    };\n    this.blur = function () {\n        text.blur();\n    };\n    this.isFocused = function () {\n        return isFocused;\n    };\n    host.on(\"beforeEndOperation\", function () {\n        var curOp = host.curOp;\n        var commandName = curOp && curOp.command && curOp.command.name;\n        if (commandName == \"insertstring\")\n            return;\n        var isUserAction = commandName && (curOp.docChanged || curOp.selectionChanged);\n        if (inComposition && isUserAction) {\n            lastValue = text.value = \"\";\n            onCompositionEnd();\n        }\n        resetSelection();\n    });\n    var resetSelection = isIOS\n        ? function (value) {\n            if (!isFocused || (copied && !value) || sendingText)\n                return;\n            if (!value)\n                value = \"\";\n            var newValue = \"\\n ab\" + value + \"cde fg\\n\";\n            if (newValue != text.value)\n                text.value = lastValue = newValue;\n            var selectionStart = 4;\n            var selectionEnd = 4 + (value.length || (host.selection.isEmpty() ? 0 : 1));\n            if (lastSelectionStart != selectionStart || lastSelectionEnd != selectionEnd) {\n                text.setSelectionRange(selectionStart, selectionEnd);\n            }\n            lastSelectionStart = selectionStart;\n            lastSelectionEnd = selectionEnd;\n        }\n        : function () {\n            if (inComposition || sendingText)\n                return;\n            if (!isFocused && !afterContextMenu)\n                return;\n            inComposition = true;\n            var selectionStart = 0;\n            var selectionEnd = 0;\n            var line = \"\";\n            if (host.session) {\n                var selection = host.selection;\n                var range = selection.getRange();\n                var row = selection.cursor.row;\n                selectionStart = range.start.column;\n                selectionEnd = range.end.column;\n                line = host.session.getLine(row);\n                if (range.start.row != row) {\n                    var prevLine = host.session.getLine(row - 1);\n                    selectionStart = range.start.row < row - 1 ? 0 : selectionStart;\n                    selectionEnd += prevLine.length + 1;\n                    line = prevLine + \"\\n\" + line;\n                }\n                else if (range.end.row != row) {\n                    var nextLine = host.session.getLine(row + 1);\n                    selectionEnd = range.end.row > row + 1 ? nextLine.length : selectionEnd;\n                    selectionEnd += line.length + 1;\n                    line = line + \"\\n\" + nextLine;\n                }\n                else if (isMobile && row > 0) {\n                    line = \"\\n\" + line;\n                    selectionEnd += 1;\n                    selectionStart += 1;\n                }\n                if (line.length > MAX_LINE_LENGTH) {\n                    if (selectionStart < MAX_LINE_LENGTH && selectionEnd < MAX_LINE_LENGTH) {\n                        line = line.slice(0, MAX_LINE_LENGTH);\n                    }\n                    else {\n                        line = \"\\n\";\n                        if (selectionStart == selectionEnd) {\n                            selectionStart = selectionEnd = 0;\n                        }\n                        else {\n                            selectionStart = 0;\n                            selectionEnd = 1;\n                        }\n                    }\n                }\n            }\n            var newValue = line + \"\\n\\n\";\n            if (newValue != lastValue) {\n                text.value = lastValue = newValue;\n                lastSelectionStart = lastSelectionEnd = newValue.length;\n            }\n            if (afterContextMenu) {\n                lastSelectionStart = text.selectionStart;\n                lastSelectionEnd = text.selectionEnd;\n            }\n            if (lastSelectionEnd != selectionEnd\n                || lastSelectionStart != selectionStart\n                || text.selectionEnd != lastSelectionEnd // on ie edge selectionEnd changes silently after the initialization\n            ) {\n                try {\n                    text.setSelectionRange(selectionStart, selectionEnd);\n                    lastSelectionStart = selectionStart;\n                    lastSelectionEnd = selectionEnd;\n                }\n                catch (e) { }\n            }\n            inComposition = false;\n        };\n    this.resetSelection = resetSelection;\n    if (isFocused)\n        host.onFocus();\n    var isAllSelected = function (text) {\n        return text.selectionStart === 0 && text.selectionEnd >= lastValue.length\n            && text.value === lastValue && lastValue\n            && text.selectionEnd !== lastSelectionEnd;\n    };\n    var onSelect = function (e) {\n        if (inComposition)\n            return;\n        if (copied) {\n            copied = false;\n        }\n        else if (isAllSelected(text)) {\n            host.selectAll();\n            resetSelection();\n        }\n        else if (isMobile && text.selectionStart != lastSelectionStart) {\n            resetSelection();\n        }\n    };\n    var inputHandler = null;\n    this.setInputHandler = function (cb) { inputHandler = cb; };\n    this.getInputHandler = function () { return inputHandler; };\n    var afterContextMenu = false;\n    var sendText = function (value, fromInput) {\n        if (afterContextMenu)\n            afterContextMenu = false;\n        if (pasted) {\n            resetSelection();\n            if (value)\n                host.onPaste(value);\n            pasted = false;\n            return \"\";\n        }\n        else {\n            var selectionStart = text.selectionStart;\n            var selectionEnd = text.selectionEnd;\n            var extendLeft = lastSelectionStart;\n            var extendRight = lastValue.length - lastSelectionEnd;\n            var inserted = value;\n            var restoreStart = value.length - selectionStart;\n            var restoreEnd = value.length - selectionEnd;\n            var i = 0;\n            while (extendLeft > 0 && lastValue[i] == value[i]) {\n                i++;\n                extendLeft--;\n            }\n            inserted = inserted.slice(i);\n            i = 1;\n            while (extendRight > 0 && lastValue.length - i > lastSelectionStart - 1 && lastValue[lastValue.length - i] == value[value.length - i]) {\n                i++;\n                extendRight--;\n            }\n            restoreStart -= i - 1;\n            restoreEnd -= i - 1;\n            var endIndex = inserted.length - i + 1;\n            if (endIndex < 0) {\n                extendLeft = -endIndex;\n                endIndex = 0;\n            }\n            inserted = inserted.slice(0, endIndex);\n            if (!fromInput && !inserted && !restoreStart && !extendLeft && !extendRight && !restoreEnd)\n                return \"\";\n            sendingText = true;\n            var shouldReset = false;\n            if (useragent.isAndroid && inserted == \". \") {\n                inserted = \"  \";\n                shouldReset = true;\n            }\n            if (inserted && !extendLeft && !extendRight && !restoreStart && !restoreEnd || commandMode) {\n                host.onTextInput(inserted);\n            }\n            else {\n                host.onTextInput(inserted, {\n                    extendLeft: extendLeft,\n                    extendRight: extendRight,\n                    restoreStart: restoreStart,\n                    restoreEnd: restoreEnd\n                });\n            }\n            sendingText = false;\n            lastValue = value;\n            lastSelectionStart = selectionStart;\n            lastSelectionEnd = selectionEnd;\n            lastRestoreEnd = restoreEnd;\n            return shouldReset ? \"\\n\" : inserted;\n        }\n    };\n    var onInput = function (e) {\n        if (inComposition)\n            return onCompositionUpdate();\n        if (e && e.inputType) {\n            if (e.inputType == \"historyUndo\")\n                return host.execCommand(\"undo\");\n            if (e.inputType == \"historyRedo\")\n                return host.execCommand(\"redo\");\n        }\n        var data = text.value;\n        var inserted = sendText(data, true);\n        if (data.length > MAX_LINE_LENGTH + 100\n            || valueResetRegex.test(inserted)\n            || isMobile && lastSelectionStart < 1 && lastSelectionStart == lastSelectionEnd) {\n            resetSelection();\n        }\n    };\n    var handleClipboardData = function (e, data, forceIEMime) {\n        var clipboardData = e.clipboardData || window.clipboardData;\n        if (!clipboardData || BROKEN_SETDATA)\n            return;\n        var mime = USE_IE_MIME_TYPE || forceIEMime ? \"Text\" : \"text/plain\";\n        try {\n            if (data) {\n                return clipboardData.setData(mime, data) !== false;\n            }\n            else {\n                return clipboardData.getData(mime);\n            }\n        }\n        catch (e) {\n            if (!forceIEMime)\n                return handleClipboardData(e, data, true);\n        }\n    };\n    var doCopy = function (e, isCut) {\n        var data = host.getCopyText();\n        if (!data)\n            return event.preventDefault(e);\n        if (handleClipboardData(e, data)) {\n            if (isIOS) {\n                resetSelection(data);\n                copied = data;\n                setTimeout(function () {\n                    copied = false;\n                }, 10);\n            }\n            isCut ? host.onCut() : host.onCopy();\n            event.preventDefault(e);\n        }\n        else {\n            copied = true;\n            text.value = data;\n            text.select();\n            setTimeout(function () {\n                copied = false;\n                resetSelection();\n                isCut ? host.onCut() : host.onCopy();\n            });\n        }\n    };\n    var onCut = function (e) {\n        doCopy(e, true);\n    };\n    var onCopy = function (e) {\n        doCopy(e, false);\n    };\n    var onPaste = function (e) {\n        var data = handleClipboardData(e);\n        if (clipboard.pasteCancelled())\n            return;\n        if (typeof data == \"string\") {\n            if (data)\n                host.onPaste(data, e);\n            if (useragent.isIE)\n                setTimeout(resetSelection);\n            event.preventDefault(e);\n        }\n        else {\n            text.value = \"\";\n            pasted = true;\n        }\n    };\n    event.addCommandKeyListener(text, host.onCommandKey.bind(host), host);\n    event.addListener(text, \"select\", onSelect, host);\n    event.addListener(text, \"input\", onInput, host);\n    event.addListener(text, \"cut\", onCut, host);\n    event.addListener(text, \"copy\", onCopy, host);\n    event.addListener(text, \"paste\", onPaste, host);\n    if (!('oncut' in text) || !('oncopy' in text) || !('onpaste' in text)) {\n        event.addListener(parentNode, \"keydown\", function (e) {\n            if ((useragent.isMac && !e.metaKey) || !e.ctrlKey)\n                return;\n            switch (e.keyCode) {\n                case 67:\n                    onCopy(e);\n                    break;\n                case 86:\n                    onPaste(e);\n                    break;\n                case 88:\n                    onCut(e);\n                    break;\n            }\n        }, host);\n    }\n    var onCompositionStart = function (e) {\n        if (inComposition || !host.onCompositionStart || host.$readOnly)\n            return;\n        inComposition = {};\n        if (commandMode)\n            return;\n        if (e.data)\n            inComposition.useTextareaForIME = false;\n        setTimeout(onCompositionUpdate, 0);\n        host._signal(\"compositionStart\");\n        host.on(\"mousedown\", cancelComposition);\n        var range = host.getSelectionRange();\n        range.end.row = range.start.row;\n        range.end.column = range.start.column;\n        inComposition.markerRange = range;\n        inComposition.selectionStart = lastSelectionStart;\n        host.onCompositionStart(inComposition);\n        if (inComposition.useTextareaForIME) {\n            lastValue = text.value = \"\";\n            lastSelectionStart = 0;\n            lastSelectionEnd = 0;\n        }\n        else {\n            if (text.msGetInputContext)\n                inComposition.context = text.msGetInputContext();\n            if (text.getInputContext)\n                inComposition.context = text.getInputContext();\n        }\n    };\n    var onCompositionUpdate = function () {\n        if (!inComposition || !host.onCompositionUpdate || host.$readOnly)\n            return;\n        if (commandMode)\n            return cancelComposition();\n        if (inComposition.useTextareaForIME) {\n            host.onCompositionUpdate(text.value);\n        }\n        else {\n            var data = text.value;\n            sendText(data);\n            if (inComposition.markerRange) {\n                if (inComposition.context) {\n                    inComposition.markerRange.start.column = inComposition.selectionStart\n                        = inComposition.context.compositionStartOffset;\n                }\n                inComposition.markerRange.end.column = inComposition.markerRange.start.column\n                    + lastSelectionEnd - inComposition.selectionStart + lastRestoreEnd;\n            }\n        }\n    };\n    var onCompositionEnd = function (e) {\n        if (!host.onCompositionEnd || host.$readOnly)\n            return;\n        inComposition = false;\n        host.onCompositionEnd();\n        host.off(\"mousedown\", cancelComposition);\n        if (e)\n            onInput();\n    };\n    function cancelComposition() {\n        ignoreFocusEvents = true;\n        text.blur();\n        text.focus();\n        ignoreFocusEvents = false;\n    }\n    var syncComposition = lang.delayedCall(onCompositionUpdate, 50).schedule.bind(null, null);\n    function onKeyup(e) {\n        if (e.keyCode == 27 && text.value.length < text.selectionStart) {\n            if (!inComposition)\n                lastValue = text.value;\n            lastSelectionStart = lastSelectionEnd = -1;\n            resetSelection();\n        }\n        syncComposition();\n    }\n    event.addListener(text, \"compositionstart\", onCompositionStart, host);\n    event.addListener(text, \"compositionupdate\", onCompositionUpdate, host);\n    event.addListener(text, \"keyup\", onKeyup, host);\n    event.addListener(text, \"keydown\", syncComposition, host);\n    event.addListener(text, \"compositionend\", onCompositionEnd, host);\n    this.getElement = function () {\n        return text;\n    };\n    this.setCommandMode = function (value) {\n        commandMode = value;\n        text.readOnly = false;\n    };\n    this.setReadOnly = function (readOnly) {\n        if (!commandMode)\n            text.readOnly = readOnly;\n    };\n    this.setCopyWithEmptySelection = function (value) {\n    };\n    this.onContextMenu = function (e) {\n        afterContextMenu = true;\n        resetSelection();\n        host._emit(\"nativecontextmenu\", { target: host, domEvent: e });\n        this.moveToMouse(e, true);\n    };\n    this.moveToMouse = function (e, bringToFront) {\n        if (!tempStyle)\n            tempStyle = text.style.cssText;\n        text.style.cssText = (bringToFront ? \"z-index:100000;\" : \"\")\n            + (useragent.isIE ? \"opacity:0.1;\" : \"\")\n            + \"text-indent: -\" + (lastSelectionStart + lastSelectionEnd) * host.renderer.characterWidth * 0.5 + \"px;\";\n        var rect = host.container.getBoundingClientRect();\n        var style = dom.computedStyle(host.container);\n        var top = rect.top + (parseInt(style.borderTopWidth) || 0);\n        var left = rect.left + (parseInt(rect.borderLeftWidth) || 0);\n        var maxTop = rect.bottom - top - text.clientHeight - 2;\n        var move = function (e) {\n            dom.translate(text, e.clientX - left - 2, Math.min(e.clientY - top - 2, maxTop));\n        };\n        move(e);\n        if (e.type != \"mousedown\")\n            return;\n        host.renderer.$isMousePressed = true;\n        clearTimeout(closeTimeout);\n        if (useragent.isWin)\n            event.capture(host.container, move, onContextMenuClose);\n    };\n    this.onContextMenuClose = onContextMenuClose;\n    var closeTimeout;\n    function onContextMenuClose() {\n        clearTimeout(closeTimeout);\n        closeTimeout = setTimeout(function () {\n            if (tempStyle) {\n                text.style.cssText = tempStyle;\n                tempStyle = '';\n            }\n            host.renderer.$isMousePressed = false;\n            if (host.renderer.$keepTextAreaAtCursor)\n                host.renderer.$moveTextAreaToCursor();\n        }, 0);\n    }\n    var onContextMenu = function (e) {\n        host.textInput.onContextMenu(e);\n        onContextMenuClose();\n    };\n    event.addListener(text, \"mouseup\", onContextMenu, host);\n    event.addListener(text, \"mousedown\", function (e) {\n        e.preventDefault();\n        onContextMenuClose();\n    }, host);\n    event.addListener(host.renderer.scroller, \"contextmenu\", onContextMenu, host);\n    event.addListener(text, \"contextmenu\", onContextMenu, host);\n    if (isIOS)\n        addIosSelectionHandler(parentNode, host, text);\n    function addIosSelectionHandler(parentNode, host, text) {\n        var typingResetTimeout = null;\n        var typing = false;\n        text.addEventListener(\"keydown\", function (e) {\n            if (typingResetTimeout)\n                clearTimeout(typingResetTimeout);\n            typing = true;\n        }, true);\n        text.addEventListener(\"keyup\", function (e) {\n            typingResetTimeout = setTimeout(function () {\n                typing = false;\n            }, 100);\n        }, true);\n        var detectArrowKeys = function (e) {\n            if (document.activeElement !== text)\n                return;\n            if (typing || inComposition || host.$mouseHandler.isMousePressed)\n                return;\n            if (copied) {\n                return;\n            }\n            var selectionStart = text.selectionStart;\n            var selectionEnd = text.selectionEnd;\n            var key = null;\n            var modifier = 0;\n            if (selectionStart == 0) {\n                key = KEYS.up;\n            }\n            else if (selectionStart == 1) {\n                key = KEYS.home;\n            }\n            else if (selectionEnd > lastSelectionEnd && lastValue[selectionEnd] == \"\\n\") {\n                key = KEYS.end;\n            }\n            else if (selectionStart < lastSelectionStart && lastValue[selectionStart - 1] == \" \") {\n                key = KEYS.left;\n                modifier = MODS.option;\n            }\n            else if (selectionStart < lastSelectionStart\n                || (selectionStart == lastSelectionStart\n                    && lastSelectionEnd != lastSelectionStart\n                    && selectionStart == selectionEnd)) {\n                key = KEYS.left;\n            }\n            else if (selectionEnd > lastSelectionEnd && lastValue.slice(0, selectionEnd).split(\"\\n\").length > 2) {\n                key = KEYS.down;\n            }\n            else if (selectionEnd > lastSelectionEnd && lastValue[selectionEnd - 1] == \" \") {\n                key = KEYS.right;\n                modifier = MODS.option;\n            }\n            else if (selectionEnd > lastSelectionEnd\n                || (selectionEnd == lastSelectionEnd\n                    && lastSelectionEnd != lastSelectionStart\n                    && selectionStart == selectionEnd)) {\n                key = KEYS.right;\n            }\n            if (selectionStart !== selectionEnd)\n                modifier |= MODS.shift;\n            if (key) {\n                var result = host.onCommandKey({}, modifier, key);\n                if (!result && host.commands) {\n                    key = KEYS.keyCodeToString(key);\n                    var command = host.commands.findKeyCommand(modifier, key);\n                    if (command)\n                        host.execCommand(command);\n                }\n                lastSelectionStart = selectionStart;\n                lastSelectionEnd = selectionEnd;\n                resetSelection(\"\");\n            }\n        };\n        document.addEventListener(\"selectionchange\", detectArrowKeys);\n        host.on(\"destroy\", function () {\n            document.removeEventListener(\"selectionchange\", detectArrowKeys);\n        });\n    }\n    this.destroy = function () {\n        if (text.parentElement)\n            text.parentElement.removeChild(text);\n    };\n};\nexports.TextInput = TextInput;\nexports.$setUserAgentForTests = function (_isMobile, _isIOS) {\n    isMobile = _isMobile;\n    isIOS = _isIOS;\n};\n\n});\n\nace.define(\"ace/mouse/default_handlers\",[\"require\",\"exports\",\"module\",\"ace/lib/useragent\"], function(require, exports, module){\"use strict\";\nvar useragent = require(\"../lib/useragent\");\nvar DRAG_OFFSET = 0; // pixels\nvar SCROLL_COOLDOWN_T = 550; // milliseconds\nfunction DefaultHandlers(mouseHandler) {\n    mouseHandler.$clickSelection = null;\n    var editor = mouseHandler.editor;\n    editor.setDefaultHandler(\"mousedown\", this.onMouseDown.bind(mouseHandler));\n    editor.setDefaultHandler(\"dblclick\", this.onDoubleClick.bind(mouseHandler));\n    editor.setDefaultHandler(\"tripleclick\", this.onTripleClick.bind(mouseHandler));\n    editor.setDefaultHandler(\"quadclick\", this.onQuadClick.bind(mouseHandler));\n    editor.setDefaultHandler(\"mousewheel\", this.onMouseWheel.bind(mouseHandler));\n    var exports = [\"select\", \"startSelect\", \"selectEnd\", \"selectAllEnd\", \"selectByWordsEnd\",\n        \"selectByLinesEnd\", \"dragWait\", \"dragWaitEnd\", \"focusWait\"];\n    exports.forEach(function (x) {\n        mouseHandler[x] = this[x];\n    }, this);\n    mouseHandler.selectByLines = this.extendSelectionBy.bind(mouseHandler, \"getLineRange\");\n    mouseHandler.selectByWords = this.extendSelectionBy.bind(mouseHandler, \"getWordRange\");\n}\n(function () {\n    this.onMouseDown = function (ev) {\n        var inSelection = ev.inSelection();\n        var pos = ev.getDocumentPosition();\n        this.mousedownEvent = ev;\n        var editor = this.editor;\n        var button = ev.getButton();\n        if (button !== 0) {\n            var selectionRange = editor.getSelectionRange();\n            var selectionEmpty = selectionRange.isEmpty();\n            if (selectionEmpty || button == 1)\n                editor.selection.moveToPosition(pos);\n            if (button == 2) {\n                editor.textInput.onContextMenu(ev.domEvent);\n                if (!useragent.isMozilla)\n                    ev.preventDefault();\n            }\n            return;\n        }\n        this.mousedownEvent.time = Date.now();\n        if (inSelection && !editor.isFocused()) {\n            editor.focus();\n            if (this.$focusTimeout && !this.$clickSelection && !editor.inMultiSelectMode) {\n                this.setState(\"focusWait\");\n                this.captureMouse(ev);\n                return;\n            }\n        }\n        this.captureMouse(ev);\n        this.startSelect(pos, ev.domEvent._clicks > 1);\n        return ev.preventDefault();\n    };\n    this.startSelect = function (pos, waitForClickSelection) {\n        pos = pos || this.editor.renderer.screenToTextCoordinates(this.x, this.y);\n        var editor = this.editor;\n        if (!this.mousedownEvent)\n            return;\n        if (this.mousedownEvent.getShiftKey())\n            editor.selection.selectToPosition(pos);\n        else if (!waitForClickSelection)\n            editor.selection.moveToPosition(pos);\n        if (!waitForClickSelection)\n            this.select();\n        if (editor.renderer.scroller.setCapture) {\n            editor.renderer.scroller.setCapture();\n        }\n        editor.setStyle(\"ace_selecting\");\n        this.setState(\"select\");\n    };\n    this.select = function () {\n        var anchor, editor = this.editor;\n        var cursor = editor.renderer.screenToTextCoordinates(this.x, this.y);\n        if (this.$clickSelection) {\n            var cmp = this.$clickSelection.comparePoint(cursor);\n            if (cmp == -1) {\n                anchor = this.$clickSelection.end;\n            }\n            else if (cmp == 1) {\n                anchor = this.$clickSelection.start;\n            }\n            else {\n                var orientedRange = calcRangeOrientation(this.$clickSelection, cursor);\n                cursor = orientedRange.cursor;\n                anchor = orientedRange.anchor;\n            }\n            editor.selection.setSelectionAnchor(anchor.row, anchor.column);\n        }\n        editor.selection.selectToPosition(cursor);\n        editor.renderer.scrollCursorIntoView();\n    };\n    this.extendSelectionBy = function (unitName) {\n        var anchor, editor = this.editor;\n        var cursor = editor.renderer.screenToTextCoordinates(this.x, this.y);\n        var range = editor.selection[unitName](cursor.row, cursor.column);\n        if (this.$clickSelection) {\n            var cmpStart = this.$clickSelection.comparePoint(range.start);\n            var cmpEnd = this.$clickSelection.comparePoint(range.end);\n            if (cmpStart == -1 && cmpEnd <= 0) {\n                anchor = this.$clickSelection.end;\n                if (range.end.row != cursor.row || range.end.column != cursor.column)\n                    cursor = range.start;\n            }\n            else if (cmpEnd == 1 && cmpStart >= 0) {\n                anchor = this.$clickSelection.start;\n                if (range.start.row != cursor.row || range.start.column != cursor.column)\n                    cursor = range.end;\n            }\n            else if (cmpStart == -1 && cmpEnd == 1) {\n                cursor = range.end;\n                anchor = range.start;\n            }\n            else {\n                var orientedRange = calcRangeOrientation(this.$clickSelection, cursor);\n                cursor = orientedRange.cursor;\n                anchor = orientedRange.anchor;\n            }\n            editor.selection.setSelectionAnchor(anchor.row, anchor.column);\n        }\n        editor.selection.selectToPosition(cursor);\n        editor.renderer.scrollCursorIntoView();\n    };\n    this.selectEnd =\n        this.selectAllEnd =\n            this.selectByWordsEnd =\n                this.selectByLinesEnd = function () {\n                    this.$clickSelection = null;\n                    this.editor.unsetStyle(\"ace_selecting\");\n                    if (this.editor.renderer.scroller.releaseCapture) {\n                        this.editor.renderer.scroller.releaseCapture();\n                    }\n                };\n    this.focusWait = function () {\n        var distance = calcDistance(this.mousedownEvent.x, this.mousedownEvent.y, this.x, this.y);\n        var time = Date.now();\n        if (distance > DRAG_OFFSET || time - this.mousedownEvent.time > this.$focusTimeout)\n            this.startSelect(this.mousedownEvent.getDocumentPosition());\n    };\n    this.onDoubleClick = function (ev) {\n        var pos = ev.getDocumentPosition();\n        var editor = this.editor;\n        var session = editor.session;\n        var range = session.getBracketRange(pos);\n        if (range) {\n            if (range.isEmpty()) {\n                range.start.column--;\n                range.end.column++;\n            }\n            this.setState(\"select\");\n        }\n        else {\n            range = editor.selection.getWordRange(pos.row, pos.column);\n            this.setState(\"selectByWords\");\n        }\n        this.$clickSelection = range;\n        this.select();\n    };\n    this.onTripleClick = function (ev) {\n        var pos = ev.getDocumentPosition();\n        var editor = this.editor;\n        this.setState(\"selectByLines\");\n        var range = editor.getSelectionRange();\n        if (range.isMultiLine() && range.contains(pos.row, pos.column)) {\n            this.$clickSelection = editor.selection.getLineRange(range.start.row);\n            this.$clickSelection.end = editor.selection.getLineRange(range.end.row).end;\n        }\n        else {\n            this.$clickSelection = editor.selection.getLineRange(pos.row);\n        }\n        this.select();\n    };\n    this.onQuadClick = function (ev) {\n        var editor = this.editor;\n        editor.selectAll();\n        this.$clickSelection = editor.getSelectionRange();\n        this.setState(\"selectAll\");\n    };\n    this.onMouseWheel = function (ev) {\n        if (ev.getAccelKey())\n            return;\n        if (ev.getShiftKey() && ev.wheelY && !ev.wheelX) {\n            ev.wheelX = ev.wheelY;\n            ev.wheelY = 0;\n        }\n        var editor = this.editor;\n        if (!this.$lastScroll)\n            this.$lastScroll = { t: 0, vx: 0, vy: 0, allowed: 0 };\n        var prevScroll = this.$lastScroll;\n        var t = ev.domEvent.timeStamp;\n        var dt = t - prevScroll.t;\n        var vx = dt ? ev.wheelX / dt : prevScroll.vx;\n        var vy = dt ? ev.wheelY / dt : prevScroll.vy;\n        if (dt < SCROLL_COOLDOWN_T) {\n            vx = (vx + prevScroll.vx) / 2;\n            vy = (vy + prevScroll.vy) / 2;\n        }\n        var direction = Math.abs(vx / vy);\n        var canScroll = false;\n        if (direction >= 1 && editor.renderer.isScrollableBy(ev.wheelX * ev.speed, 0))\n            canScroll = true;\n        if (direction <= 1 && editor.renderer.isScrollableBy(0, ev.wheelY * ev.speed))\n            canScroll = true;\n        if (canScroll) {\n            prevScroll.allowed = t;\n        }\n        else if (t - prevScroll.allowed < SCROLL_COOLDOWN_T) {\n            var isSlower = Math.abs(vx) <= 1.5 * Math.abs(prevScroll.vx)\n                && Math.abs(vy) <= 1.5 * Math.abs(prevScroll.vy);\n            if (isSlower) {\n                canScroll = true;\n                prevScroll.allowed = t;\n            }\n            else {\n                prevScroll.allowed = 0;\n            }\n        }\n        prevScroll.t = t;\n        prevScroll.vx = vx;\n        prevScroll.vy = vy;\n        if (canScroll) {\n            editor.renderer.scrollBy(ev.wheelX * ev.speed, ev.wheelY * ev.speed);\n            return ev.stop();\n        }\n    };\n}).call(DefaultHandlers.prototype);\nexports.DefaultHandlers = DefaultHandlers;\nfunction calcDistance(ax, ay, bx, by) {\n    return Math.sqrt(Math.pow(bx - ax, 2) + Math.pow(by - ay, 2));\n}\nfunction calcRangeOrientation(range, cursor) {\n    if (range.start.row == range.end.row)\n        var cmp = 2 * cursor.column - range.start.column - range.end.column;\n    else if (range.start.row == range.end.row - 1 && !range.start.column && !range.end.column)\n        var cmp = cursor.column - 4;\n    else\n        var cmp = 2 * cursor.row - range.start.row - range.end.row;\n    if (cmp < 0)\n        return { cursor: range.start, anchor: range.end };\n    else\n        return { cursor: range.end, anchor: range.start };\n}\n\n});\n\nace.define(\"ace/tooltip\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/dom\"], function(require, exports, module){\"use strict\";\nvar oop = require(\"./lib/oop\");\nvar dom = require(\"./lib/dom\");\nvar CLASSNAME = \"ace_tooltip\";\nfunction Tooltip(parentNode) {\n    this.isOpen = false;\n    this.$element = null;\n    this.$parentNode = parentNode;\n}\n(function () {\n    this.$init = function () {\n        this.$element = dom.createElement(\"div\");\n        this.$element.className = CLASSNAME;\n        this.$element.style.display = \"none\";\n        this.$parentNode.appendChild(this.$element);\n        return this.$element;\n    };\n    this.getElement = function () {\n        return this.$element || this.$init();\n    };\n    this.setText = function (text) {\n        this.getElement().textContent = text;\n    };\n    this.setHtml = function (html) {\n        this.getElement().innerHTML = html;\n    };\n    this.setPosition = function (x, y) {\n        this.getElement().style.left = x + \"px\";\n        this.getElement().style.top = y + \"px\";\n    };\n    this.setClassName = function (className) {\n        dom.addCssClass(this.getElement(), className);\n    };\n    this.show = function (text, x, y) {\n        if (text != null)\n            this.setText(text);\n        if (x != null && y != null)\n            this.setPosition(x, y);\n        if (!this.isOpen) {\n            this.getElement().style.display = \"block\";\n            this.isOpen = true;\n        }\n    };\n    this.hide = function () {\n        if (this.isOpen) {\n            this.getElement().style.display = \"none\";\n            this.getElement().className = CLASSNAME;\n            this.isOpen = false;\n        }\n    };\n    this.getHeight = function () {\n        return this.getElement().offsetHeight;\n    };\n    this.getWidth = function () {\n        return this.getElement().offsetWidth;\n    };\n    this.destroy = function () {\n        this.isOpen = false;\n        if (this.$element && this.$element.parentNode) {\n            this.$element.parentNode.removeChild(this.$element);\n        }\n    };\n}).call(Tooltip.prototype);\nexports.Tooltip = Tooltip;\n\n});\n\nace.define(\"ace/mouse/default_gutter_handler\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\",\"ace/lib/oop\",\"ace/lib/event\",\"ace/tooltip\"], function(require, exports, module){\"use strict\";\nvar dom = require(\"../lib/dom\");\nvar oop = require(\"../lib/oop\");\nvar event = require(\"../lib/event\");\nvar Tooltip = require(\"../tooltip\").Tooltip;\nfunction GutterHandler(mouseHandler) {\n    var editor = mouseHandler.editor;\n    var gutter = editor.renderer.$gutterLayer;\n    var tooltip = new GutterTooltip(editor.container);\n    mouseHandler.editor.setDefaultHandler(\"guttermousedown\", function (e) {\n        if (!editor.isFocused() || e.getButton() != 0)\n            return;\n        var gutterRegion = gutter.getRegion(e);\n        if (gutterRegion == \"foldWidgets\")\n            return;\n        var row = e.getDocumentPosition().row;\n        var selection = editor.session.selection;\n        if (e.getShiftKey())\n            selection.selectTo(row, 0);\n        else {\n            if (e.domEvent.detail == 2) {\n                editor.selectAll();\n                return e.preventDefault();\n            }\n            mouseHandler.$clickSelection = editor.selection.getLineRange(row);\n        }\n        mouseHandler.setState(\"selectByLines\");\n        mouseHandler.captureMouse(e);\n        return e.preventDefault();\n    });\n    var tooltipTimeout, mouseEvent, tooltipAnnotation;\n    function showTooltip() {\n        var row = mouseEvent.getDocumentPosition().row;\n        var annotation = gutter.$annotations[row];\n        if (!annotation)\n            return hideTooltip();\n        var maxRow = editor.session.getLength();\n        if (row == maxRow) {\n            var screenRow = editor.renderer.pixelToScreenCoordinates(0, mouseEvent.y).row;\n            var pos = mouseEvent.$pos;\n            if (screenRow > editor.session.documentToScreenRow(pos.row, pos.column))\n                return hideTooltip();\n        }\n        if (tooltipAnnotation == annotation)\n            return;\n        tooltipAnnotation = annotation.text.join(\"<br/>\");\n        tooltip.setHtml(tooltipAnnotation);\n        var annotationClassName = annotation.className;\n        if (annotationClassName) {\n            tooltip.setClassName(annotationClassName.trim());\n        }\n        tooltip.show();\n        editor._signal(\"showGutterTooltip\", tooltip);\n        editor.on(\"mousewheel\", hideTooltip);\n        if (mouseHandler.$tooltipFollowsMouse) {\n            moveTooltip(mouseEvent);\n        }\n        else {\n            var gutterElement = mouseEvent.domEvent.target;\n            var rect = gutterElement.getBoundingClientRect();\n            var style = tooltip.getElement().style;\n            style.left = rect.right + \"px\";\n            style.top = rect.bottom + \"px\";\n        }\n    }\n    function hideTooltip() {\n        if (tooltipTimeout)\n            tooltipTimeout = clearTimeout(tooltipTimeout);\n        if (tooltipAnnotation) {\n            tooltip.hide();\n            tooltipAnnotation = null;\n            editor._signal(\"hideGutterTooltip\", tooltip);\n            editor.off(\"mousewheel\", hideTooltip);\n        }\n    }\n    function moveTooltip(e) {\n        tooltip.setPosition(e.x, e.y);\n    }\n    mouseHandler.editor.setDefaultHandler(\"guttermousemove\", function (e) {\n        var target = e.domEvent.target || e.domEvent.srcElement;\n        if (dom.hasCssClass(target, \"ace_fold-widget\"))\n            return hideTooltip();\n        if (tooltipAnnotation && mouseHandler.$tooltipFollowsMouse)\n            moveTooltip(e);\n        mouseEvent = e;\n        if (tooltipTimeout)\n            return;\n        tooltipTimeout = setTimeout(function () {\n            tooltipTimeout = null;\n            if (mouseEvent && !mouseHandler.isMousePressed)\n                showTooltip();\n            else\n                hideTooltip();\n        }, 50);\n    });\n    event.addListener(editor.renderer.$gutter, \"mouseout\", function (e) {\n        mouseEvent = null;\n        if (!tooltipAnnotation || tooltipTimeout)\n            return;\n        tooltipTimeout = setTimeout(function () {\n            tooltipTimeout = null;\n            hideTooltip();\n        }, 50);\n    }, editor);\n    editor.on(\"changeSession\", hideTooltip);\n}\nfunction GutterTooltip(parentNode) {\n    Tooltip.call(this, parentNode);\n}\noop.inherits(GutterTooltip, Tooltip);\n(function () {\n    this.setPosition = function (x, y) {\n        var windowWidth = window.innerWidth || document.documentElement.clientWidth;\n        var windowHeight = window.innerHeight || document.documentElement.clientHeight;\n        var width = this.getWidth();\n        var height = this.getHeight();\n        x += 15;\n        y += 15;\n        if (x + width > windowWidth) {\n            x -= (x + width) - windowWidth;\n        }\n        if (y + height > windowHeight) {\n            y -= 20 + height;\n        }\n        Tooltip.prototype.setPosition.call(this, x, y);\n    };\n}).call(GutterTooltip.prototype);\nexports.GutterHandler = GutterHandler;\n\n});\n\nace.define(\"ace/mouse/mouse_event\",[\"require\",\"exports\",\"module\",\"ace/lib/event\",\"ace/lib/useragent\"], function(require, exports, module){\"use strict\";\nvar event = require(\"../lib/event\");\nvar useragent = require(\"../lib/useragent\");\nvar MouseEvent = exports.MouseEvent = function (domEvent, editor) {\n    this.domEvent = domEvent;\n    this.editor = editor;\n    this.x = this.clientX = domEvent.clientX;\n    this.y = this.clientY = domEvent.clientY;\n    this.$pos = null;\n    this.$inSelection = null;\n    this.propagationStopped = false;\n    this.defaultPrevented = false;\n};\n(function () {\n    this.stopPropagation = function () {\n        event.stopPropagation(this.domEvent);\n        this.propagationStopped = true;\n    };\n    this.preventDefault = function () {\n        event.preventDefault(this.domEvent);\n        this.defaultPrevented = true;\n    };\n    this.stop = function () {\n        this.stopPropagation();\n        this.preventDefault();\n    };\n    this.getDocumentPosition = function () {\n        if (this.$pos)\n            return this.$pos;\n        this.$pos = this.editor.renderer.screenToTextCoordinates(this.clientX, this.clientY);\n        return this.$pos;\n    };\n    this.inSelection = function () {\n        if (this.$inSelection !== null)\n            return this.$inSelection;\n        var editor = this.editor;\n        var selectionRange = editor.getSelectionRange();\n        if (selectionRange.isEmpty())\n            this.$inSelection = false;\n        else {\n            var pos = this.getDocumentPosition();\n            this.$inSelection = selectionRange.contains(pos.row, pos.column);\n        }\n        return this.$inSelection;\n    };\n    this.getButton = function () {\n        return event.getButton(this.domEvent);\n    };\n    this.getShiftKey = function () {\n        return this.domEvent.shiftKey;\n    };\n    this.getAccelKey = useragent.isMac\n        ? function () { return this.domEvent.metaKey; }\n        : function () { return this.domEvent.ctrlKey; };\n}).call(MouseEvent.prototype);\n\n});\n\nace.define(\"ace/mouse/dragdrop_handler\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\",\"ace/lib/event\",\"ace/lib/useragent\"], function(require, exports, module){\"use strict\";\nvar dom = require(\"../lib/dom\");\nvar event = require(\"../lib/event\");\nvar useragent = require(\"../lib/useragent\");\nvar AUTOSCROLL_DELAY = 200;\nvar SCROLL_CURSOR_DELAY = 200;\nvar SCROLL_CURSOR_HYSTERESIS = 5;\nfunction DragdropHandler(mouseHandler) {\n    var editor = mouseHandler.editor;\n    var dragImage = dom.createElement(\"div\");\n    dragImage.style.cssText = \"top:-100px;position:absolute;z-index:2147483647;opacity:0.5\";\n    dragImage.textContent = \"\\xa0\";\n    var exports = [\"dragWait\", \"dragWaitEnd\", \"startDrag\", \"dragReadyEnd\", \"onMouseDrag\"];\n    exports.forEach(function (x) {\n        mouseHandler[x] = this[x];\n    }, this);\n    editor.on(\"mousedown\", this.onMouseDown.bind(mouseHandler));\n    var mouseTarget = editor.container;\n    var dragSelectionMarker, x, y;\n    var timerId, range;\n    var dragCursor, counter = 0;\n    var dragOperation;\n    var isInternal;\n    var autoScrollStartTime;\n    var cursorMovedTime;\n    var cursorPointOnCaretMoved;\n    this.onDragStart = function (e) {\n        if (this.cancelDrag || !mouseTarget.draggable) {\n            var self = this;\n            setTimeout(function () {\n                self.startSelect();\n                self.captureMouse(e);\n            }, 0);\n            return e.preventDefault();\n        }\n        range = editor.getSelectionRange();\n        var dataTransfer = e.dataTransfer;\n        dataTransfer.effectAllowed = editor.getReadOnly() ? \"copy\" : \"copyMove\";\n        editor.container.appendChild(dragImage);\n        dataTransfer.setDragImage && dataTransfer.setDragImage(dragImage, 0, 0);\n        setTimeout(function () {\n            editor.container.removeChild(dragImage);\n        });\n        dataTransfer.clearData();\n        dataTransfer.setData(\"Text\", editor.session.getTextRange());\n        isInternal = true;\n        this.setState(\"drag\");\n    };\n    this.onDragEnd = function (e) {\n        mouseTarget.draggable = false;\n        isInternal = false;\n        this.setState(null);\n        if (!editor.getReadOnly()) {\n            var dropEffect = e.dataTransfer.dropEffect;\n            if (!dragOperation && dropEffect == \"move\")\n                editor.session.remove(editor.getSelectionRange());\n            editor.$resetCursorStyle();\n        }\n        this.editor.unsetStyle(\"ace_dragging\");\n        this.editor.renderer.setCursorStyle(\"\");\n    };\n    this.onDragEnter = function (e) {\n        if (editor.getReadOnly() || !canAccept(e.dataTransfer))\n            return;\n        x = e.clientX;\n        y = e.clientY;\n        if (!dragSelectionMarker)\n            addDragMarker();\n        counter++;\n        e.dataTransfer.dropEffect = dragOperation = getDropEffect(e);\n        return event.preventDefault(e);\n    };\n    this.onDragOver = function (e) {\n        if (editor.getReadOnly() || !canAccept(e.dataTransfer))\n            return;\n        x = e.clientX;\n        y = e.clientY;\n        if (!dragSelectionMarker) {\n            addDragMarker();\n            counter++;\n        }\n        if (onMouseMoveTimer !== null)\n            onMouseMoveTimer = null;\n        e.dataTransfer.dropEffect = dragOperation = getDropEffect(e);\n        return event.preventDefault(e);\n    };\n    this.onDragLeave = function (e) {\n        counter--;\n        if (counter <= 0 && dragSelectionMarker) {\n            clearDragMarker();\n            dragOperation = null;\n            return event.preventDefault(e);\n        }\n    };\n    this.onDrop = function (e) {\n        if (!dragCursor)\n            return;\n        var dataTransfer = e.dataTransfer;\n        if (isInternal) {\n            switch (dragOperation) {\n                case \"move\":\n                    if (range.contains(dragCursor.row, dragCursor.column)) {\n                        range = {\n                            start: dragCursor,\n                            end: dragCursor\n                        };\n                    }\n                    else {\n                        range = editor.moveText(range, dragCursor);\n                    }\n                    break;\n                case \"copy\":\n                    range = editor.moveText(range, dragCursor, true);\n                    break;\n            }\n        }\n        else {\n            var dropData = dataTransfer.getData('Text');\n            range = {\n                start: dragCursor,\n                end: editor.session.insert(dragCursor, dropData)\n            };\n            editor.focus();\n            dragOperation = null;\n        }\n        clearDragMarker();\n        return event.preventDefault(e);\n    };\n    event.addListener(mouseTarget, \"dragstart\", this.onDragStart.bind(mouseHandler), editor);\n    event.addListener(mouseTarget, \"dragend\", this.onDragEnd.bind(mouseHandler), editor);\n    event.addListener(mouseTarget, \"dragenter\", this.onDragEnter.bind(mouseHandler), editor);\n    event.addListener(mouseTarget, \"dragover\", this.onDragOver.bind(mouseHandler), editor);\n    event.addListener(mouseTarget, \"dragleave\", this.onDragLeave.bind(mouseHandler), editor);\n    event.addListener(mouseTarget, \"drop\", this.onDrop.bind(mouseHandler), editor);\n    function scrollCursorIntoView(cursor, prevCursor) {\n        var now = Date.now();\n        var vMovement = !prevCursor || cursor.row != prevCursor.row;\n        var hMovement = !prevCursor || cursor.column != prevCursor.column;\n        if (!cursorMovedTime || vMovement || hMovement) {\n            editor.moveCursorToPosition(cursor);\n            cursorMovedTime = now;\n            cursorPointOnCaretMoved = { x: x, y: y };\n        }\n        else {\n            var distance = calcDistance(cursorPointOnCaretMoved.x, cursorPointOnCaretMoved.y, x, y);\n            if (distance > SCROLL_CURSOR_HYSTERESIS) {\n                cursorMovedTime = null;\n            }\n            else if (now - cursorMovedTime >= SCROLL_CURSOR_DELAY) {\n                editor.renderer.scrollCursorIntoView();\n                cursorMovedTime = null;\n            }\n        }\n    }\n    function autoScroll(cursor, prevCursor) {\n        var now = Date.now();\n        var lineHeight = editor.renderer.layerConfig.lineHeight;\n        var characterWidth = editor.renderer.layerConfig.characterWidth;\n        var editorRect = editor.renderer.scroller.getBoundingClientRect();\n        var offsets = {\n            x: {\n                left: x - editorRect.left,\n                right: editorRect.right - x\n            },\n            y: {\n                top: y - editorRect.top,\n                bottom: editorRect.bottom - y\n            }\n        };\n        var nearestXOffset = Math.min(offsets.x.left, offsets.x.right);\n        var nearestYOffset = Math.min(offsets.y.top, offsets.y.bottom);\n        var scrollCursor = { row: cursor.row, column: cursor.column };\n        if (nearestXOffset / characterWidth <= 2) {\n            scrollCursor.column += (offsets.x.left < offsets.x.right ? -3 : +2);\n        }\n        if (nearestYOffset / lineHeight <= 1) {\n            scrollCursor.row += (offsets.y.top < offsets.y.bottom ? -1 : +1);\n        }\n        var vScroll = cursor.row != scrollCursor.row;\n        var hScroll = cursor.column != scrollCursor.column;\n        var vMovement = !prevCursor || cursor.row != prevCursor.row;\n        if (vScroll || (hScroll && !vMovement)) {\n            if (!autoScrollStartTime)\n                autoScrollStartTime = now;\n            else if (now - autoScrollStartTime >= AUTOSCROLL_DELAY)\n                editor.renderer.scrollCursorIntoView(scrollCursor);\n        }\n        else {\n            autoScrollStartTime = null;\n        }\n    }\n    function onDragInterval() {\n        var prevCursor = dragCursor;\n        dragCursor = editor.renderer.screenToTextCoordinates(x, y);\n        scrollCursorIntoView(dragCursor, prevCursor);\n        autoScroll(dragCursor, prevCursor);\n    }\n    function addDragMarker() {\n        range = editor.selection.toOrientedRange();\n        dragSelectionMarker = editor.session.addMarker(range, \"ace_selection\", editor.getSelectionStyle());\n        editor.clearSelection();\n        if (editor.isFocused())\n            editor.renderer.$cursorLayer.setBlinking(false);\n        clearInterval(timerId);\n        onDragInterval();\n        timerId = setInterval(onDragInterval, 20);\n        counter = 0;\n        event.addListener(document, \"mousemove\", onMouseMove);\n    }\n    function clearDragMarker() {\n        clearInterval(timerId);\n        editor.session.removeMarker(dragSelectionMarker);\n        dragSelectionMarker = null;\n        editor.selection.fromOrientedRange(range);\n        if (editor.isFocused() && !isInternal)\n            editor.$resetCursorStyle();\n        range = null;\n        dragCursor = null;\n        counter = 0;\n        autoScrollStartTime = null;\n        cursorMovedTime = null;\n        event.removeListener(document, \"mousemove\", onMouseMove);\n    }\n    var onMouseMoveTimer = null;\n    function onMouseMove() {\n        if (onMouseMoveTimer == null) {\n            onMouseMoveTimer = setTimeout(function () {\n                if (onMouseMoveTimer != null && dragSelectionMarker)\n                    clearDragMarker();\n            }, 20);\n        }\n    }\n    function canAccept(dataTransfer) {\n        var types = dataTransfer.types;\n        return !types || Array.prototype.some.call(types, function (type) {\n            return type == 'text/plain' || type == 'Text';\n        });\n    }\n    function getDropEffect(e) {\n        var copyAllowed = ['copy', 'copymove', 'all', 'uninitialized'];\n        var moveAllowed = ['move', 'copymove', 'linkmove', 'all', 'uninitialized'];\n        var copyModifierState = useragent.isMac ? e.altKey : e.ctrlKey;\n        var effectAllowed = \"uninitialized\";\n        try {\n            effectAllowed = e.dataTransfer.effectAllowed.toLowerCase();\n        }\n        catch (e) { }\n        var dropEffect = \"none\";\n        if (copyModifierState && copyAllowed.indexOf(effectAllowed) >= 0)\n            dropEffect = \"copy\";\n        else if (moveAllowed.indexOf(effectAllowed) >= 0)\n            dropEffect = \"move\";\n        else if (copyAllowed.indexOf(effectAllowed) >= 0)\n            dropEffect = \"copy\";\n        return dropEffect;\n    }\n}\n(function () {\n    this.dragWait = function () {\n        var interval = Date.now() - this.mousedownEvent.time;\n        if (interval > this.editor.getDragDelay())\n            this.startDrag();\n    };\n    this.dragWaitEnd = function () {\n        var target = this.editor.container;\n        target.draggable = false;\n        this.startSelect(this.mousedownEvent.getDocumentPosition());\n        this.selectEnd();\n    };\n    this.dragReadyEnd = function (e) {\n        this.editor.$resetCursorStyle();\n        this.editor.unsetStyle(\"ace_dragging\");\n        this.editor.renderer.setCursorStyle(\"\");\n        this.dragWaitEnd();\n    };\n    this.startDrag = function () {\n        this.cancelDrag = false;\n        var editor = this.editor;\n        var target = editor.container;\n        target.draggable = true;\n        editor.renderer.$cursorLayer.setBlinking(false);\n        editor.setStyle(\"ace_dragging\");\n        var cursorStyle = useragent.isWin ? \"default\" : \"move\";\n        editor.renderer.setCursorStyle(cursorStyle);\n        this.setState(\"dragReady\");\n    };\n    this.onMouseDrag = function (e) {\n        var target = this.editor.container;\n        if (useragent.isIE && this.state == \"dragReady\") {\n            var distance = calcDistance(this.mousedownEvent.x, this.mousedownEvent.y, this.x, this.y);\n            if (distance > 3)\n                target.dragDrop();\n        }\n        if (this.state === \"dragWait\") {\n            var distance = calcDistance(this.mousedownEvent.x, this.mousedownEvent.y, this.x, this.y);\n            if (distance > 0) {\n                target.draggable = false;\n                this.startSelect(this.mousedownEvent.getDocumentPosition());\n            }\n        }\n    };\n    this.onMouseDown = function (e) {\n        if (!this.$dragEnabled)\n            return;\n        this.mousedownEvent = e;\n        var editor = this.editor;\n        var inSelection = e.inSelection();\n        var button = e.getButton();\n        var clickCount = e.domEvent.detail || 1;\n        if (clickCount === 1 && button === 0 && inSelection) {\n            if (e.editor.inMultiSelectMode && (e.getAccelKey() || e.getShiftKey()))\n                return;\n            this.mousedownEvent.time = Date.now();\n            var eventTarget = e.domEvent.target || e.domEvent.srcElement;\n            if (\"unselectable\" in eventTarget)\n                eventTarget.unselectable = \"on\";\n            if (editor.getDragDelay()) {\n                if (useragent.isWebKit) {\n                    this.cancelDrag = true;\n                    var mouseTarget = editor.container;\n                    mouseTarget.draggable = true;\n                }\n                this.setState(\"dragWait\");\n            }\n            else {\n                this.startDrag();\n            }\n            this.captureMouse(e, this.onMouseDrag.bind(this));\n            e.defaultPrevented = true;\n        }\n    };\n}).call(DragdropHandler.prototype);\nfunction calcDistance(ax, ay, bx, by) {\n    return Math.sqrt(Math.pow(bx - ax, 2) + Math.pow(by - ay, 2));\n}\nexports.DragdropHandler = DragdropHandler;\n\n});\n\nace.define(\"ace/mouse/touch_handler\",[\"require\",\"exports\",\"module\",\"ace/mouse/mouse_event\",\"ace/lib/event\",\"ace/lib/dom\"], function(require, exports, module){\"use strict\";\nvar MouseEvent = require(\"./mouse_event\").MouseEvent;\nvar event = require(\"../lib/event\");\nvar dom = require(\"../lib/dom\");\nexports.addTouchListeners = function (el, editor) {\n    var mode = \"scroll\";\n    var startX;\n    var startY;\n    var touchStartT;\n    var lastT;\n    var longTouchTimer;\n    var animationTimer;\n    var animationSteps = 0;\n    var pos;\n    var clickCount = 0;\n    var vX = 0;\n    var vY = 0;\n    var pressed;\n    var contextMenu;\n    function createContextMenu() {\n        var clipboard = window.navigator && window.navigator.clipboard;\n        var isOpen = false;\n        var updateMenu = function () {\n            var selected = editor.getCopyText();\n            var hasUndo = editor.session.getUndoManager().hasUndo();\n            contextMenu.replaceChild(dom.buildDom(isOpen ? [\"span\",\n                !selected && [\"span\", { class: \"ace_mobile-button\", action: \"selectall\" }, \"Select All\"],\n                selected && [\"span\", { class: \"ace_mobile-button\", action: \"copy\" }, \"Copy\"],\n                selected && [\"span\", { class: \"ace_mobile-button\", action: \"cut\" }, \"Cut\"],\n                clipboard && [\"span\", { class: \"ace_mobile-button\", action: \"paste\" }, \"Paste\"],\n                hasUndo && [\"span\", { class: \"ace_mobile-button\", action: \"undo\" }, \"Undo\"],\n                [\"span\", { class: \"ace_mobile-button\", action: \"find\" }, \"Find\"],\n                [\"span\", { class: \"ace_mobile-button\", action: \"openCommandPallete\" }, \"Palette\"]\n            ] : [\"span\"]), contextMenu.firstChild);\n        };\n        var handleClick = function (e) {\n            var action = e.target.getAttribute(\"action\");\n            if (action == \"more\" || !isOpen) {\n                isOpen = !isOpen;\n                return updateMenu();\n            }\n            if (action == \"paste\") {\n                clipboard.readText().then(function (text) {\n                    editor.execCommand(action, text);\n                });\n            }\n            else if (action) {\n                if (action == \"cut\" || action == \"copy\") {\n                    if (clipboard)\n                        clipboard.writeText(editor.getCopyText());\n                    else\n                        document.execCommand(\"copy\");\n                }\n                editor.execCommand(action);\n            }\n            contextMenu.firstChild.style.display = \"none\";\n            isOpen = false;\n            if (action != \"openCommandPallete\")\n                editor.focus();\n        };\n        contextMenu = dom.buildDom([\"div\",\n            {\n                class: \"ace_mobile-menu\",\n                ontouchstart: function (e) {\n                    mode = \"menu\";\n                    e.stopPropagation();\n                    e.preventDefault();\n                    editor.textInput.focus();\n                },\n                ontouchend: function (e) {\n                    e.stopPropagation();\n                    e.preventDefault();\n                    handleClick(e);\n                },\n                onclick: handleClick\n            },\n            [\"span\"],\n            [\"span\", { class: \"ace_mobile-button\", action: \"more\" }, \"...\"]\n        ], editor.container);\n    }\n    function showContextMenu() {\n        if (!contextMenu)\n            createContextMenu();\n        var cursor = editor.selection.cursor;\n        var pagePos = editor.renderer.textToScreenCoordinates(cursor.row, cursor.column);\n        var leftOffset = editor.renderer.textToScreenCoordinates(0, 0).pageX;\n        var scrollLeft = editor.renderer.scrollLeft;\n        var rect = editor.container.getBoundingClientRect();\n        contextMenu.style.top = pagePos.pageY - rect.top - 3 + \"px\";\n        if (pagePos.pageX - rect.left < rect.width - 70) {\n            contextMenu.style.left = \"\";\n            contextMenu.style.right = \"10px\";\n        }\n        else {\n            contextMenu.style.right = \"\";\n            contextMenu.style.left = leftOffset + scrollLeft - rect.left + \"px\";\n        }\n        contextMenu.style.display = \"\";\n        contextMenu.firstChild.style.display = \"none\";\n        editor.on(\"input\", hideContextMenu);\n    }\n    function hideContextMenu(e) {\n        if (contextMenu)\n            contextMenu.style.display = \"none\";\n        editor.off(\"input\", hideContextMenu);\n    }\n    function handleLongTap() {\n        longTouchTimer = null;\n        clearTimeout(longTouchTimer);\n        var range = editor.selection.getRange();\n        var inSelection = range.contains(pos.row, pos.column);\n        if (range.isEmpty() || !inSelection) {\n            editor.selection.moveToPosition(pos);\n            editor.selection.selectWord();\n        }\n        mode = \"wait\";\n        showContextMenu();\n    }\n    function switchToSelectionMode() {\n        longTouchTimer = null;\n        clearTimeout(longTouchTimer);\n        editor.selection.moveToPosition(pos);\n        var range = clickCount >= 2\n            ? editor.selection.getLineRange(pos.row)\n            : editor.session.getBracketRange(pos);\n        if (range && !range.isEmpty()) {\n            editor.selection.setRange(range);\n        }\n        else {\n            editor.selection.selectWord();\n        }\n        mode = \"wait\";\n    }\n    event.addListener(el, \"contextmenu\", function (e) {\n        if (!pressed)\n            return;\n        var textarea = editor.textInput.getElement();\n        textarea.focus();\n    }, editor);\n    event.addListener(el, \"touchstart\", function (e) {\n        var touches = e.touches;\n        if (longTouchTimer || touches.length > 1) {\n            clearTimeout(longTouchTimer);\n            longTouchTimer = null;\n            touchStartT = -1;\n            mode = \"zoom\";\n            return;\n        }\n        pressed = editor.$mouseHandler.isMousePressed = true;\n        var h = editor.renderer.layerConfig.lineHeight;\n        var w = editor.renderer.layerConfig.lineHeight;\n        var t = e.timeStamp;\n        lastT = t;\n        var touchObj = touches[0];\n        var x = touchObj.clientX;\n        var y = touchObj.clientY;\n        if (Math.abs(startX - x) + Math.abs(startY - y) > h)\n            touchStartT = -1;\n        startX = e.clientX = x;\n        startY = e.clientY = y;\n        vX = vY = 0;\n        var ev = new MouseEvent(e, editor);\n        pos = ev.getDocumentPosition();\n        if (t - touchStartT < 500 && touches.length == 1 && !animationSteps) {\n            clickCount++;\n            e.preventDefault();\n            e.button = 0;\n            switchToSelectionMode();\n        }\n        else {\n            clickCount = 0;\n            var cursor = editor.selection.cursor;\n            var anchor = editor.selection.isEmpty() ? cursor : editor.selection.anchor;\n            var cursorPos = editor.renderer.$cursorLayer.getPixelPosition(cursor, true);\n            var anchorPos = editor.renderer.$cursorLayer.getPixelPosition(anchor, true);\n            var rect = editor.renderer.scroller.getBoundingClientRect();\n            var offsetTop = editor.renderer.layerConfig.offset;\n            var offsetLeft = editor.renderer.scrollLeft;\n            var weightedDistance = function (x, y) {\n                x = x / w;\n                y = y / h - 0.75;\n                return x * x + y * y;\n            };\n            if (e.clientX < rect.left) {\n                mode = \"zoom\";\n                return;\n            }\n            var diff1 = weightedDistance(e.clientX - rect.left - cursorPos.left + offsetLeft, e.clientY - rect.top - cursorPos.top + offsetTop);\n            var diff2 = weightedDistance(e.clientX - rect.left - anchorPos.left + offsetLeft, e.clientY - rect.top - anchorPos.top + offsetTop);\n            if (diff1 < 3.5 && diff2 < 3.5)\n                mode = diff1 > diff2 ? \"cursor\" : \"anchor\";\n            if (diff2 < 3.5)\n                mode = \"anchor\";\n            else if (diff1 < 3.5)\n                mode = \"cursor\";\n            else\n                mode = \"scroll\";\n            longTouchTimer = setTimeout(handleLongTap, 450);\n        }\n        touchStartT = t;\n    }, editor);\n    event.addListener(el, \"touchend\", function (e) {\n        pressed = editor.$mouseHandler.isMousePressed = false;\n        if (animationTimer)\n            clearInterval(animationTimer);\n        if (mode == \"zoom\") {\n            mode = \"\";\n            animationSteps = 0;\n        }\n        else if (longTouchTimer) {\n            editor.selection.moveToPosition(pos);\n            animationSteps = 0;\n            showContextMenu();\n        }\n        else if (mode == \"scroll\") {\n            animate();\n            hideContextMenu();\n        }\n        else {\n            showContextMenu();\n        }\n        clearTimeout(longTouchTimer);\n        longTouchTimer = null;\n    }, editor);\n    event.addListener(el, \"touchmove\", function (e) {\n        if (longTouchTimer) {\n            clearTimeout(longTouchTimer);\n            longTouchTimer = null;\n        }\n        var touches = e.touches;\n        if (touches.length > 1 || mode == \"zoom\")\n            return;\n        var touchObj = touches[0];\n        var wheelX = startX - touchObj.clientX;\n        var wheelY = startY - touchObj.clientY;\n        if (mode == \"wait\") {\n            if (wheelX * wheelX + wheelY * wheelY > 4)\n                mode = \"cursor\";\n            else\n                return e.preventDefault();\n        }\n        startX = touchObj.clientX;\n        startY = touchObj.clientY;\n        e.clientX = touchObj.clientX;\n        e.clientY = touchObj.clientY;\n        var t = e.timeStamp;\n        var dt = t - lastT;\n        lastT = t;\n        if (mode == \"scroll\") {\n            var mouseEvent = new MouseEvent(e, editor);\n            mouseEvent.speed = 1;\n            mouseEvent.wheelX = wheelX;\n            mouseEvent.wheelY = wheelY;\n            if (10 * Math.abs(wheelX) < Math.abs(wheelY))\n                wheelX = 0;\n            if (10 * Math.abs(wheelY) < Math.abs(wheelX))\n                wheelY = 0;\n            if (dt != 0) {\n                vX = wheelX / dt;\n                vY = wheelY / dt;\n            }\n            editor._emit(\"mousewheel\", mouseEvent);\n            if (!mouseEvent.propagationStopped) {\n                vX = vY = 0;\n            }\n        }\n        else {\n            var ev = new MouseEvent(e, editor);\n            var pos = ev.getDocumentPosition();\n            if (mode == \"cursor\")\n                editor.selection.moveCursorToPosition(pos);\n            else if (mode == \"anchor\")\n                editor.selection.setSelectionAnchor(pos.row, pos.column);\n            editor.renderer.scrollCursorIntoView(pos);\n            e.preventDefault();\n        }\n    }, editor);\n    function animate() {\n        animationSteps += 60;\n        animationTimer = setInterval(function () {\n            if (animationSteps-- <= 0) {\n                clearInterval(animationTimer);\n                animationTimer = null;\n            }\n            if (Math.abs(vX) < 0.01)\n                vX = 0;\n            if (Math.abs(vY) < 0.01)\n                vY = 0;\n            if (animationSteps < 20)\n                vX = 0.9 * vX;\n            if (animationSteps < 20)\n                vY = 0.9 * vY;\n            var oldScrollTop = editor.session.getScrollTop();\n            editor.renderer.scrollBy(10 * vX, 10 * vY);\n            if (oldScrollTop == editor.session.getScrollTop())\n                animationSteps = 0;\n        }, 10);\n    }\n};\n\n});\n\nace.define(\"ace/mouse/mouse_handler\",[\"require\",\"exports\",\"module\",\"ace/lib/event\",\"ace/lib/useragent\",\"ace/mouse/default_handlers\",\"ace/mouse/default_gutter_handler\",\"ace/mouse/mouse_event\",\"ace/mouse/dragdrop_handler\",\"ace/mouse/touch_handler\",\"ace/config\"], function(require, exports, module){\"use strict\";\nvar event = require(\"../lib/event\");\nvar useragent = require(\"../lib/useragent\");\nvar DefaultHandlers = require(\"./default_handlers\").DefaultHandlers;\nvar DefaultGutterHandler = require(\"./default_gutter_handler\").GutterHandler;\nvar MouseEvent = require(\"./mouse_event\").MouseEvent;\nvar DragdropHandler = require(\"./dragdrop_handler\").DragdropHandler;\nvar addTouchListeners = require(\"./touch_handler\").addTouchListeners;\nvar config = require(\"../config\");\nvar MouseHandler = function (editor) {\n    var _self = this;\n    this.editor = editor;\n    new DefaultHandlers(this);\n    new DefaultGutterHandler(this);\n    new DragdropHandler(this);\n    var focusEditor = function (e) {\n        var windowBlurred = !document.hasFocus || !document.hasFocus()\n            || !editor.isFocused() && document.activeElement == (editor.textInput && editor.textInput.getElement());\n        if (windowBlurred)\n            window.focus();\n        editor.focus();\n        setTimeout(function () {\n            if (!editor.isFocused())\n                editor.focus();\n        });\n    };\n    var mouseTarget = editor.renderer.getMouseEventTarget();\n    event.addListener(mouseTarget, \"click\", this.onMouseEvent.bind(this, \"click\"), editor);\n    event.addListener(mouseTarget, \"mousemove\", this.onMouseMove.bind(this, \"mousemove\"), editor);\n    event.addMultiMouseDownListener([\n        mouseTarget,\n        editor.renderer.scrollBarV && editor.renderer.scrollBarV.inner,\n        editor.renderer.scrollBarH && editor.renderer.scrollBarH.inner,\n        editor.textInput && editor.textInput.getElement()\n    ].filter(Boolean), [400, 300, 250], this, \"onMouseEvent\", editor);\n    event.addMouseWheelListener(editor.container, this.onMouseWheel.bind(this, \"mousewheel\"), editor);\n    addTouchListeners(editor.container, editor);\n    var gutterEl = editor.renderer.$gutter;\n    event.addListener(gutterEl, \"mousedown\", this.onMouseEvent.bind(this, \"guttermousedown\"), editor);\n    event.addListener(gutterEl, \"click\", this.onMouseEvent.bind(this, \"gutterclick\"), editor);\n    event.addListener(gutterEl, \"dblclick\", this.onMouseEvent.bind(this, \"gutterdblclick\"), editor);\n    event.addListener(gutterEl, \"mousemove\", this.onMouseEvent.bind(this, \"guttermousemove\"), editor);\n    event.addListener(mouseTarget, \"mousedown\", focusEditor, editor);\n    event.addListener(gutterEl, \"mousedown\", focusEditor, editor);\n    if (useragent.isIE && editor.renderer.scrollBarV) {\n        event.addListener(editor.renderer.scrollBarV.element, \"mousedown\", focusEditor, editor);\n        event.addListener(editor.renderer.scrollBarH.element, \"mousedown\", focusEditor, editor);\n    }\n    editor.on(\"mousemove\", function (e) {\n        if (_self.state || _self.$dragDelay || !_self.$dragEnabled)\n            return;\n        var character = editor.renderer.screenToTextCoordinates(e.x, e.y);\n        var range = editor.session.selection.getRange();\n        var renderer = editor.renderer;\n        if (!range.isEmpty() && range.insideStart(character.row, character.column)) {\n            renderer.setCursorStyle(\"default\");\n        }\n        else {\n            renderer.setCursorStyle(\"\");\n        }\n    }, editor);\n};\n(function () {\n    this.onMouseEvent = function (name, e) {\n        if (!this.editor.session)\n            return;\n        this.editor._emit(name, new MouseEvent(e, this.editor));\n    };\n    this.onMouseMove = function (name, e) {\n        var listeners = this.editor._eventRegistry && this.editor._eventRegistry.mousemove;\n        if (!listeners || !listeners.length)\n            return;\n        this.editor._emit(name, new MouseEvent(e, this.editor));\n    };\n    this.onMouseWheel = function (name, e) {\n        var mouseEvent = new MouseEvent(e, this.editor);\n        mouseEvent.speed = this.$scrollSpeed * 2;\n        mouseEvent.wheelX = e.wheelX;\n        mouseEvent.wheelY = e.wheelY;\n        this.editor._emit(name, mouseEvent);\n    };\n    this.setState = function (state) {\n        this.state = state;\n    };\n    this.captureMouse = function (ev, mouseMoveHandler) {\n        this.x = ev.x;\n        this.y = ev.y;\n        this.isMousePressed = true;\n        var editor = this.editor;\n        var renderer = this.editor.renderer;\n        renderer.$isMousePressed = true;\n        var self = this;\n        var onMouseMove = function (e) {\n            if (!e)\n                return;\n            if (useragent.isWebKit && !e.which && self.releaseMouse)\n                return self.releaseMouse();\n            self.x = e.clientX;\n            self.y = e.clientY;\n            mouseMoveHandler && mouseMoveHandler(e);\n            self.mouseEvent = new MouseEvent(e, self.editor);\n            self.$mouseMoved = true;\n        };\n        var onCaptureEnd = function (e) {\n            editor.off(\"beforeEndOperation\", onOperationEnd);\n            clearInterval(timerId);\n            if (editor.session)\n                onCaptureInterval();\n            self[self.state + \"End\"] && self[self.state + \"End\"](e);\n            self.state = \"\";\n            self.isMousePressed = renderer.$isMousePressed = false;\n            if (renderer.$keepTextAreaAtCursor)\n                renderer.$moveTextAreaToCursor();\n            self.$onCaptureMouseMove = self.releaseMouse = null;\n            e && self.onMouseEvent(\"mouseup\", e);\n            editor.endOperation();\n        };\n        var onCaptureInterval = function () {\n            self[self.state] && self[self.state]();\n            self.$mouseMoved = false;\n        };\n        if (useragent.isOldIE && ev.domEvent.type == \"dblclick\") {\n            return setTimeout(function () { onCaptureEnd(ev); });\n        }\n        var onOperationEnd = function (e) {\n            if (!self.releaseMouse)\n                return;\n            if (editor.curOp.command.name && editor.curOp.selectionChanged) {\n                self[self.state + \"End\"] && self[self.state + \"End\"]();\n                self.state = \"\";\n                self.releaseMouse();\n            }\n        };\n        editor.on(\"beforeEndOperation\", onOperationEnd);\n        editor.startOperation({ command: { name: \"mouse\" } });\n        self.$onCaptureMouseMove = onMouseMove;\n        self.releaseMouse = event.capture(this.editor.container, onMouseMove, onCaptureEnd);\n        var timerId = setInterval(onCaptureInterval, 20);\n    };\n    this.releaseMouse = null;\n    this.cancelContextMenu = function () {\n        var stop = function (e) {\n            if (e && e.domEvent && e.domEvent.type != \"contextmenu\")\n                return;\n            this.editor.off(\"nativecontextmenu\", stop);\n            if (e && e.domEvent)\n                event.stopEvent(e.domEvent);\n        }.bind(this);\n        setTimeout(stop, 10);\n        this.editor.on(\"nativecontextmenu\", stop);\n    };\n    this.destroy = function () {\n        if (this.releaseMouse)\n            this.releaseMouse();\n    };\n}).call(MouseHandler.prototype);\nconfig.defineOptions(MouseHandler.prototype, \"mouseHandler\", {\n    scrollSpeed: { initialValue: 2 },\n    dragDelay: { initialValue: (useragent.isMac ? 150 : 0) },\n    dragEnabled: { initialValue: true },\n    focusTimeout: { initialValue: 0 },\n    tooltipFollowsMouse: { initialValue: true }\n});\nexports.MouseHandler = MouseHandler;\n\n});\n\nace.define(\"ace/mouse/fold_handler\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\"], function(require, exports, module){\"use strict\";\nvar dom = require(\"../lib/dom\");\nfunction FoldHandler(editor) {\n    editor.on(\"click\", function (e) {\n        var position = e.getDocumentPosition();\n        var session = editor.session;\n        var fold = session.getFoldAt(position.row, position.column, 1);\n        if (fold) {\n            if (e.getAccelKey())\n                session.removeFold(fold);\n            else\n                session.expandFold(fold);\n            e.stop();\n        }\n        var target = e.domEvent && e.domEvent.target;\n        if (target && dom.hasCssClass(target, \"ace_inline_button\")) {\n            if (dom.hasCssClass(target, \"ace_toggle_wrap\")) {\n                session.setOption(\"wrap\", !session.getUseWrapMode());\n                editor.renderer.scrollCursorIntoView();\n            }\n        }\n    });\n    editor.on(\"gutterclick\", function (e) {\n        var gutterRegion = editor.renderer.$gutterLayer.getRegion(e);\n        if (gutterRegion == \"foldWidgets\") {\n            var row = e.getDocumentPosition().row;\n            var session = editor.session;\n            if (session.foldWidgets && session.foldWidgets[row])\n                editor.session.onFoldWidgetClick(row, e);\n            if (!editor.isFocused())\n                editor.focus();\n            e.stop();\n        }\n    });\n    editor.on(\"gutterdblclick\", function (e) {\n        var gutterRegion = editor.renderer.$gutterLayer.getRegion(e);\n        if (gutterRegion == \"foldWidgets\") {\n            var row = e.getDocumentPosition().row;\n            var session = editor.session;\n            var data = session.getParentFoldRangeData(row, true);\n            var range = data.range || data.firstRange;\n            if (range) {\n                row = range.start.row;\n                var fold = session.getFoldAt(row, session.getLine(row).length, 1);\n                if (fold) {\n                    session.removeFold(fold);\n                }\n                else {\n                    session.addFold(\"...\", range);\n                    editor.renderer.scrollCursorIntoView({ row: range.start.row, column: 0 });\n                }\n            }\n            e.stop();\n        }\n    });\n}\nexports.FoldHandler = FoldHandler;\n\n});\n\nace.define(\"ace/keyboard/keybinding\",[\"require\",\"exports\",\"module\",\"ace/lib/keys\",\"ace/lib/event\"], function(require, exports, module){\"use strict\";\nvar keyUtil = require(\"../lib/keys\");\nvar event = require(\"../lib/event\");\nvar KeyBinding = function (editor) {\n    this.$editor = editor;\n    this.$data = { editor: editor };\n    this.$handlers = [];\n    this.setDefaultHandler(editor.commands);\n};\n(function () {\n    this.setDefaultHandler = function (kb) {\n        this.removeKeyboardHandler(this.$defaultHandler);\n        this.$defaultHandler = kb;\n        this.addKeyboardHandler(kb, 0);\n    };\n    this.setKeyboardHandler = function (kb) {\n        var h = this.$handlers;\n        if (h[h.length - 1] == kb)\n            return;\n        while (h[h.length - 1] && h[h.length - 1] != this.$defaultHandler)\n            this.removeKeyboardHandler(h[h.length - 1]);\n        this.addKeyboardHandler(kb, 1);\n    };\n    this.addKeyboardHandler = function (kb, pos) {\n        if (!kb)\n            return;\n        if (typeof kb == \"function\" && !kb.handleKeyboard)\n            kb.handleKeyboard = kb;\n        var i = this.$handlers.indexOf(kb);\n        if (i != -1)\n            this.$handlers.splice(i, 1);\n        if (pos == undefined)\n            this.$handlers.push(kb);\n        else\n            this.$handlers.splice(pos, 0, kb);\n        if (i == -1 && kb.attach)\n            kb.attach(this.$editor);\n    };\n    this.removeKeyboardHandler = function (kb) {\n        var i = this.$handlers.indexOf(kb);\n        if (i == -1)\n            return false;\n        this.$handlers.splice(i, 1);\n        kb.detach && kb.detach(this.$editor);\n        return true;\n    };\n    this.getKeyboardHandler = function () {\n        return this.$handlers[this.$handlers.length - 1];\n    };\n    this.getStatusText = function () {\n        var data = this.$data;\n        var editor = data.editor;\n        return this.$handlers.map(function (h) {\n            return h.getStatusText && h.getStatusText(editor, data) || \"\";\n        }).filter(Boolean).join(\" \");\n    };\n    this.$callKeyboardHandlers = function (hashId, keyString, keyCode, e) {\n        var toExecute;\n        var success = false;\n        var commands = this.$editor.commands;\n        for (var i = this.$handlers.length; i--;) {\n            toExecute = this.$handlers[i].handleKeyboard(this.$data, hashId, keyString, keyCode, e);\n            if (!toExecute || !toExecute.command)\n                continue;\n            if (toExecute.command == \"null\") {\n                success = true;\n            }\n            else {\n                success = commands.exec(toExecute.command, this.$editor, toExecute.args, e);\n            }\n            if (success && e && hashId != -1 &&\n                toExecute.passEvent != true && toExecute.command.passEvent != true) {\n                event.stopEvent(e);\n            }\n            if (success)\n                break;\n        }\n        if (!success && hashId == -1) {\n            toExecute = { command: \"insertstring\" };\n            success = commands.exec(\"insertstring\", this.$editor, keyString);\n        }\n        if (success && this.$editor._signal)\n            this.$editor._signal(\"keyboardActivity\", toExecute);\n        return success;\n    };\n    this.onCommandKey = function (e, hashId, keyCode) {\n        var keyString = keyUtil.keyCodeToString(keyCode);\n        return this.$callKeyboardHandlers(hashId, keyString, keyCode, e);\n    };\n    this.onTextInput = function (text) {\n        return this.$callKeyboardHandlers(-1, text);\n    };\n}).call(KeyBinding.prototype);\nexports.KeyBinding = KeyBinding;\n\n});\n\nace.define(\"ace/lib/bidiutil\",[\"require\",\"exports\",\"module\"], function(require, exports, module){\"use strict\";\nvar ArabicAlefBetIntervalsBegine = ['\\u0621', '\\u0641'];\nvar ArabicAlefBetIntervalsEnd = ['\\u063A', '\\u064a'];\nvar dir = 0, hiLevel = 0;\nvar lastArabic = false, hasUBAT_AL = false, hasUBAT_B = false, hasUBAT_S = false, hasBlockSep = false, hasSegSep = false;\nvar impTab_LTR = [ [0, 3, 0, 1, 0, 0, 0], [0, 3, 0, 1, 2, 2, 0], [0, 3, 0, 0x11, 2, 0, 1], [0, 3, 5, 5, 4, 1, 0], [0, 3, 0x15, 0x15, 4, 0, 1], [0, 3, 5, 5, 4, 2, 0]\n];\nvar impTab_RTL = [ [2, 0, 1, 1, 0, 1, 0], [2, 0, 1, 1, 0, 2, 0], [2, 0, 2, 1, 3, 2, 0], [2, 0, 2, 0x21, 3, 1, 1]\n];\nvar LTR = 0, RTL = 1;\nvar L = 0;\nvar R = 1;\nvar EN = 2;\nvar AN = 3;\nvar ON = 4;\nvar B = 5;\nvar S = 6;\nvar AL = 7;\nvar WS = 8;\nvar CS = 9;\nvar ES = 10;\nvar ET = 11;\nvar NSM = 12;\nvar LRE = 13;\nvar RLE = 14;\nvar PDF = 15;\nvar LRO = 16;\nvar RLO = 17;\nvar BN = 18;\nvar UnicodeTBL00 = [\n    BN, BN, BN, BN, BN, BN, BN, BN, BN, S, B, S, WS, B, BN, BN,\n    BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, B, B, B, S,\n    WS, ON, ON, ET, ET, ET, ON, ON, ON, ON, ON, ES, CS, ES, CS, CS,\n    EN, EN, EN, EN, EN, EN, EN, EN, EN, EN, CS, ON, ON, ON, ON, ON,\n    ON, L, L, L, L, L, L, L, L, L, L, L, L, L, L, L,\n    L, L, L, L, L, L, L, L, L, L, L, ON, ON, ON, ON, ON,\n    ON, L, L, L, L, L, L, L, L, L, L, L, L, L, L, L,\n    L, L, L, L, L, L, L, L, L, L, L, ON, ON, ON, ON, BN,\n    BN, BN, BN, BN, BN, B, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN,\n    BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN,\n    CS, ON, ET, ET, ET, ET, ON, ON, ON, ON, L, ON, ON, BN, ON, ON,\n    ET, ET, EN, EN, ON, L, ON, ON, ON, EN, L, ON, ON, ON, ON, ON\n];\nvar UnicodeTBL20 = [\n    WS, WS, WS, WS, WS, WS, WS, WS, WS, WS, WS, BN, BN, BN, L, R,\n    ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON,\n    ON, ON, ON, ON, ON, ON, ON, ON, WS, B, LRE, RLE, PDF, LRO, RLO, CS,\n    ET, ET, ET, ET, ET, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON,\n    ON, ON, ON, ON, CS, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON,\n    ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, WS\n];\nfunction _computeLevels(chars, levels, len, charTypes) {\n    var impTab = dir ? impTab_RTL : impTab_LTR, prevState = null, newClass = null, newLevel = null, newState = 0, action = null, cond = null, condPos = -1, i = null, ix = null, classes = [];\n    if (!charTypes) {\n        for (i = 0, charTypes = []; i < len; i++) {\n            charTypes[i] = _getCharacterType(chars[i]);\n        }\n    }\n    hiLevel = dir;\n    lastArabic = false;\n    hasUBAT_AL = false;\n    hasUBAT_B = false;\n    hasUBAT_S = false;\n    for (ix = 0; ix < len; ix++) {\n        prevState = newState;\n        classes[ix] = newClass = _getCharClass(chars, charTypes, classes, ix);\n        newState = impTab[prevState][newClass];\n        action = newState & 0xF0;\n        newState &= 0x0F;\n        levels[ix] = newLevel = impTab[newState][5];\n        if (action > 0) {\n            if (action == 0x10) {\n                for (i = condPos; i < ix; i++) {\n                    levels[i] = 1;\n                }\n                condPos = -1;\n            }\n            else {\n                condPos = -1;\n            }\n        }\n        cond = impTab[newState][6];\n        if (cond) {\n            if (condPos == -1) {\n                condPos = ix;\n            }\n        }\n        else {\n            if (condPos > -1) {\n                for (i = condPos; i < ix; i++) {\n                    levels[i] = newLevel;\n                }\n                condPos = -1;\n            }\n        }\n        if (charTypes[ix] == B) {\n            levels[ix] = 0;\n        }\n        hiLevel |= newLevel;\n    }\n    if (hasUBAT_S) {\n        for (i = 0; i < len; i++) {\n            if (charTypes[i] == S) {\n                levels[i] = dir;\n                for (var j = i - 1; j >= 0; j--) {\n                    if (charTypes[j] == WS) {\n                        levels[j] = dir;\n                    }\n                    else {\n                        break;\n                    }\n                }\n            }\n        }\n    }\n}\nfunction _invertLevel(lev, levels, _array) {\n    if (hiLevel < lev) {\n        return;\n    }\n    if (lev == 1 && dir == RTL && !hasUBAT_B) {\n        _array.reverse();\n        return;\n    }\n    var len = _array.length, start = 0, end, lo, hi, tmp;\n    while (start < len) {\n        if (levels[start] >= lev) {\n            end = start + 1;\n            while (end < len && levels[end] >= lev) {\n                end++;\n            }\n            for (lo = start, hi = end - 1; lo < hi; lo++, hi--) {\n                tmp = _array[lo];\n                _array[lo] = _array[hi];\n                _array[hi] = tmp;\n            }\n            start = end;\n        }\n        start++;\n    }\n}\nfunction _getCharClass(chars, types, classes, ix) {\n    var cType = types[ix], wType, nType, len, i;\n    switch (cType) {\n        case L:\n        case R:\n            lastArabic = false;\n        case ON:\n        case AN:\n            return cType;\n        case EN:\n            return lastArabic ? AN : EN;\n        case AL:\n            lastArabic = true;\n            hasUBAT_AL = true;\n            return R;\n        case WS:\n            return ON;\n        case CS:\n            if (ix < 1 || (ix + 1) >= types.length ||\n                ((wType = classes[ix - 1]) != EN && wType != AN) ||\n                ((nType = types[ix + 1]) != EN && nType != AN)) {\n                return ON;\n            }\n            if (lastArabic) {\n                nType = AN;\n            }\n            return nType == wType ? nType : ON;\n        case ES:\n            wType = ix > 0 ? classes[ix - 1] : B;\n            if (wType == EN && (ix + 1) < types.length && types[ix + 1] == EN) {\n                return EN;\n            }\n            return ON;\n        case ET:\n            if (ix > 0 && classes[ix - 1] == EN) {\n                return EN;\n            }\n            if (lastArabic) {\n                return ON;\n            }\n            i = ix + 1;\n            len = types.length;\n            while (i < len && types[i] == ET) {\n                i++;\n            }\n            if (i < len && types[i] == EN) {\n                return EN;\n            }\n            return ON;\n        case NSM:\n            len = types.length;\n            i = ix + 1;\n            while (i < len && types[i] == NSM) {\n                i++;\n            }\n            if (i < len) {\n                var c = chars[ix], rtlCandidate = (c >= 0x0591 && c <= 0x08FF) || c == 0xFB1E;\n                wType = types[i];\n                if (rtlCandidate && (wType == R || wType == AL)) {\n                    return R;\n                }\n            }\n            if (ix < 1 || (wType = types[ix - 1]) == B) {\n                return ON;\n            }\n            return classes[ix - 1];\n        case B:\n            lastArabic = false;\n            hasUBAT_B = true;\n            return dir;\n        case S:\n            hasUBAT_S = true;\n            return ON;\n        case LRE:\n        case RLE:\n        case LRO:\n        case RLO:\n        case PDF:\n            lastArabic = false;\n        case BN:\n            return ON;\n    }\n}\nfunction _getCharacterType(ch) {\n    var uc = ch.charCodeAt(0), hi = uc >> 8;\n    if (hi == 0) {\n        return ((uc > 0x00BF) ? L : UnicodeTBL00[uc]);\n    }\n    else if (hi == 5) {\n        return (/[\\u0591-\\u05f4]/.test(ch) ? R : L);\n    }\n    else if (hi == 6) {\n        if (/[\\u0610-\\u061a\\u064b-\\u065f\\u06d6-\\u06e4\\u06e7-\\u06ed]/.test(ch))\n            return NSM;\n        else if (/[\\u0660-\\u0669\\u066b-\\u066c]/.test(ch))\n            return AN;\n        else if (uc == 0x066A)\n            return ET;\n        else if (/[\\u06f0-\\u06f9]/.test(ch))\n            return EN;\n        else\n            return AL;\n    }\n    else if (hi == 0x20 && uc <= 0x205F) {\n        return UnicodeTBL20[uc & 0xFF];\n    }\n    else if (hi == 0xFE) {\n        return (uc >= 0xFE70 ? AL : ON);\n    }\n    return ON;\n}\nfunction _isArabicDiacritics(ch) {\n    return (ch >= '\\u064b' && ch <= '\\u0655');\n}\nexports.L = L;\nexports.R = R;\nexports.EN = EN;\nexports.ON_R = 3;\nexports.AN = 4;\nexports.R_H = 5;\nexports.B = 6;\nexports.RLE = 7;\nexports.DOT = \"\\xB7\";\nexports.doBidiReorder = function (text, textCharTypes, isRtl) {\n    if (text.length < 2)\n        return {};\n    var chars = text.split(\"\"), logicalFromVisual = new Array(chars.length), bidiLevels = new Array(chars.length), levels = [];\n    dir = isRtl ? RTL : LTR;\n    _computeLevels(chars, levels, chars.length, textCharTypes);\n    for (var i = 0; i < logicalFromVisual.length; logicalFromVisual[i] = i, i++)\n        ;\n    _invertLevel(2, levels, logicalFromVisual);\n    _invertLevel(1, levels, logicalFromVisual);\n    for (var i = 0; i < logicalFromVisual.length - 1; i++) { //fix levels to reflect character width\n        if (textCharTypes[i] === AN) {\n            levels[i] = exports.AN;\n        }\n        else if (levels[i] === R && ((textCharTypes[i] > AL && textCharTypes[i] < LRE)\n            || textCharTypes[i] === ON || textCharTypes[i] === BN)) {\n            levels[i] = exports.ON_R;\n        }\n        else if ((i > 0 && chars[i - 1] === '\\u0644') && /\\u0622|\\u0623|\\u0625|\\u0627/.test(chars[i])) {\n            levels[i - 1] = levels[i] = exports.R_H;\n            i++;\n        }\n    }\n    if (chars[chars.length - 1] === exports.DOT)\n        levels[chars.length - 1] = exports.B;\n    if (chars[0] === '\\u202B')\n        levels[0] = exports.RLE;\n    for (var i = 0; i < logicalFromVisual.length; i++) {\n        bidiLevels[i] = levels[logicalFromVisual[i]];\n    }\n    return { 'logicalFromVisual': logicalFromVisual, 'bidiLevels': bidiLevels };\n};\nexports.hasBidiCharacters = function (text, textCharTypes) {\n    var ret = false;\n    for (var i = 0; i < text.length; i++) {\n        textCharTypes[i] = _getCharacterType(text.charAt(i));\n        if (!ret && (textCharTypes[i] == R || textCharTypes[i] == AL || textCharTypes[i] == AN))\n            ret = true;\n    }\n    return ret;\n};\nexports.getVisualFromLogicalIdx = function (logIdx, rowMap) {\n    for (var i = 0; i < rowMap.logicalFromVisual.length; i++) {\n        if (rowMap.logicalFromVisual[i] == logIdx)\n            return i;\n    }\n    return 0;\n};\n\n});\n\nace.define(\"ace/bidihandler\",[\"require\",\"exports\",\"module\",\"ace/lib/bidiutil\",\"ace/lib/lang\"], function(require, exports, module){\"use strict\";\nvar bidiUtil = require(\"./lib/bidiutil\");\nvar lang = require(\"./lib/lang\");\nvar bidiRE = /[\\u0590-\\u05f4\\u0600-\\u06ff\\u0700-\\u08ac\\u202B]/;\nvar BidiHandler = function (session) {\n    this.session = session;\n    this.bidiMap = {};\n    this.currentRow = null;\n    this.bidiUtil = bidiUtil;\n    this.charWidths = [];\n    this.EOL = \"\\xAC\";\n    this.showInvisibles = true;\n    this.isRtlDir = false;\n    this.$isRtl = false;\n    this.line = \"\";\n    this.wrapIndent = 0;\n    this.EOF = \"\\xB6\";\n    this.RLE = \"\\u202B\";\n    this.contentWidth = 0;\n    this.fontMetrics = null;\n    this.rtlLineOffset = 0;\n    this.wrapOffset = 0;\n    this.isMoveLeftOperation = false;\n    this.seenBidi = bidiRE.test(session.getValue());\n};\n(function () {\n    this.isBidiRow = function (screenRow, docRow, splitIndex) {\n        if (!this.seenBidi)\n            return false;\n        if (screenRow !== this.currentRow) {\n            this.currentRow = screenRow;\n            this.updateRowLine(docRow, splitIndex);\n            this.updateBidiMap();\n        }\n        return this.bidiMap.bidiLevels;\n    };\n    this.onChange = function (delta) {\n        if (!this.seenBidi) {\n            if (delta.action == \"insert\" && bidiRE.test(delta.lines.join(\"\\n\"))) {\n                this.seenBidi = true;\n                this.currentRow = null;\n            }\n        }\n        else {\n            this.currentRow = null;\n        }\n    };\n    this.getDocumentRow = function () {\n        var docRow = 0;\n        var rowCache = this.session.$screenRowCache;\n        if (rowCache.length) {\n            var index = this.session.$getRowCacheIndex(rowCache, this.currentRow);\n            if (index >= 0)\n                docRow = this.session.$docRowCache[index];\n        }\n        return docRow;\n    };\n    this.getSplitIndex = function () {\n        var splitIndex = 0;\n        var rowCache = this.session.$screenRowCache;\n        if (rowCache.length) {\n            var currentIndex, prevIndex = this.session.$getRowCacheIndex(rowCache, this.currentRow);\n            while (this.currentRow - splitIndex > 0) {\n                currentIndex = this.session.$getRowCacheIndex(rowCache, this.currentRow - splitIndex - 1);\n                if (currentIndex !== prevIndex)\n                    break;\n                prevIndex = currentIndex;\n                splitIndex++;\n            }\n        }\n        else {\n            splitIndex = this.currentRow;\n        }\n        return splitIndex;\n    };\n    this.updateRowLine = function (docRow, splitIndex) {\n        if (docRow === undefined)\n            docRow = this.getDocumentRow();\n        var isLastRow = (docRow === this.session.getLength() - 1), endOfLine = isLastRow ? this.EOF : this.EOL;\n        this.wrapIndent = 0;\n        this.line = this.session.getLine(docRow);\n        this.isRtlDir = this.$isRtl || this.line.charAt(0) === this.RLE;\n        if (this.session.$useWrapMode) {\n            var splits = this.session.$wrapData[docRow];\n            if (splits) {\n                if (splitIndex === undefined)\n                    splitIndex = this.getSplitIndex();\n                if (splitIndex > 0 && splits.length) {\n                    this.wrapIndent = splits.indent;\n                    this.wrapOffset = this.wrapIndent * this.charWidths[bidiUtil.L];\n                    this.line = (splitIndex < splits.length) ?\n                        this.line.substring(splits[splitIndex - 1], splits[splitIndex]) :\n                        this.line.substring(splits[splits.length - 1]);\n                }\n                else {\n                    this.line = this.line.substring(0, splits[splitIndex]);\n                }\n                if (splitIndex == splits.length) {\n                    this.line += (this.showInvisibles) ? endOfLine : bidiUtil.DOT;\n                }\n            }\n        }\n        else {\n            this.line += this.showInvisibles ? endOfLine : bidiUtil.DOT;\n        }\n        var session = this.session, shift = 0, size;\n        this.line = this.line.replace(/\\t|[\\u1100-\\u2029, \\u202F-\\uFFE6]/g, function (ch, i) {\n            if (ch === '\\t' || session.isFullWidth(ch.charCodeAt(0))) {\n                size = (ch === '\\t') ? session.getScreenTabSize(i + shift) : 2;\n                shift += size - 1;\n                return lang.stringRepeat(bidiUtil.DOT, size);\n            }\n            return ch;\n        });\n        if (this.isRtlDir) {\n            this.fontMetrics.$main.textContent = (this.line.charAt(this.line.length - 1) == bidiUtil.DOT) ? this.line.substr(0, this.line.length - 1) : this.line;\n            this.rtlLineOffset = this.contentWidth - this.fontMetrics.$main.getBoundingClientRect().width;\n        }\n    };\n    this.updateBidiMap = function () {\n        var textCharTypes = [];\n        if (bidiUtil.hasBidiCharacters(this.line, textCharTypes) || this.isRtlDir) {\n            this.bidiMap = bidiUtil.doBidiReorder(this.line, textCharTypes, this.isRtlDir);\n        }\n        else {\n            this.bidiMap = {};\n        }\n    };\n    this.markAsDirty = function () {\n        this.currentRow = null;\n    };\n    this.updateCharacterWidths = function (fontMetrics) {\n        if (this.characterWidth === fontMetrics.$characterSize.width)\n            return;\n        this.fontMetrics = fontMetrics;\n        var characterWidth = this.characterWidth = fontMetrics.$characterSize.width;\n        var bidiCharWidth = fontMetrics.$measureCharWidth(\"\\u05d4\");\n        this.charWidths[bidiUtil.L] = this.charWidths[bidiUtil.EN] = this.charWidths[bidiUtil.ON_R] = characterWidth;\n        this.charWidths[bidiUtil.R] = this.charWidths[bidiUtil.AN] = bidiCharWidth;\n        this.charWidths[bidiUtil.R_H] = bidiCharWidth * 0.45;\n        this.charWidths[bidiUtil.B] = this.charWidths[bidiUtil.RLE] = 0;\n        this.currentRow = null;\n    };\n    this.setShowInvisibles = function (showInvisibles) {\n        this.showInvisibles = showInvisibles;\n        this.currentRow = null;\n    };\n    this.setEolChar = function (eolChar) {\n        this.EOL = eolChar;\n    };\n    this.setContentWidth = function (width) {\n        this.contentWidth = width;\n    };\n    this.isRtlLine = function (row) {\n        if (this.$isRtl)\n            return true;\n        if (row != undefined)\n            return (this.session.getLine(row).charAt(0) == this.RLE);\n        else\n            return this.isRtlDir;\n    };\n    this.setRtlDirection = function (editor, isRtlDir) {\n        var cursor = editor.getCursorPosition();\n        for (var row = editor.selection.getSelectionAnchor().row; row <= cursor.row; row++) {\n            if (!isRtlDir && editor.session.getLine(row).charAt(0) === editor.session.$bidiHandler.RLE)\n                editor.session.doc.removeInLine(row, 0, 1);\n            else if (isRtlDir && editor.session.getLine(row).charAt(0) !== editor.session.$bidiHandler.RLE)\n                editor.session.doc.insert({ column: 0, row: row }, editor.session.$bidiHandler.RLE);\n        }\n    };\n    this.getPosLeft = function (col) {\n        col -= this.wrapIndent;\n        var leftBoundary = (this.line.charAt(0) === this.RLE) ? 1 : 0;\n        var logicalIdx = (col > leftBoundary) ? (this.session.getOverwrite() ? col : col - 1) : leftBoundary;\n        var visualIdx = bidiUtil.getVisualFromLogicalIdx(logicalIdx, this.bidiMap), levels = this.bidiMap.bidiLevels, left = 0;\n        if (!this.session.getOverwrite() && col <= leftBoundary && levels[visualIdx] % 2 !== 0)\n            visualIdx++;\n        for (var i = 0; i < visualIdx; i++) {\n            left += this.charWidths[levels[i]];\n        }\n        if (!this.session.getOverwrite() && (col > leftBoundary) && (levels[visualIdx] % 2 === 0))\n            left += this.charWidths[levels[visualIdx]];\n        if (this.wrapIndent)\n            left += this.isRtlDir ? (-1 * this.wrapOffset) : this.wrapOffset;\n        if (this.isRtlDir)\n            left += this.rtlLineOffset;\n        return left;\n    };\n    this.getSelections = function (startCol, endCol) {\n        var map = this.bidiMap, levels = map.bidiLevels, level, selections = [], offset = 0, selColMin = Math.min(startCol, endCol) - this.wrapIndent, selColMax = Math.max(startCol, endCol) - this.wrapIndent, isSelected = false, isSelectedPrev = false, selectionStart = 0;\n        if (this.wrapIndent)\n            offset += this.isRtlDir ? (-1 * this.wrapOffset) : this.wrapOffset;\n        for (var logIdx, visIdx = 0; visIdx < levels.length; visIdx++) {\n            logIdx = map.logicalFromVisual[visIdx];\n            level = levels[visIdx];\n            isSelected = (logIdx >= selColMin) && (logIdx < selColMax);\n            if (isSelected && !isSelectedPrev) {\n                selectionStart = offset;\n            }\n            else if (!isSelected && isSelectedPrev) {\n                selections.push({ left: selectionStart, width: offset - selectionStart });\n            }\n            offset += this.charWidths[level];\n            isSelectedPrev = isSelected;\n        }\n        if (isSelected && (visIdx === levels.length)) {\n            selections.push({ left: selectionStart, width: offset - selectionStart });\n        }\n        if (this.isRtlDir) {\n            for (var i = 0; i < selections.length; i++) {\n                selections[i].left += this.rtlLineOffset;\n            }\n        }\n        return selections;\n    };\n    this.offsetToCol = function (posX) {\n        if (this.isRtlDir)\n            posX -= this.rtlLineOffset;\n        var logicalIdx = 0, posX = Math.max(posX, 0), offset = 0, visualIdx = 0, levels = this.bidiMap.bidiLevels, charWidth = this.charWidths[levels[visualIdx]];\n        if (this.wrapIndent)\n            posX -= this.isRtlDir ? (-1 * this.wrapOffset) : this.wrapOffset;\n        while (posX > offset + charWidth / 2) {\n            offset += charWidth;\n            if (visualIdx === levels.length - 1) {\n                charWidth = 0;\n                break;\n            }\n            charWidth = this.charWidths[levels[++visualIdx]];\n        }\n        if (visualIdx > 0 && (levels[visualIdx - 1] % 2 !== 0) && (levels[visualIdx] % 2 === 0)) {\n            if (posX < offset)\n                visualIdx--;\n            logicalIdx = this.bidiMap.logicalFromVisual[visualIdx];\n        }\n        else if (visualIdx > 0 && (levels[visualIdx - 1] % 2 === 0) && (levels[visualIdx] % 2 !== 0)) {\n            logicalIdx = 1 + ((posX > offset) ? this.bidiMap.logicalFromVisual[visualIdx]\n                : this.bidiMap.logicalFromVisual[visualIdx - 1]);\n        }\n        else if ((this.isRtlDir && visualIdx === levels.length - 1 && charWidth === 0 && (levels[visualIdx - 1] % 2 === 0))\n            || (!this.isRtlDir && visualIdx === 0 && (levels[visualIdx] % 2 !== 0))) {\n            logicalIdx = 1 + this.bidiMap.logicalFromVisual[visualIdx];\n        }\n        else {\n            if (visualIdx > 0 && (levels[visualIdx - 1] % 2 !== 0) && charWidth !== 0)\n                visualIdx--;\n            logicalIdx = this.bidiMap.logicalFromVisual[visualIdx];\n        }\n        if (logicalIdx === 0 && this.isRtlDir)\n            logicalIdx++;\n        return (logicalIdx + this.wrapIndent);\n    };\n}).call(BidiHandler.prototype);\nexports.BidiHandler = BidiHandler;\n\n});\n\nace.define(\"ace/selection\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/lang\",\"ace/lib/event_emitter\",\"ace/range\"], function(require, exports, module){\"use strict\";\nvar oop = require(\"./lib/oop\");\nvar lang = require(\"./lib/lang\");\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar Range = require(\"./range\").Range;\nvar Selection = function (session) {\n    this.session = session;\n    this.doc = session.getDocument();\n    this.clearSelection();\n    this.cursor = this.lead = this.doc.createAnchor(0, 0);\n    this.anchor = this.doc.createAnchor(0, 0);\n    this.$silent = false;\n    var self = this;\n    this.cursor.on(\"change\", function (e) {\n        self.$cursorChanged = true;\n        if (!self.$silent)\n            self._emit(\"changeCursor\");\n        if (!self.$isEmpty && !self.$silent)\n            self._emit(\"changeSelection\");\n        if (!self.$keepDesiredColumnOnChange && e.old.column != e.value.column)\n            self.$desiredColumn = null;\n    });\n    this.anchor.on(\"change\", function () {\n        self.$anchorChanged = true;\n        if (!self.$isEmpty && !self.$silent)\n            self._emit(\"changeSelection\");\n    });\n};\n(function () {\n    oop.implement(this, EventEmitter);\n    this.isEmpty = function () {\n        return this.$isEmpty || (this.anchor.row == this.lead.row &&\n            this.anchor.column == this.lead.column);\n    };\n    this.isMultiLine = function () {\n        return !this.$isEmpty && this.anchor.row != this.cursor.row;\n    };\n    this.getCursor = function () {\n        return this.lead.getPosition();\n    };\n    this.setSelectionAnchor = function (row, column) {\n        this.$isEmpty = false;\n        this.anchor.setPosition(row, column);\n    };\n    this.getAnchor =\n        this.getSelectionAnchor = function () {\n            if (this.$isEmpty)\n                return this.getSelectionLead();\n            return this.anchor.getPosition();\n        };\n    this.getSelectionLead = function () {\n        return this.lead.getPosition();\n    };\n    this.isBackwards = function () {\n        var anchor = this.anchor;\n        var lead = this.lead;\n        return (anchor.row > lead.row || (anchor.row == lead.row && anchor.column > lead.column));\n    };\n    this.getRange = function () {\n        var anchor = this.anchor;\n        var lead = this.lead;\n        if (this.$isEmpty)\n            return Range.fromPoints(lead, lead);\n        return this.isBackwards()\n            ? Range.fromPoints(lead, anchor)\n            : Range.fromPoints(anchor, lead);\n    };\n    this.clearSelection = function () {\n        if (!this.$isEmpty) {\n            this.$isEmpty = true;\n            this._emit(\"changeSelection\");\n        }\n    };\n    this.selectAll = function () {\n        this.$setSelection(0, 0, Number.MAX_VALUE, Number.MAX_VALUE);\n    };\n    this.setRange =\n        this.setSelectionRange = function (range, reverse) {\n            var start = reverse ? range.end : range.start;\n            var end = reverse ? range.start : range.end;\n            this.$setSelection(start.row, start.column, end.row, end.column);\n        };\n    this.$setSelection = function (anchorRow, anchorColumn, cursorRow, cursorColumn) {\n        if (this.$silent)\n            return;\n        var wasEmpty = this.$isEmpty;\n        var wasMultiselect = this.inMultiSelectMode;\n        this.$silent = true;\n        this.$cursorChanged = this.$anchorChanged = false;\n        this.anchor.setPosition(anchorRow, anchorColumn);\n        this.cursor.setPosition(cursorRow, cursorColumn);\n        this.$isEmpty = !Range.comparePoints(this.anchor, this.cursor);\n        this.$silent = false;\n        if (this.$cursorChanged)\n            this._emit(\"changeCursor\");\n        if (this.$cursorChanged || this.$anchorChanged || wasEmpty != this.$isEmpty || wasMultiselect)\n            this._emit(\"changeSelection\");\n    };\n    this.$moveSelection = function (mover) {\n        var lead = this.lead;\n        if (this.$isEmpty)\n            this.setSelectionAnchor(lead.row, lead.column);\n        mover.call(this);\n    };\n    this.selectTo = function (row, column) {\n        this.$moveSelection(function () {\n            this.moveCursorTo(row, column);\n        });\n    };\n    this.selectToPosition = function (pos) {\n        this.$moveSelection(function () {\n            this.moveCursorToPosition(pos);\n        });\n    };\n    this.moveTo = function (row, column) {\n        this.clearSelection();\n        this.moveCursorTo(row, column);\n    };\n    this.moveToPosition = function (pos) {\n        this.clearSelection();\n        this.moveCursorToPosition(pos);\n    };\n    this.selectUp = function () {\n        this.$moveSelection(this.moveCursorUp);\n    };\n    this.selectDown = function () {\n        this.$moveSelection(this.moveCursorDown);\n    };\n    this.selectRight = function () {\n        this.$moveSelection(this.moveCursorRight);\n    };\n    this.selectLeft = function () {\n        this.$moveSelection(this.moveCursorLeft);\n    };\n    this.selectLineStart = function () {\n        this.$moveSelection(this.moveCursorLineStart);\n    };\n    this.selectLineEnd = function () {\n        this.$moveSelection(this.moveCursorLineEnd);\n    };\n    this.selectFileEnd = function () {\n        this.$moveSelection(this.moveCursorFileEnd);\n    };\n    this.selectFileStart = function () {\n        this.$moveSelection(this.moveCursorFileStart);\n    };\n    this.selectWordRight = function () {\n        this.$moveSelection(this.moveCursorWordRight);\n    };\n    this.selectWordLeft = function () {\n        this.$moveSelection(this.moveCursorWordLeft);\n    };\n    this.getWordRange = function (row, column) {\n        if (typeof column == \"undefined\") {\n            var cursor = row || this.lead;\n            row = cursor.row;\n            column = cursor.column;\n        }\n        return this.session.getWordRange(row, column);\n    };\n    this.selectWord = function () {\n        this.setSelectionRange(this.getWordRange());\n    };\n    this.selectAWord = function () {\n        var cursor = this.getCursor();\n        var range = this.session.getAWordRange(cursor.row, cursor.column);\n        this.setSelectionRange(range);\n    };\n    this.getLineRange = function (row, excludeLastChar) {\n        var rowStart = typeof row == \"number\" ? row : this.lead.row;\n        var rowEnd;\n        var foldLine = this.session.getFoldLine(rowStart);\n        if (foldLine) {\n            rowStart = foldLine.start.row;\n            rowEnd = foldLine.end.row;\n        }\n        else {\n            rowEnd = rowStart;\n        }\n        if (excludeLastChar === true)\n            return new Range(rowStart, 0, rowEnd, this.session.getLine(rowEnd).length);\n        else\n            return new Range(rowStart, 0, rowEnd + 1, 0);\n    };\n    this.selectLine = function () {\n        this.setSelectionRange(this.getLineRange());\n    };\n    this.moveCursorUp = function () {\n        this.moveCursorBy(-1, 0);\n    };\n    this.moveCursorDown = function () {\n        this.moveCursorBy(1, 0);\n    };\n    this.wouldMoveIntoSoftTab = function (cursor, tabSize, direction) {\n        var start = cursor.column;\n        var end = cursor.column + tabSize;\n        if (direction < 0) {\n            start = cursor.column - tabSize;\n            end = cursor.column;\n        }\n        return this.session.isTabStop(cursor) && this.doc.getLine(cursor.row).slice(start, end).split(\" \").length - 1 == tabSize;\n    };\n    this.moveCursorLeft = function () {\n        var cursor = this.lead.getPosition(), fold;\n        if (fold = this.session.getFoldAt(cursor.row, cursor.column, -1)) {\n            this.moveCursorTo(fold.start.row, fold.start.column);\n        }\n        else if (cursor.column === 0) {\n            if (cursor.row > 0) {\n                this.moveCursorTo(cursor.row - 1, this.doc.getLine(cursor.row - 1).length);\n            }\n        }\n        else {\n            var tabSize = this.session.getTabSize();\n            if (this.wouldMoveIntoSoftTab(cursor, tabSize, -1) && !this.session.getNavigateWithinSoftTabs()) {\n                this.moveCursorBy(0, -tabSize);\n            }\n            else {\n                this.moveCursorBy(0, -1);\n            }\n        }\n    };\n    this.moveCursorRight = function () {\n        var cursor = this.lead.getPosition(), fold;\n        if (fold = this.session.getFoldAt(cursor.row, cursor.column, 1)) {\n            this.moveCursorTo(fold.end.row, fold.end.column);\n        }\n        else if (this.lead.column == this.doc.getLine(this.lead.row).length) {\n            if (this.lead.row < this.doc.getLength() - 1) {\n                this.moveCursorTo(this.lead.row + 1, 0);\n            }\n        }\n        else {\n            var tabSize = this.session.getTabSize();\n            var cursor = this.lead;\n            if (this.wouldMoveIntoSoftTab(cursor, tabSize, 1) && !this.session.getNavigateWithinSoftTabs()) {\n                this.moveCursorBy(0, tabSize);\n            }\n            else {\n                this.moveCursorBy(0, 1);\n            }\n        }\n    };\n    this.moveCursorLineStart = function () {\n        var row = this.lead.row;\n        var column = this.lead.column;\n        var screenRow = this.session.documentToScreenRow(row, column);\n        var firstColumnPosition = this.session.screenToDocumentPosition(screenRow, 0);\n        var beforeCursor = this.session.getDisplayLine(row, null, firstColumnPosition.row, firstColumnPosition.column);\n        var leadingSpace = beforeCursor.match(/^\\s*/);\n        if (leadingSpace[0].length != column && !this.session.$useEmacsStyleLineStart)\n            firstColumnPosition.column += leadingSpace[0].length;\n        this.moveCursorToPosition(firstColumnPosition);\n    };\n    this.moveCursorLineEnd = function () {\n        var lead = this.lead;\n        var lineEnd = this.session.getDocumentLastRowColumnPosition(lead.row, lead.column);\n        if (this.lead.column == lineEnd.column) {\n            var line = this.session.getLine(lineEnd.row);\n            if (lineEnd.column == line.length) {\n                var textEnd = line.search(/\\s+$/);\n                if (textEnd > 0)\n                    lineEnd.column = textEnd;\n            }\n        }\n        this.moveCursorTo(lineEnd.row, lineEnd.column);\n    };\n    this.moveCursorFileEnd = function () {\n        var row = this.doc.getLength() - 1;\n        var column = this.doc.getLine(row).length;\n        this.moveCursorTo(row, column);\n    };\n    this.moveCursorFileStart = function () {\n        this.moveCursorTo(0, 0);\n    };\n    this.moveCursorLongWordRight = function () {\n        var row = this.lead.row;\n        var column = this.lead.column;\n        var line = this.doc.getLine(row);\n        var rightOfCursor = line.substring(column);\n        this.session.nonTokenRe.lastIndex = 0;\n        this.session.tokenRe.lastIndex = 0;\n        var fold = this.session.getFoldAt(row, column, 1);\n        if (fold) {\n            this.moveCursorTo(fold.end.row, fold.end.column);\n            return;\n        }\n        if (this.session.nonTokenRe.exec(rightOfCursor)) {\n            column += this.session.nonTokenRe.lastIndex;\n            this.session.nonTokenRe.lastIndex = 0;\n            rightOfCursor = line.substring(column);\n        }\n        if (column >= line.length) {\n            this.moveCursorTo(row, line.length);\n            this.moveCursorRight();\n            if (row < this.doc.getLength() - 1)\n                this.moveCursorWordRight();\n            return;\n        }\n        if (this.session.tokenRe.exec(rightOfCursor)) {\n            column += this.session.tokenRe.lastIndex;\n            this.session.tokenRe.lastIndex = 0;\n        }\n        this.moveCursorTo(row, column);\n    };\n    this.moveCursorLongWordLeft = function () {\n        var row = this.lead.row;\n        var column = this.lead.column;\n        var fold;\n        if (fold = this.session.getFoldAt(row, column, -1)) {\n            this.moveCursorTo(fold.start.row, fold.start.column);\n            return;\n        }\n        var str = this.session.getFoldStringAt(row, column, -1);\n        if (str == null) {\n            str = this.doc.getLine(row).substring(0, column);\n        }\n        var leftOfCursor = lang.stringReverse(str);\n        this.session.nonTokenRe.lastIndex = 0;\n        this.session.tokenRe.lastIndex = 0;\n        if (this.session.nonTokenRe.exec(leftOfCursor)) {\n            column -= this.session.nonTokenRe.lastIndex;\n            leftOfCursor = leftOfCursor.slice(this.session.nonTokenRe.lastIndex);\n            this.session.nonTokenRe.lastIndex = 0;\n        }\n        if (column <= 0) {\n            this.moveCursorTo(row, 0);\n            this.moveCursorLeft();\n            if (row > 0)\n                this.moveCursorWordLeft();\n            return;\n        }\n        if (this.session.tokenRe.exec(leftOfCursor)) {\n            column -= this.session.tokenRe.lastIndex;\n            this.session.tokenRe.lastIndex = 0;\n        }\n        this.moveCursorTo(row, column);\n    };\n    this.$shortWordEndIndex = function (rightOfCursor) {\n        var index = 0, ch;\n        var whitespaceRe = /\\s/;\n        var tokenRe = this.session.tokenRe;\n        tokenRe.lastIndex = 0;\n        if (this.session.tokenRe.exec(rightOfCursor)) {\n            index = this.session.tokenRe.lastIndex;\n        }\n        else {\n            while ((ch = rightOfCursor[index]) && whitespaceRe.test(ch))\n                index++;\n            if (index < 1) {\n                tokenRe.lastIndex = 0;\n                while ((ch = rightOfCursor[index]) && !tokenRe.test(ch)) {\n                    tokenRe.lastIndex = 0;\n                    index++;\n                    if (whitespaceRe.test(ch)) {\n                        if (index > 2) {\n                            index--;\n                            break;\n                        }\n                        else {\n                            while ((ch = rightOfCursor[index]) && whitespaceRe.test(ch))\n                                index++;\n                            if (index > 2)\n                                break;\n                        }\n                    }\n                }\n            }\n        }\n        tokenRe.lastIndex = 0;\n        return index;\n    };\n    this.moveCursorShortWordRight = function () {\n        var row = this.lead.row;\n        var column = this.lead.column;\n        var line = this.doc.getLine(row);\n        var rightOfCursor = line.substring(column);\n        var fold = this.session.getFoldAt(row, column, 1);\n        if (fold)\n            return this.moveCursorTo(fold.end.row, fold.end.column);\n        if (column == line.length) {\n            var l = this.doc.getLength();\n            do {\n                row++;\n                rightOfCursor = this.doc.getLine(row);\n            } while (row < l && /^\\s*$/.test(rightOfCursor));\n            if (!/^\\s+/.test(rightOfCursor))\n                rightOfCursor = \"\";\n            column = 0;\n        }\n        var index = this.$shortWordEndIndex(rightOfCursor);\n        this.moveCursorTo(row, column + index);\n    };\n    this.moveCursorShortWordLeft = function () {\n        var row = this.lead.row;\n        var column = this.lead.column;\n        var fold;\n        if (fold = this.session.getFoldAt(row, column, -1))\n            return this.moveCursorTo(fold.start.row, fold.start.column);\n        var line = this.session.getLine(row).substring(0, column);\n        if (column === 0) {\n            do {\n                row--;\n                line = this.doc.getLine(row);\n            } while (row > 0 && /^\\s*$/.test(line));\n            column = line.length;\n            if (!/\\s+$/.test(line))\n                line = \"\";\n        }\n        var leftOfCursor = lang.stringReverse(line);\n        var index = this.$shortWordEndIndex(leftOfCursor);\n        return this.moveCursorTo(row, column - index);\n    };\n    this.moveCursorWordRight = function () {\n        if (this.session.$selectLongWords)\n            this.moveCursorLongWordRight();\n        else\n            this.moveCursorShortWordRight();\n    };\n    this.moveCursorWordLeft = function () {\n        if (this.session.$selectLongWords)\n            this.moveCursorLongWordLeft();\n        else\n            this.moveCursorShortWordLeft();\n    };\n    this.moveCursorBy = function (rows, chars) {\n        var screenPos = this.session.documentToScreenPosition(this.lead.row, this.lead.column);\n        var offsetX;\n        if (chars === 0) {\n            if (rows !== 0) {\n                if (this.session.$bidiHandler.isBidiRow(screenPos.row, this.lead.row)) {\n                    offsetX = this.session.$bidiHandler.getPosLeft(screenPos.column);\n                    screenPos.column = Math.round(offsetX / this.session.$bidiHandler.charWidths[0]);\n                }\n                else {\n                    offsetX = screenPos.column * this.session.$bidiHandler.charWidths[0];\n                }\n            }\n            if (this.$desiredColumn)\n                screenPos.column = this.$desiredColumn;\n            else\n                this.$desiredColumn = screenPos.column;\n        }\n        if (rows != 0 && this.session.lineWidgets && this.session.lineWidgets[this.lead.row]) {\n            var widget = this.session.lineWidgets[this.lead.row];\n            if (rows < 0)\n                rows -= widget.rowsAbove || 0;\n            else if (rows > 0)\n                rows += widget.rowCount - (widget.rowsAbove || 0);\n        }\n        var docPos = this.session.screenToDocumentPosition(screenPos.row + rows, screenPos.column, offsetX);\n        if (rows !== 0 && chars === 0 && docPos.row === this.lead.row && docPos.column === this.lead.column) {\n        }\n        this.moveCursorTo(docPos.row, docPos.column + chars, chars === 0);\n    };\n    this.moveCursorToPosition = function (position) {\n        this.moveCursorTo(position.row, position.column);\n    };\n    this.moveCursorTo = function (row, column, keepDesiredColumn) {\n        var fold = this.session.getFoldAt(row, column, 1);\n        if (fold) {\n            row = fold.start.row;\n            column = fold.start.column;\n        }\n        this.$keepDesiredColumnOnChange = true;\n        var line = this.session.getLine(row);\n        if (/[\\uDC00-\\uDFFF]/.test(line.charAt(column)) && line.charAt(column - 1)) {\n            if (this.lead.row == row && this.lead.column == column + 1)\n                column = column - 1;\n            else\n                column = column + 1;\n        }\n        this.lead.setPosition(row, column);\n        this.$keepDesiredColumnOnChange = false;\n        if (!keepDesiredColumn)\n            this.$desiredColumn = null;\n    };\n    this.moveCursorToScreen = function (row, column, keepDesiredColumn) {\n        var pos = this.session.screenToDocumentPosition(row, column);\n        this.moveCursorTo(pos.row, pos.column, keepDesiredColumn);\n    };\n    this.detach = function () {\n        this.lead.detach();\n        this.anchor.detach();\n    };\n    this.fromOrientedRange = function (range) {\n        this.setSelectionRange(range, range.cursor == range.start);\n        this.$desiredColumn = range.desiredColumn || this.$desiredColumn;\n    };\n    this.toOrientedRange = function (range) {\n        var r = this.getRange();\n        if (range) {\n            range.start.column = r.start.column;\n            range.start.row = r.start.row;\n            range.end.column = r.end.column;\n            range.end.row = r.end.row;\n        }\n        else {\n            range = r;\n        }\n        range.cursor = this.isBackwards() ? range.start : range.end;\n        range.desiredColumn = this.$desiredColumn;\n        return range;\n    };\n    this.getRangeOfMovements = function (func) {\n        var start = this.getCursor();\n        try {\n            func(this);\n            var end = this.getCursor();\n            return Range.fromPoints(start, end);\n        }\n        catch (e) {\n            return Range.fromPoints(start, start);\n        }\n        finally {\n            this.moveCursorToPosition(start);\n        }\n    };\n    this.toJSON = function () {\n        if (this.rangeCount) {\n            var data = this.ranges.map(function (r) {\n                var r1 = r.clone();\n                r1.isBackwards = r.cursor == r.start;\n                return r1;\n            });\n        }\n        else {\n            var data = this.getRange();\n            data.isBackwards = this.isBackwards();\n        }\n        return data;\n    };\n    this.fromJSON = function (data) {\n        if (data.start == undefined) {\n            if (this.rangeList && data.length > 1) {\n                this.toSingleRange(data[0]);\n                for (var i = data.length; i--;) {\n                    var r = Range.fromPoints(data[i].start, data[i].end);\n                    if (data[i].isBackwards)\n                        r.cursor = r.start;\n                    this.addRange(r, true);\n                }\n                return;\n            }\n            else {\n                data = data[0];\n            }\n        }\n        if (this.rangeList)\n            this.toSingleRange(data);\n        this.setSelectionRange(data, data.isBackwards);\n    };\n    this.isEqual = function (data) {\n        if ((data.length || this.rangeCount) && data.length != this.rangeCount)\n            return false;\n        if (!data.length || !this.ranges)\n            return this.getRange().isEqual(data);\n        for (var i = this.ranges.length; i--;) {\n            if (!this.ranges[i].isEqual(data[i]))\n                return false;\n        }\n        return true;\n    };\n}).call(Selection.prototype);\nexports.Selection = Selection;\n\n});\n\nace.define(\"ace/tokenizer\",[\"require\",\"exports\",\"module\",\"ace/config\"], function(require, exports, module){\"use strict\";\nvar config = require(\"./config\");\nvar MAX_TOKEN_COUNT = 2000;\nvar Tokenizer = function (rules) {\n    this.states = rules;\n    this.regExps = {};\n    this.matchMappings = {};\n    for (var key in this.states) {\n        var state = this.states[key];\n        var ruleRegExps = [];\n        var matchTotal = 0;\n        var mapping = this.matchMappings[key] = { defaultToken: \"text\" };\n        var flag = \"g\";\n        var splitterRurles = [];\n        for (var i = 0; i < state.length; i++) {\n            var rule = state[i];\n            if (rule.defaultToken)\n                mapping.defaultToken = rule.defaultToken;\n            if (rule.caseInsensitive && flag.indexOf(\"i\") === -1)\n                flag += \"i\";\n            if (rule.unicode && flag.indexOf(\"u\") === -1)\n                flag += \"u\";\n            if (rule.regex == null)\n                continue;\n            if (rule.regex instanceof RegExp)\n                rule.regex = rule.regex.toString().slice(1, -1);\n            var adjustedregex = rule.regex;\n            var matchcount = new RegExp(\"(?:(\" + adjustedregex + \")|(.))\").exec(\"a\").length - 2;\n            if (Array.isArray(rule.token)) {\n                if (rule.token.length == 1 || matchcount == 1) {\n                    rule.token = rule.token[0];\n                }\n                else if (matchcount - 1 != rule.token.length) {\n                    this.reportError(\"number of classes and regexp groups doesn't match\", {\n                        rule: rule,\n                        groupCount: matchcount - 1\n                    });\n                    rule.token = rule.token[0];\n                }\n                else {\n                    rule.tokenArray = rule.token;\n                    rule.token = null;\n                    rule.onMatch = this.$arrayTokens;\n                }\n            }\n            else if (typeof rule.token == \"function\" && !rule.onMatch) {\n                if (matchcount > 1)\n                    rule.onMatch = this.$applyToken;\n                else\n                    rule.onMatch = rule.token;\n            }\n            if (matchcount > 1) {\n                if (/\\\\\\d/.test(rule.regex)) {\n                    adjustedregex = rule.regex.replace(/\\\\([0-9]+)/g, function (match, digit) {\n                        return \"\\\\\" + (parseInt(digit, 10) + matchTotal + 1);\n                    });\n                }\n                else {\n                    matchcount = 1;\n                    adjustedregex = this.removeCapturingGroups(rule.regex);\n                }\n                if (!rule.splitRegex && typeof rule.token != \"string\")\n                    splitterRurles.push(rule); // flag will be known only at the very end\n            }\n            mapping[matchTotal] = i;\n            matchTotal += matchcount;\n            ruleRegExps.push(adjustedregex);\n            if (!rule.onMatch)\n                rule.onMatch = null;\n        }\n        if (!ruleRegExps.length) {\n            mapping[0] = 0;\n            ruleRegExps.push(\"$\");\n        }\n        splitterRurles.forEach(function (rule) {\n            rule.splitRegex = this.createSplitterRegexp(rule.regex, flag);\n        }, this);\n        this.regExps[key] = new RegExp(\"(\" + ruleRegExps.join(\")|(\") + \")|($)\", flag);\n    }\n};\n(function () {\n    this.$setMaxTokenCount = function (m) {\n        MAX_TOKEN_COUNT = m | 0;\n    };\n    this.$applyToken = function (str) {\n        var values = this.splitRegex.exec(str).slice(1);\n        var types = this.token.apply(this, values);\n        if (typeof types === \"string\")\n            return [{ type: types, value: str }];\n        var tokens = [];\n        for (var i = 0, l = types.length; i < l; i++) {\n            if (values[i])\n                tokens[tokens.length] = {\n                    type: types[i],\n                    value: values[i]\n                };\n        }\n        return tokens;\n    };\n    this.$arrayTokens = function (str) {\n        if (!str)\n            return [];\n        var values = this.splitRegex.exec(str);\n        if (!values)\n            return \"text\";\n        var tokens = [];\n        var types = this.tokenArray;\n        for (var i = 0, l = types.length; i < l; i++) {\n            if (values[i + 1])\n                tokens[tokens.length] = {\n                    type: types[i],\n                    value: values[i + 1]\n                };\n        }\n        return tokens;\n    };\n    this.removeCapturingGroups = function (src) {\n        var r = src.replace(/\\\\.|\\[(?:\\\\.|[^\\\\\\]])*|\\(\\?[:=!<]|(\\()/g, function (x, y) { return y ? \"(?:\" : x; });\n        return r;\n    };\n    this.createSplitterRegexp = function (src, flag) {\n        if (src.indexOf(\"(?=\") != -1) {\n            var stack = 0;\n            var inChClass = false;\n            var lastCapture = {};\n            src.replace(/(\\\\.)|(\\((?:\\?[=!])?)|(\\))|([\\[\\]])/g, function (m, esc, parenOpen, parenClose, square, index) {\n                if (inChClass) {\n                    inChClass = square != \"]\";\n                }\n                else if (square) {\n                    inChClass = true;\n                }\n                else if (parenClose) {\n                    if (stack == lastCapture.stack) {\n                        lastCapture.end = index + 1;\n                        lastCapture.stack = -1;\n                    }\n                    stack--;\n                }\n                else if (parenOpen) {\n                    stack++;\n                    if (parenOpen.length != 1) {\n                        lastCapture.stack = stack;\n                        lastCapture.start = index;\n                    }\n                }\n                return m;\n            });\n            if (lastCapture.end != null && /^\\)*$/.test(src.substr(lastCapture.end)))\n                src = src.substring(0, lastCapture.start) + src.substr(lastCapture.end);\n        }\n        if (src.charAt(0) != \"^\")\n            src = \"^\" + src;\n        if (src.charAt(src.length - 1) != \"$\")\n            src += \"$\";\n        return new RegExp(src, (flag || \"\").replace(\"g\", \"\"));\n    };\n    this.getLineTokens = function (line, startState) {\n        if (startState && typeof startState != \"string\") {\n            var stack = startState.slice(0);\n            startState = stack[0];\n            if (startState === \"#tmp\") {\n                stack.shift();\n                startState = stack.shift();\n            }\n        }\n        else\n            var stack = [];\n        var currentState = startState || \"start\";\n        var state = this.states[currentState];\n        if (!state) {\n            currentState = \"start\";\n            state = this.states[currentState];\n        }\n        var mapping = this.matchMappings[currentState];\n        var re = this.regExps[currentState];\n        re.lastIndex = 0;\n        var match, tokens = [];\n        var lastIndex = 0;\n        var matchAttempts = 0;\n        var token = { type: null, value: \"\" };\n        while (match = re.exec(line)) {\n            var type = mapping.defaultToken;\n            var rule = null;\n            var value = match[0];\n            var index = re.lastIndex;\n            if (index - value.length > lastIndex) {\n                var skipped = line.substring(lastIndex, index - value.length);\n                if (token.type == type) {\n                    token.value += skipped;\n                }\n                else {\n                    if (token.type)\n                        tokens.push(token);\n                    token = { type: type, value: skipped };\n                }\n            }\n            for (var i = 0; i < match.length - 2; i++) {\n                if (match[i + 1] === undefined)\n                    continue;\n                rule = state[mapping[i]];\n                if (rule.onMatch)\n                    type = rule.onMatch(value, currentState, stack, line);\n                else\n                    type = rule.token;\n                if (rule.next) {\n                    if (typeof rule.next == \"string\") {\n                        currentState = rule.next;\n                    }\n                    else {\n                        currentState = rule.next(currentState, stack);\n                    }\n                    state = this.states[currentState];\n                    if (!state) {\n                        this.reportError(\"state doesn't exist\", currentState);\n                        currentState = \"start\";\n                        state = this.states[currentState];\n                    }\n                    mapping = this.matchMappings[currentState];\n                    lastIndex = index;\n                    re = this.regExps[currentState];\n                    re.lastIndex = index;\n                }\n                if (rule.consumeLineEnd)\n                    lastIndex = index;\n                break;\n            }\n            if (value) {\n                if (typeof type === \"string\") {\n                    if ((!rule || rule.merge !== false) && token.type === type) {\n                        token.value += value;\n                    }\n                    else {\n                        if (token.type)\n                            tokens.push(token);\n                        token = { type: type, value: value };\n                    }\n                }\n                else if (type) {\n                    if (token.type)\n                        tokens.push(token);\n                    token = { type: null, value: \"\" };\n                    for (var i = 0; i < type.length; i++)\n                        tokens.push(type[i]);\n                }\n            }\n            if (lastIndex == line.length)\n                break;\n            lastIndex = index;\n            if (matchAttempts++ > MAX_TOKEN_COUNT) {\n                if (matchAttempts > 2 * line.length) {\n                    this.reportError(\"infinite loop with in ace tokenizer\", {\n                        startState: startState,\n                        line: line\n                    });\n                }\n                while (lastIndex < line.length) {\n                    if (token.type)\n                        tokens.push(token);\n                    token = {\n                        value: line.substring(lastIndex, lastIndex += 500),\n                        type: \"overflow\"\n                    };\n                }\n                currentState = \"start\";\n                stack = [];\n                break;\n            }\n        }\n        if (token.type)\n            tokens.push(token);\n        if (stack.length > 1) {\n            if (stack[0] !== currentState)\n                stack.unshift(\"#tmp\", currentState);\n        }\n        return {\n            tokens: tokens,\n            state: stack.length ? stack : currentState\n        };\n    };\n    this.reportError = config.reportError;\n}).call(Tokenizer.prototype);\nexports.Tokenizer = Tokenizer;\n\n});\n\nace.define(\"ace/mode/text_highlight_rules\",[\"require\",\"exports\",\"module\",\"ace/lib/lang\"], function(require, exports, module){\"use strict\";\nvar lang = require(\"../lib/lang\");\nvar TextHighlightRules = function () {\n    this.$rules = {\n        \"start\": [{\n                token: \"empty_line\",\n                regex: '^$'\n            }, {\n                defaultToken: \"text\"\n            }]\n    };\n};\n(function () {\n    this.addRules = function (rules, prefix) {\n        if (!prefix) {\n            for (var key in rules)\n                this.$rules[key] = rules[key];\n            return;\n        }\n        for (var key in rules) {\n            var state = rules[key];\n            for (var i = 0; i < state.length; i++) {\n                var rule = state[i];\n                if (rule.next || rule.onMatch) {\n                    if (typeof rule.next == \"string\") {\n                        if (rule.next.indexOf(prefix) !== 0)\n                            rule.next = prefix + rule.next;\n                    }\n                    if (rule.nextState && rule.nextState.indexOf(prefix) !== 0)\n                        rule.nextState = prefix + rule.nextState;\n                }\n            }\n            this.$rules[prefix + key] = state;\n        }\n    };\n    this.getRules = function () {\n        return this.$rules;\n    };\n    this.embedRules = function (HighlightRules, prefix, escapeRules, states, append) {\n        var embedRules = typeof HighlightRules == \"function\"\n            ? new HighlightRules().getRules()\n            : HighlightRules;\n        if (states) {\n            for (var i = 0; i < states.length; i++)\n                states[i] = prefix + states[i];\n        }\n        else {\n            states = [];\n            for (var key in embedRules)\n                states.push(prefix + key);\n        }\n        this.addRules(embedRules, prefix);\n        if (escapeRules) {\n            var addRules = Array.prototype[append ? \"push\" : \"unshift\"];\n            for (var i = 0; i < states.length; i++)\n                addRules.apply(this.$rules[states[i]], lang.deepCopy(escapeRules));\n        }\n        if (!this.$embeds)\n            this.$embeds = [];\n        this.$embeds.push(prefix);\n    };\n    this.getEmbeds = function () {\n        return this.$embeds;\n    };\n    var pushState = function (currentState, stack) {\n        if (currentState != \"start\" || stack.length)\n            stack.unshift(this.nextState, currentState);\n        return this.nextState;\n    };\n    var popState = function (currentState, stack) {\n        stack.shift();\n        return stack.shift() || \"start\";\n    };\n    this.normalizeRules = function () {\n        var id = 0;\n        var rules = this.$rules;\n        function processState(key) {\n            var state = rules[key];\n            state.processed = true;\n            for (var i = 0; i < state.length; i++) {\n                var rule = state[i];\n                var toInsert = null;\n                if (Array.isArray(rule)) {\n                    toInsert = rule;\n                    rule = {};\n                }\n                if (!rule.regex && rule.start) {\n                    rule.regex = rule.start;\n                    if (!rule.next)\n                        rule.next = [];\n                    rule.next.push({\n                        defaultToken: rule.token\n                    }, {\n                        token: rule.token + \".end\",\n                        regex: rule.end || rule.start,\n                        next: \"pop\"\n                    });\n                    rule.token = rule.token + \".start\";\n                    rule.push = true;\n                }\n                var next = rule.next || rule.push;\n                if (next && Array.isArray(next)) {\n                    var stateName = rule.stateName;\n                    if (!stateName) {\n                        stateName = rule.token;\n                        if (typeof stateName != \"string\")\n                            stateName = stateName[0] || \"\";\n                        if (rules[stateName])\n                            stateName += id++;\n                    }\n                    rules[stateName] = next;\n                    rule.next = stateName;\n                    processState(stateName);\n                }\n                else if (next == \"pop\") {\n                    rule.next = popState;\n                }\n                if (rule.push) {\n                    rule.nextState = rule.next || rule.push;\n                    rule.next = pushState;\n                    delete rule.push;\n                }\n                if (rule.rules) {\n                    for (var r in rule.rules) {\n                        if (rules[r]) {\n                            if (rules[r].push)\n                                rules[r].push.apply(rules[r], rule.rules[r]);\n                        }\n                        else {\n                            rules[r] = rule.rules[r];\n                        }\n                    }\n                }\n                var includeName = typeof rule == \"string\" ? rule : rule.include;\n                if (includeName) {\n                    if (Array.isArray(includeName))\n                        toInsert = includeName.map(function (x) { return rules[x]; });\n                    else\n                        toInsert = rules[includeName];\n                }\n                if (toInsert) {\n                    var args = [i, 1].concat(toInsert);\n                    if (rule.noEscape)\n                        args = args.filter(function (x) { return !x.next; });\n                    state.splice.apply(state, args);\n                    i--;\n                }\n                if (rule.keywordMap) {\n                    rule.token = this.createKeywordMapper(rule.keywordMap, rule.defaultToken || \"text\", rule.caseInsensitive);\n                    delete rule.defaultToken;\n                }\n            }\n        }\n        Object.keys(rules).forEach(processState, this);\n    };\n    this.createKeywordMapper = function (map, defaultToken, ignoreCase, splitChar) {\n        var keywords = Object.create(null);\n        this.$keywordList = [];\n        Object.keys(map).forEach(function (className) {\n            var a = map[className];\n            var list = a.split(splitChar || \"|\");\n            for (var i = list.length; i--;) {\n                var word = list[i];\n                this.$keywordList.push(word);\n                if (ignoreCase)\n                    word = word.toLowerCase();\n                keywords[word] = className;\n            }\n        }, this);\n        map = null;\n        return ignoreCase\n            ? function (value) { return keywords[value.toLowerCase()] || defaultToken; }\n            : function (value) { return keywords[value] || defaultToken; };\n    };\n    this.getKeywords = function () {\n        return this.$keywords;\n    };\n}).call(TextHighlightRules.prototype);\nexports.TextHighlightRules = TextHighlightRules;\n\n});\n\nace.define(\"ace/mode/behaviour\",[\"require\",\"exports\",\"module\"], function(require, exports, module){\"use strict\";\nvar Behaviour = function () {\n    this.$behaviours = {};\n};\n(function () {\n    this.add = function (name, action, callback) {\n        switch (undefined) {\n            case this.$behaviours:\n                this.$behaviours = {};\n            case this.$behaviours[name]:\n                this.$behaviours[name] = {};\n        }\n        this.$behaviours[name][action] = callback;\n    };\n    this.addBehaviours = function (behaviours) {\n        for (var key in behaviours) {\n            for (var action in behaviours[key]) {\n                this.add(key, action, behaviours[key][action]);\n            }\n        }\n    };\n    this.remove = function (name) {\n        if (this.$behaviours && this.$behaviours[name]) {\n            delete this.$behaviours[name];\n        }\n    };\n    this.inherit = function (mode, filter) {\n        if (typeof mode === \"function\") {\n            var behaviours = new mode().getBehaviours(filter);\n        }\n        else {\n            var behaviours = mode.getBehaviours(filter);\n        }\n        this.addBehaviours(behaviours);\n    };\n    this.getBehaviours = function (filter) {\n        if (!filter) {\n            return this.$behaviours;\n        }\n        else {\n            var ret = {};\n            for (var i = 0; i < filter.length; i++) {\n                if (this.$behaviours[filter[i]]) {\n                    ret[filter[i]] = this.$behaviours[filter[i]];\n                }\n            }\n            return ret;\n        }\n    };\n}).call(Behaviour.prototype);\nexports.Behaviour = Behaviour;\n\n});\n\nace.define(\"ace/token_iterator\",[\"require\",\"exports\",\"module\",\"ace/range\"], function(require, exports, module){\"use strict\";\nvar Range = require(\"./range\").Range;\nvar TokenIterator = function (session, initialRow, initialColumn) {\n    this.$session = session;\n    this.$row = initialRow;\n    this.$rowTokens = session.getTokens(initialRow);\n    var token = session.getTokenAt(initialRow, initialColumn);\n    this.$tokenIndex = token ? token.index : -1;\n};\n(function () {\n    this.stepBackward = function () {\n        this.$tokenIndex -= 1;\n        while (this.$tokenIndex < 0) {\n            this.$row -= 1;\n            if (this.$row < 0) {\n                this.$row = 0;\n                return null;\n            }\n            this.$rowTokens = this.$session.getTokens(this.$row);\n            this.$tokenIndex = this.$rowTokens.length - 1;\n        }\n        return this.$rowTokens[this.$tokenIndex];\n    };\n    this.stepForward = function () {\n        this.$tokenIndex += 1;\n        var rowCount;\n        while (this.$tokenIndex >= this.$rowTokens.length) {\n            this.$row += 1;\n            if (!rowCount)\n                rowCount = this.$session.getLength();\n            if (this.$row >= rowCount) {\n                this.$row = rowCount - 1;\n                return null;\n            }\n            this.$rowTokens = this.$session.getTokens(this.$row);\n            this.$tokenIndex = 0;\n        }\n        return this.$rowTokens[this.$tokenIndex];\n    };\n    this.getCurrentToken = function () {\n        return this.$rowTokens[this.$tokenIndex];\n    };\n    this.getCurrentTokenRow = function () {\n        return this.$row;\n    };\n    this.getCurrentTokenColumn = function () {\n        var rowTokens = this.$rowTokens;\n        var tokenIndex = this.$tokenIndex;\n        var column = rowTokens[tokenIndex].start;\n        if (column !== undefined)\n            return column;\n        column = 0;\n        while (tokenIndex > 0) {\n            tokenIndex -= 1;\n            column += rowTokens[tokenIndex].value.length;\n        }\n        return column;\n    };\n    this.getCurrentTokenPosition = function () {\n        return { row: this.$row, column: this.getCurrentTokenColumn() };\n    };\n    this.getCurrentTokenRange = function () {\n        var token = this.$rowTokens[this.$tokenIndex];\n        var column = this.getCurrentTokenColumn();\n        return new Range(this.$row, column, this.$row, column + token.value.length);\n    };\n}).call(TokenIterator.prototype);\nexports.TokenIterator = TokenIterator;\n\n});\n\nace.define(\"ace/mode/behaviour/cstyle\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/mode/behaviour\",\"ace/token_iterator\",\"ace/lib/lang\"], function(require, exports, module){\"use strict\";\nvar oop = require(\"../../lib/oop\");\nvar Behaviour = require(\"../behaviour\").Behaviour;\nvar TokenIterator = require(\"../../token_iterator\").TokenIterator;\nvar lang = require(\"../../lib/lang\");\nvar SAFE_INSERT_IN_TOKENS = [\"text\", \"paren.rparen\", \"rparen\", \"paren\", \"punctuation.operator\"];\nvar SAFE_INSERT_BEFORE_TOKENS = [\"text\", \"paren.rparen\", \"rparen\", \"paren\", \"punctuation.operator\", \"comment\"];\nvar context;\nvar contextCache = {};\nvar defaultQuotes = { '\"': '\"', \"'\": \"'\" };\nvar initContext = function (editor) {\n    var id = -1;\n    if (editor.multiSelect) {\n        id = editor.selection.index;\n        if (contextCache.rangeCount != editor.multiSelect.rangeCount)\n            contextCache = { rangeCount: editor.multiSelect.rangeCount };\n    }\n    if (contextCache[id])\n        return context = contextCache[id];\n    context = contextCache[id] = {\n        autoInsertedBrackets: 0,\n        autoInsertedRow: -1,\n        autoInsertedLineEnd: \"\",\n        maybeInsertedBrackets: 0,\n        maybeInsertedRow: -1,\n        maybeInsertedLineStart: \"\",\n        maybeInsertedLineEnd: \"\"\n    };\n};\nvar getWrapped = function (selection, selected, opening, closing) {\n    var rowDiff = selection.end.row - selection.start.row;\n    return {\n        text: opening + selected + closing,\n        selection: [\n            0,\n            selection.start.column + 1,\n            rowDiff,\n            selection.end.column + (rowDiff ? 0 : 1)\n        ]\n    };\n};\nvar CstyleBehaviour = function (options) {\n    this.add(\"braces\", \"insertion\", function (state, action, editor, session, text) {\n        var cursor = editor.getCursorPosition();\n        var line = session.doc.getLine(cursor.row);\n        if (text == '{') {\n            initContext(editor);\n            var selection = editor.getSelectionRange();\n            var selected = session.doc.getTextRange(selection);\n            if (selected !== \"\" && selected !== \"{\" && editor.getWrapBehavioursEnabled()) {\n                return getWrapped(selection, selected, '{', '}');\n            }\n            else if (CstyleBehaviour.isSaneInsertion(editor, session)) {\n                if (/[\\]\\}\\)]/.test(line[cursor.column]) || editor.inMultiSelectMode || options && options.braces) {\n                    CstyleBehaviour.recordAutoInsert(editor, session, \"}\");\n                    return {\n                        text: '{}',\n                        selection: [1, 1]\n                    };\n                }\n                else {\n                    CstyleBehaviour.recordMaybeInsert(editor, session, \"{\");\n                    return {\n                        text: '{',\n                        selection: [1, 1]\n                    };\n                }\n            }\n        }\n        else if (text == '}') {\n            initContext(editor);\n            var rightChar = line.substring(cursor.column, cursor.column + 1);\n            if (rightChar == '}') {\n                var matching = session.$findOpeningBracket('}', { column: cursor.column + 1, row: cursor.row });\n                if (matching !== null && CstyleBehaviour.isAutoInsertedClosing(cursor, line, text)) {\n                    CstyleBehaviour.popAutoInsertedClosing();\n                    return {\n                        text: '',\n                        selection: [1, 1]\n                    };\n                }\n            }\n        }\n        else if (text == \"\\n\" || text == \"\\r\\n\") {\n            initContext(editor);\n            var closing = \"\";\n            if (CstyleBehaviour.isMaybeInsertedClosing(cursor, line)) {\n                closing = lang.stringRepeat(\"}\", context.maybeInsertedBrackets);\n                CstyleBehaviour.clearMaybeInsertedClosing();\n            }\n            var rightChar = line.substring(cursor.column, cursor.column + 1);\n            if (rightChar === '}') {\n                var openBracePos = session.findMatchingBracket({ row: cursor.row, column: cursor.column + 1 }, '}');\n                if (!openBracePos)\n                    return null;\n                var next_indent = this.$getIndent(session.getLine(openBracePos.row));\n            }\n            else if (closing) {\n                var next_indent = this.$getIndent(line);\n            }\n            else {\n                CstyleBehaviour.clearMaybeInsertedClosing();\n                return;\n            }\n            var indent = next_indent + session.getTabString();\n            return {\n                text: '\\n' + indent + '\\n' + next_indent + closing,\n                selection: [1, indent.length, 1, indent.length]\n            };\n        }\n        else {\n            CstyleBehaviour.clearMaybeInsertedClosing();\n        }\n    });\n    this.add(\"braces\", \"deletion\", function (state, action, editor, session, range) {\n        var selected = session.doc.getTextRange(range);\n        if (!range.isMultiLine() && selected == '{') {\n            initContext(editor);\n            var line = session.doc.getLine(range.start.row);\n            var rightChar = line.substring(range.end.column, range.end.column + 1);\n            if (rightChar == '}') {\n                range.end.column++;\n                return range;\n            }\n            else {\n                context.maybeInsertedBrackets--;\n            }\n        }\n    });\n    this.add(\"parens\", \"insertion\", function (state, action, editor, session, text) {\n        if (text == '(') {\n            initContext(editor);\n            var selection = editor.getSelectionRange();\n            var selected = session.doc.getTextRange(selection);\n            if (selected !== \"\" && editor.getWrapBehavioursEnabled()) {\n                return getWrapped(selection, selected, '(', ')');\n            }\n            else if (CstyleBehaviour.isSaneInsertion(editor, session)) {\n                CstyleBehaviour.recordAutoInsert(editor, session, \")\");\n                return {\n                    text: '()',\n                    selection: [1, 1]\n                };\n            }\n        }\n        else if (text == ')') {\n            initContext(editor);\n            var cursor = editor.getCursorPosition();\n            var line = session.doc.getLine(cursor.row);\n            var rightChar = line.substring(cursor.column, cursor.column + 1);\n            if (rightChar == ')') {\n                var matching = session.$findOpeningBracket(')', { column: cursor.column + 1, row: cursor.row });\n                if (matching !== null && CstyleBehaviour.isAutoInsertedClosing(cursor, line, text)) {\n                    CstyleBehaviour.popAutoInsertedClosing();\n                    return {\n                        text: '',\n                        selection: [1, 1]\n                    };\n                }\n            }\n        }\n    });\n    this.add(\"parens\", \"deletion\", function (state, action, editor, session, range) {\n        var selected = session.doc.getTextRange(range);\n        if (!range.isMultiLine() && selected == '(') {\n            initContext(editor);\n            var line = session.doc.getLine(range.start.row);\n            var rightChar = line.substring(range.start.column + 1, range.start.column + 2);\n            if (rightChar == ')') {\n                range.end.column++;\n                return range;\n            }\n        }\n    });\n    this.add(\"brackets\", \"insertion\", function (state, action, editor, session, text) {\n        if (text == '[') {\n            initContext(editor);\n            var selection = editor.getSelectionRange();\n            var selected = session.doc.getTextRange(selection);\n            if (selected !== \"\" && editor.getWrapBehavioursEnabled()) {\n                return getWrapped(selection, selected, '[', ']');\n            }\n            else if (CstyleBehaviour.isSaneInsertion(editor, session)) {\n                CstyleBehaviour.recordAutoInsert(editor, session, \"]\");\n                return {\n                    text: '[]',\n                    selection: [1, 1]\n                };\n            }\n        }\n        else if (text == ']') {\n            initContext(editor);\n            var cursor = editor.getCursorPosition();\n            var line = session.doc.getLine(cursor.row);\n            var rightChar = line.substring(cursor.column, cursor.column + 1);\n            if (rightChar == ']') {\n                var matching = session.$findOpeningBracket(']', { column: cursor.column + 1, row: cursor.row });\n                if (matching !== null && CstyleBehaviour.isAutoInsertedClosing(cursor, line, text)) {\n                    CstyleBehaviour.popAutoInsertedClosing();\n                    return {\n                        text: '',\n                        selection: [1, 1]\n                    };\n                }\n            }\n        }\n    });\n    this.add(\"brackets\", \"deletion\", function (state, action, editor, session, range) {\n        var selected = session.doc.getTextRange(range);\n        if (!range.isMultiLine() && selected == '[') {\n            initContext(editor);\n            var line = session.doc.getLine(range.start.row);\n            var rightChar = line.substring(range.start.column + 1, range.start.column + 2);\n            if (rightChar == ']') {\n                range.end.column++;\n                return range;\n            }\n        }\n    });\n    this.add(\"string_dquotes\", \"insertion\", function (state, action, editor, session, text) {\n        var quotes = session.$mode.$quotes || defaultQuotes;\n        if (text.length == 1 && quotes[text]) {\n            if (this.lineCommentStart && this.lineCommentStart.indexOf(text) != -1)\n                return;\n            initContext(editor);\n            var quote = text;\n            var selection = editor.getSelectionRange();\n            var selected = session.doc.getTextRange(selection);\n            if (selected !== \"\" && (selected.length != 1 || !quotes[selected]) && editor.getWrapBehavioursEnabled()) {\n                return getWrapped(selection, selected, quote, quote);\n            }\n            else if (!selected) {\n                var cursor = editor.getCursorPosition();\n                var line = session.doc.getLine(cursor.row);\n                var leftChar = line.substring(cursor.column - 1, cursor.column);\n                var rightChar = line.substring(cursor.column, cursor.column + 1);\n                var token = session.getTokenAt(cursor.row, cursor.column);\n                var rightToken = session.getTokenAt(cursor.row, cursor.column + 1);\n                if (leftChar == \"\\\\\" && token && /escape/.test(token.type))\n                    return null;\n                var stringBefore = token && /string|escape/.test(token.type);\n                var stringAfter = !rightToken || /string|escape/.test(rightToken.type);\n                var pair;\n                if (rightChar == quote) {\n                    pair = stringBefore !== stringAfter;\n                    if (pair && /string\\.end/.test(rightToken.type))\n                        pair = false;\n                }\n                else {\n                    if (stringBefore && !stringAfter)\n                        return null; // wrap string with different quote\n                    if (stringBefore && stringAfter)\n                        return null; // do not pair quotes inside strings\n                    var wordRe = session.$mode.tokenRe;\n                    wordRe.lastIndex = 0;\n                    var isWordBefore = wordRe.test(leftChar);\n                    wordRe.lastIndex = 0;\n                    var isWordAfter = wordRe.test(leftChar);\n                    if (isWordBefore || isWordAfter)\n                        return null; // before or after alphanumeric\n                    if (rightChar && !/[\\s;,.})\\]\\\\]/.test(rightChar))\n                        return null; // there is rightChar and it isn't closing\n                    var charBefore = line[cursor.column - 2];\n                    if (leftChar == quote && (charBefore == quote || wordRe.test(charBefore)))\n                        return null;\n                    pair = true;\n                }\n                return {\n                    text: pair ? quote + quote : \"\",\n                    selection: [1, 1]\n                };\n            }\n        }\n    });\n    this.add(\"string_dquotes\", \"deletion\", function (state, action, editor, session, range) {\n        var quotes = session.$mode.$quotes || defaultQuotes;\n        var selected = session.doc.getTextRange(range);\n        if (!range.isMultiLine() && quotes.hasOwnProperty(selected)) {\n            initContext(editor);\n            var line = session.doc.getLine(range.start.row);\n            var rightChar = line.substring(range.start.column + 1, range.start.column + 2);\n            if (rightChar == selected) {\n                range.end.column++;\n                return range;\n            }\n        }\n    });\n};\nCstyleBehaviour.isSaneInsertion = function (editor, session) {\n    var cursor = editor.getCursorPosition();\n    var iterator = new TokenIterator(session, cursor.row, cursor.column);\n    if (!this.$matchTokenType(iterator.getCurrentToken() || \"text\", SAFE_INSERT_IN_TOKENS)) {\n        if (/[)}\\]]/.test(editor.session.getLine(cursor.row)[cursor.column]))\n            return true;\n        var iterator2 = new TokenIterator(session, cursor.row, cursor.column + 1);\n        if (!this.$matchTokenType(iterator2.getCurrentToken() || \"text\", SAFE_INSERT_IN_TOKENS))\n            return false;\n    }\n    iterator.stepForward();\n    return iterator.getCurrentTokenRow() !== cursor.row ||\n        this.$matchTokenType(iterator.getCurrentToken() || \"text\", SAFE_INSERT_BEFORE_TOKENS);\n};\nCstyleBehaviour.$matchTokenType = function (token, types) {\n    return types.indexOf(token.type || token) > -1;\n};\nCstyleBehaviour.recordAutoInsert = function (editor, session, bracket) {\n    var cursor = editor.getCursorPosition();\n    var line = session.doc.getLine(cursor.row);\n    if (!this.isAutoInsertedClosing(cursor, line, context.autoInsertedLineEnd[0]))\n        context.autoInsertedBrackets = 0;\n    context.autoInsertedRow = cursor.row;\n    context.autoInsertedLineEnd = bracket + line.substr(cursor.column);\n    context.autoInsertedBrackets++;\n};\nCstyleBehaviour.recordMaybeInsert = function (editor, session, bracket) {\n    var cursor = editor.getCursorPosition();\n    var line = session.doc.getLine(cursor.row);\n    if (!this.isMaybeInsertedClosing(cursor, line))\n        context.maybeInsertedBrackets = 0;\n    context.maybeInsertedRow = cursor.row;\n    context.maybeInsertedLineStart = line.substr(0, cursor.column) + bracket;\n    context.maybeInsertedLineEnd = line.substr(cursor.column);\n    context.maybeInsertedBrackets++;\n};\nCstyleBehaviour.isAutoInsertedClosing = function (cursor, line, bracket) {\n    return context.autoInsertedBrackets > 0 &&\n        cursor.row === context.autoInsertedRow &&\n        bracket === context.autoInsertedLineEnd[0] &&\n        line.substr(cursor.column) === context.autoInsertedLineEnd;\n};\nCstyleBehaviour.isMaybeInsertedClosing = function (cursor, line) {\n    return context.maybeInsertedBrackets > 0 &&\n        cursor.row === context.maybeInsertedRow &&\n        line.substr(cursor.column) === context.maybeInsertedLineEnd &&\n        line.substr(0, cursor.column) == context.maybeInsertedLineStart;\n};\nCstyleBehaviour.popAutoInsertedClosing = function () {\n    context.autoInsertedLineEnd = context.autoInsertedLineEnd.substr(1);\n    context.autoInsertedBrackets--;\n};\nCstyleBehaviour.clearMaybeInsertedClosing = function () {\n    if (context) {\n        context.maybeInsertedBrackets = 0;\n        context.maybeInsertedRow = -1;\n    }\n};\noop.inherits(CstyleBehaviour, Behaviour);\nexports.CstyleBehaviour = CstyleBehaviour;\n\n});\n\nace.define(\"ace/unicode\",[\"require\",\"exports\",\"module\"], function(require, exports, module){\"use strict\";\nvar wordChars = [48, 9, 8, 25, 5, 0, 2, 25, 48, 0, 11, 0, 5, 0, 6, 22, 2, 30, 2, 457, 5, 11, 15, 4, 8, 0, 2, 0, 18, 116, 2, 1, 3, 3, 9, 0, 2, 2, 2, 0, 2, 19, 2, 82, 2, 138, 2, 4, 3, 155, 12, 37, 3, 0, 8, 38, 10, 44, 2, 0, 2, 1, 2, 1, 2, 0, 9, 26, 6, 2, 30, 10, 7, 61, 2, 9, 5, 101, 2, 7, 3, 9, 2, 18, 3, 0, 17, 58, 3, 100, 15, 53, 5, 0, 6, 45, 211, 57, 3, 18, 2, 5, 3, 11, 3, 9, 2, 1, 7, 6, 2, 2, 2, 7, 3, 1, 3, 21, 2, 6, 2, 0, 4, 3, 3, 8, 3, 1, 3, 3, 9, 0, 5, 1, 2, 4, 3, 11, 16, 2, 2, 5, 5, 1, 3, 21, 2, 6, 2, 1, 2, 1, 2, 1, 3, 0, 2, 4, 5, 1, 3, 2, 4, 0, 8, 3, 2, 0, 8, 15, 12, 2, 2, 8, 2, 2, 2, 21, 2, 6, 2, 1, 2, 4, 3, 9, 2, 2, 2, 2, 3, 0, 16, 3, 3, 9, 18, 2, 2, 7, 3, 1, 3, 21, 2, 6, 2, 1, 2, 4, 3, 8, 3, 1, 3, 2, 9, 1, 5, 1, 2, 4, 3, 9, 2, 0, 17, 1, 2, 5, 4, 2, 2, 3, 4, 1, 2, 0, 2, 1, 4, 1, 4, 2, 4, 11, 5, 4, 4, 2, 2, 3, 3, 0, 7, 0, 15, 9, 18, 2, 2, 7, 2, 2, 2, 22, 2, 9, 2, 4, 4, 7, 2, 2, 2, 3, 8, 1, 2, 1, 7, 3, 3, 9, 19, 1, 2, 7, 2, 2, 2, 22, 2, 9, 2, 4, 3, 8, 2, 2, 2, 3, 8, 1, 8, 0, 2, 3, 3, 9, 19, 1, 2, 7, 2, 2, 2, 22, 2, 15, 4, 7, 2, 2, 2, 3, 10, 0, 9, 3, 3, 9, 11, 5, 3, 1, 2, 17, 4, 23, 2, 8, 2, 0, 3, 6, 4, 0, 5, 5, 2, 0, 2, 7, 19, 1, 14, 57, 6, 14, 2, 9, 40, 1, 2, 0, 3, 1, 2, 0, 3, 0, 7, 3, 2, 6, 2, 2, 2, 0, 2, 0, 3, 1, 2, 12, 2, 2, 3, 4, 2, 0, 2, 5, 3, 9, 3, 1, 35, 0, 24, 1, 7, 9, 12, 0, 2, 0, 2, 0, 5, 9, 2, 35, 5, 19, 2, 5, 5, 7, 2, 35, 10, 0, 58, 73, 7, 77, 3, 37, 11, 42, 2, 0, 4, 328, 2, 3, 3, 6, 2, 0, 2, 3, 3, 40, 2, 3, 3, 32, 2, 3, 3, 6, 2, 0, 2, 3, 3, 14, 2, 56, 2, 3, 3, 66, 5, 0, 33, 15, 17, 84, 13, 619, 3, 16, 2, 25, 6, 74, 22, 12, 2, 6, 12, 20, 12, 19, 13, 12, 2, 2, 2, 1, 13, 51, 3, 29, 4, 0, 5, 1, 3, 9, 34, 2, 3, 9, 7, 87, 9, 42, 6, 69, 11, 28, 4, 11, 5, 11, 11, 39, 3, 4, 12, 43, 5, 25, 7, 10, 38, 27, 5, 62, 2, 28, 3, 10, 7, 9, 14, 0, 89, 75, 5, 9, 18, 8, 13, 42, 4, 11, 71, 55, 9, 9, 4, 48, 83, 2, 2, 30, 14, 230, 23, 280, 3, 5, 3, 37, 3, 5, 3, 7, 2, 0, 2, 0, 2, 0, 2, 30, 3, 52, 2, 6, 2, 0, 4, 2, 2, 6, 4, 3, 3, 5, 5, 12, 6, 2, 2, 6, 67, 1, 20, 0, 29, 0, 14, 0, 17, 4, 60, 12, 5, 0, 4, 11, 18, 0, 5, 0, 3, 9, 2, 0, 4, 4, 7, 0, 2, 0, 2, 0, 2, 3, 2, 10, 3, 3, 6, 4, 5, 0, 53, 1, 2684, 46, 2, 46, 2, 132, 7, 6, 15, 37, 11, 53, 10, 0, 17, 22, 10, 6, 2, 6, 2, 6, 2, 6, 2, 6, 2, 6, 2, 6, 2, 6, 2, 31, 48, 0, 470, 1, 36, 5, 2, 4, 6, 1, 5, 85, 3, 1, 3, 2, 2, 89, 2, 3, 6, 40, 4, 93, 18, 23, 57, 15, 513, 6581, 75, 20939, 53, 1164, 68, 45, 3, 268, 4, 27, 21, 31, 3, 13, 13, 1, 2, 24, 9, 69, 11, 1, 38, 8, 3, 102, 3, 1, 111, 44, 25, 51, 13, 68, 12, 9, 7, 23, 4, 0, 5, 45, 3, 35, 13, 28, 4, 64, 15, 10, 39, 54, 10, 13, 3, 9, 7, 22, 4, 1, 5, 66, 25, 2, 227, 42, 2, 1, 3, 9, 7, 11171, 13, 22, 5, 48, 8453, 301, 3, 61, 3, 105, 39, 6, 13, 4, 6, 11, 2, 12, 2, 4, 2, 0, 2, 1, 2, 1, 2, 107, 34, 362, 19, 63, 3, 53, 41, 11, 5, 15, 17, 6, 13, 1, 25, 2, 33, 4, 2, 134, 20, 9, 8, 25, 5, 0, 2, 25, 12, 88, 4, 5, 3, 5, 3, 5, 3, 2];\nvar code = 0;\nvar str = [];\nfor (var i = 0; i < wordChars.length; i += 2) {\n    str.push(code += wordChars[i]);\n    if (wordChars[i + 1])\n        str.push(45, code += wordChars[i + 1]);\n}\nexports.wordChars = String.fromCharCode.apply(null, str);\n\n});\n\nace.define(\"ace/mode/text\",[\"require\",\"exports\",\"module\",\"ace/config\",\"ace/tokenizer\",\"ace/mode/text_highlight_rules\",\"ace/mode/behaviour/cstyle\",\"ace/unicode\",\"ace/lib/lang\",\"ace/token_iterator\",\"ace/range\"], function(require, exports, module){\"use strict\";\nvar config = require(\"../config\");\nvar Tokenizer = require(\"../tokenizer\").Tokenizer;\nvar TextHighlightRules = require(\"./text_highlight_rules\").TextHighlightRules;\nvar CstyleBehaviour = require(\"./behaviour/cstyle\").CstyleBehaviour;\nvar unicode = require(\"../unicode\");\nvar lang = require(\"../lib/lang\");\nvar TokenIterator = require(\"../token_iterator\").TokenIterator;\nvar Range = require(\"../range\").Range;\nvar Mode = function () {\n    this.HighlightRules = TextHighlightRules;\n};\n(function () {\n    this.$defaultBehaviour = new CstyleBehaviour();\n    this.tokenRe = new RegExp(\"^[\" + unicode.wordChars + \"\\\\$_]+\", \"g\");\n    this.nonTokenRe = new RegExp(\"^(?:[^\" + unicode.wordChars + \"\\\\$_]|\\\\s])+\", \"g\");\n    this.getTokenizer = function () {\n        if (!this.$tokenizer) {\n            this.$highlightRules = this.$highlightRules || new this.HighlightRules(this.$highlightRuleConfig);\n            this.$tokenizer = new Tokenizer(this.$highlightRules.getRules());\n        }\n        return this.$tokenizer;\n    };\n    this.lineCommentStart = \"\";\n    this.blockComment = \"\";\n    this.toggleCommentLines = function (state, session, startRow, endRow) {\n        var doc = session.doc;\n        var ignoreBlankLines = true;\n        var shouldRemove = true;\n        var minIndent = Infinity;\n        var tabSize = session.getTabSize();\n        var insertAtTabStop = false;\n        if (!this.lineCommentStart) {\n            if (!this.blockComment)\n                return false;\n            var lineCommentStart = this.blockComment.start;\n            var lineCommentEnd = this.blockComment.end;\n            var regexpStart = new RegExp(\"^(\\\\s*)(?:\" + lang.escapeRegExp(lineCommentStart) + \")\");\n            var regexpEnd = new RegExp(\"(?:\" + lang.escapeRegExp(lineCommentEnd) + \")\\\\s*$\");\n            var comment = function (line, i) {\n                if (testRemove(line, i))\n                    return;\n                if (!ignoreBlankLines || /\\S/.test(line)) {\n                    doc.insertInLine({ row: i, column: line.length }, lineCommentEnd);\n                    doc.insertInLine({ row: i, column: minIndent }, lineCommentStart);\n                }\n            };\n            var uncomment = function (line, i) {\n                var m;\n                if (m = line.match(regexpEnd))\n                    doc.removeInLine(i, line.length - m[0].length, line.length);\n                if (m = line.match(regexpStart))\n                    doc.removeInLine(i, m[1].length, m[0].length);\n            };\n            var testRemove = function (line, row) {\n                if (regexpStart.test(line))\n                    return true;\n                var tokens = session.getTokens(row);\n                for (var i = 0; i < tokens.length; i++) {\n                    if (tokens[i].type === \"comment\")\n                        return true;\n                }\n            };\n        }\n        else {\n            if (Array.isArray(this.lineCommentStart)) {\n                var regexpStart = this.lineCommentStart.map(lang.escapeRegExp).join(\"|\");\n                var lineCommentStart = this.lineCommentStart[0];\n            }\n            else {\n                var regexpStart = lang.escapeRegExp(this.lineCommentStart);\n                var lineCommentStart = this.lineCommentStart;\n            }\n            regexpStart = new RegExp(\"^(\\\\s*)(?:\" + regexpStart + \") ?\");\n            insertAtTabStop = session.getUseSoftTabs();\n            var uncomment = function (line, i) {\n                var m = line.match(regexpStart);\n                if (!m)\n                    return;\n                var start = m[1].length, end = m[0].length;\n                if (!shouldInsertSpace(line, start, end) && m[0][end - 1] == \" \")\n                    end--;\n                doc.removeInLine(i, start, end);\n            };\n            var commentWithSpace = lineCommentStart + \" \";\n            var comment = function (line, i) {\n                if (!ignoreBlankLines || /\\S/.test(line)) {\n                    if (shouldInsertSpace(line, minIndent, minIndent))\n                        doc.insertInLine({ row: i, column: minIndent }, commentWithSpace);\n                    else\n                        doc.insertInLine({ row: i, column: minIndent }, lineCommentStart);\n                }\n            };\n            var testRemove = function (line, i) {\n                return regexpStart.test(line);\n            };\n            var shouldInsertSpace = function (line, before, after) {\n                var spaces = 0;\n                while (before-- && line.charAt(before) == \" \")\n                    spaces++;\n                if (spaces % tabSize != 0)\n                    return false;\n                var spaces = 0;\n                while (line.charAt(after++) == \" \")\n                    spaces++;\n                if (tabSize > 2)\n                    return spaces % tabSize != tabSize - 1;\n                else\n                    return spaces % tabSize == 0;\n            };\n        }\n        function iter(fun) {\n            for (var i = startRow; i <= endRow; i++)\n                fun(doc.getLine(i), i);\n        }\n        var minEmptyLength = Infinity;\n        iter(function (line, i) {\n            var indent = line.search(/\\S/);\n            if (indent !== -1) {\n                if (indent < minIndent)\n                    minIndent = indent;\n                if (shouldRemove && !testRemove(line, i))\n                    shouldRemove = false;\n            }\n            else if (minEmptyLength > line.length) {\n                minEmptyLength = line.length;\n            }\n        });\n        if (minIndent == Infinity) {\n            minIndent = minEmptyLength;\n            ignoreBlankLines = false;\n            shouldRemove = false;\n        }\n        if (insertAtTabStop && minIndent % tabSize != 0)\n            minIndent = Math.floor(minIndent / tabSize) * tabSize;\n        iter(shouldRemove ? uncomment : comment);\n    };\n    this.toggleBlockComment = function (state, session, range, cursor) {\n        var comment = this.blockComment;\n        if (!comment)\n            return;\n        if (!comment.start && comment[0])\n            comment = comment[0];\n        var iterator = new TokenIterator(session, cursor.row, cursor.column);\n        var token = iterator.getCurrentToken();\n        var sel = session.selection;\n        var initialRange = session.selection.toOrientedRange();\n        var startRow, colDiff;\n        if (token && /comment/.test(token.type)) {\n            var startRange, endRange;\n            while (token && /comment/.test(token.type)) {\n                var i = token.value.indexOf(comment.start);\n                if (i != -1) {\n                    var row = iterator.getCurrentTokenRow();\n                    var column = iterator.getCurrentTokenColumn() + i;\n                    startRange = new Range(row, column, row, column + comment.start.length);\n                    break;\n                }\n                token = iterator.stepBackward();\n            }\n            var iterator = new TokenIterator(session, cursor.row, cursor.column);\n            var token = iterator.getCurrentToken();\n            while (token && /comment/.test(token.type)) {\n                var i = token.value.indexOf(comment.end);\n                if (i != -1) {\n                    var row = iterator.getCurrentTokenRow();\n                    var column = iterator.getCurrentTokenColumn() + i;\n                    endRange = new Range(row, column, row, column + comment.end.length);\n                    break;\n                }\n                token = iterator.stepForward();\n            }\n            if (endRange)\n                session.remove(endRange);\n            if (startRange) {\n                session.remove(startRange);\n                startRow = startRange.start.row;\n                colDiff = -comment.start.length;\n            }\n        }\n        else {\n            colDiff = comment.start.length;\n            startRow = range.start.row;\n            session.insert(range.end, comment.end);\n            session.insert(range.start, comment.start);\n        }\n        if (initialRange.start.row == startRow)\n            initialRange.start.column += colDiff;\n        if (initialRange.end.row == startRow)\n            initialRange.end.column += colDiff;\n        session.selection.fromOrientedRange(initialRange);\n    };\n    this.getNextLineIndent = function (state, line, tab) {\n        return this.$getIndent(line);\n    };\n    this.checkOutdent = function (state, line, input) {\n        return false;\n    };\n    this.autoOutdent = function (state, doc, row) {\n    };\n    this.$getIndent = function (line) {\n        return line.match(/^\\s*/)[0];\n    };\n    this.createWorker = function (session) {\n        return null;\n    };\n    this.createModeDelegates = function (mapping) {\n        this.$embeds = [];\n        this.$modes = {};\n        for (var i in mapping) {\n            if (mapping[i]) {\n                var Mode = mapping[i];\n                var id = Mode.prototype.$id;\n                var mode = config.$modes[id];\n                if (!mode)\n                    config.$modes[id] = mode = new Mode();\n                if (!config.$modes[i])\n                    config.$modes[i] = mode;\n                this.$embeds.push(i);\n                this.$modes[i] = mode;\n            }\n        }\n        var delegations = [\"toggleBlockComment\", \"toggleCommentLines\", \"getNextLineIndent\",\n            \"checkOutdent\", \"autoOutdent\", \"transformAction\", \"getCompletions\"];\n        for (var i = 0; i < delegations.length; i++) {\n            (function (scope) {\n                var functionName = delegations[i];\n                var defaultHandler = scope[functionName];\n                scope[delegations[i]] = function () {\n                    return this.$delegator(functionName, arguments, defaultHandler);\n                };\n            }(this));\n        }\n    };\n    this.$delegator = function (method, args, defaultHandler) {\n        var state = args[0] || \"start\";\n        if (typeof state != \"string\") {\n            if (Array.isArray(state[2])) {\n                var language = state[2][state[2].length - 1];\n                var mode = this.$modes[language];\n                if (mode)\n                    return mode[method].apply(mode, [state[1]].concat([].slice.call(args, 1)));\n            }\n            state = state[0] || \"start\";\n        }\n        for (var i = 0; i < this.$embeds.length; i++) {\n            if (!this.$modes[this.$embeds[i]])\n                continue;\n            var split = state.split(this.$embeds[i]);\n            if (!split[0] && split[1]) {\n                args[0] = split[1];\n                var mode = this.$modes[this.$embeds[i]];\n                return mode[method].apply(mode, args);\n            }\n        }\n        var ret = defaultHandler.apply(this, args);\n        return defaultHandler ? ret : undefined;\n    };\n    this.transformAction = function (state, action, editor, session, param) {\n        if (this.$behaviour) {\n            var behaviours = this.$behaviour.getBehaviours();\n            for (var key in behaviours) {\n                if (behaviours[key][action]) {\n                    var ret = behaviours[key][action].apply(this, arguments);\n                    if (ret) {\n                        return ret;\n                    }\n                }\n            }\n        }\n    };\n    this.getKeywords = function (append) {\n        if (!this.completionKeywords) {\n            var rules = this.$tokenizer.rules;\n            var completionKeywords = [];\n            for (var rule in rules) {\n                var ruleItr = rules[rule];\n                for (var r = 0, l = ruleItr.length; r < l; r++) {\n                    if (typeof ruleItr[r].token === \"string\") {\n                        if (/keyword|support|storage/.test(ruleItr[r].token))\n                            completionKeywords.push(ruleItr[r].regex);\n                    }\n                    else if (typeof ruleItr[r].token === \"object\") {\n                        for (var a = 0, aLength = ruleItr[r].token.length; a < aLength; a++) {\n                            if (/keyword|support|storage/.test(ruleItr[r].token[a])) {\n                                var rule = ruleItr[r].regex.match(/\\(.+?\\)/g)[a];\n                                completionKeywords.push(rule.substr(1, rule.length - 2));\n                            }\n                        }\n                    }\n                }\n            }\n            this.completionKeywords = completionKeywords;\n        }\n        if (!append)\n            return this.$keywordList;\n        return completionKeywords.concat(this.$keywordList || []);\n    };\n    this.$createKeywordList = function () {\n        if (!this.$highlightRules)\n            this.getTokenizer();\n        return this.$keywordList = this.$highlightRules.$keywordList || [];\n    };\n    this.getCompletions = function (state, session, pos, prefix) {\n        var keywords = this.$keywordList || this.$createKeywordList();\n        return keywords.map(function (word) {\n            return {\n                name: word,\n                value: word,\n                score: 0,\n                meta: \"keyword\"\n            };\n        });\n    };\n    this.$id = \"ace/mode/text\";\n}).call(Mode.prototype);\nexports.Mode = Mode;\n\n});\n\nace.define(\"ace/apply_delta\",[\"require\",\"exports\",\"module\"], function(require, exports, module){\"use strict\";\nfunction throwDeltaError(delta, errorText) {\n    console.log(\"Invalid Delta:\", delta);\n    throw \"Invalid Delta: \" + errorText;\n}\nfunction positionInDocument(docLines, position) {\n    return position.row >= 0 && position.row < docLines.length &&\n        position.column >= 0 && position.column <= docLines[position.row].length;\n}\nfunction validateDelta(docLines, delta) {\n    if (delta.action != \"insert\" && delta.action != \"remove\")\n        throwDeltaError(delta, \"delta.action must be 'insert' or 'remove'\");\n    if (!(delta.lines instanceof Array))\n        throwDeltaError(delta, \"delta.lines must be an Array\");\n    if (!delta.start || !delta.end)\n        throwDeltaError(delta, \"delta.start/end must be an present\");\n    var start = delta.start;\n    if (!positionInDocument(docLines, delta.start))\n        throwDeltaError(delta, \"delta.start must be contained in document\");\n    var end = delta.end;\n    if (delta.action == \"remove\" && !positionInDocument(docLines, end))\n        throwDeltaError(delta, \"delta.end must contained in document for 'remove' actions\");\n    var numRangeRows = end.row - start.row;\n    var numRangeLastLineChars = (end.column - (numRangeRows == 0 ? start.column : 0));\n    if (numRangeRows != delta.lines.length - 1 || delta.lines[numRangeRows].length != numRangeLastLineChars)\n        throwDeltaError(delta, \"delta.range must match delta lines\");\n}\nexports.applyDelta = function (docLines, delta, doNotValidate) {\n    var row = delta.start.row;\n    var startColumn = delta.start.column;\n    var line = docLines[row] || \"\";\n    switch (delta.action) {\n        case \"insert\":\n            var lines = delta.lines;\n            if (lines.length === 1) {\n                docLines[row] = line.substring(0, startColumn) + delta.lines[0] + line.substring(startColumn);\n            }\n            else {\n                var args = [row, 1].concat(delta.lines);\n                docLines.splice.apply(docLines, args);\n                docLines[row] = line.substring(0, startColumn) + docLines[row];\n                docLines[row + delta.lines.length - 1] += line.substring(startColumn);\n            }\n            break;\n        case \"remove\":\n            var endColumn = delta.end.column;\n            var endRow = delta.end.row;\n            if (row === endRow) {\n                docLines[row] = line.substring(0, startColumn) + line.substring(endColumn);\n            }\n            else {\n                docLines.splice(row, endRow - row + 1, line.substring(0, startColumn) + docLines[endRow].substring(endColumn));\n            }\n            break;\n    }\n};\n\n});\n\nace.define(\"ace/anchor\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/event_emitter\"], function(require, exports, module){\"use strict\";\nvar oop = require(\"./lib/oop\");\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar Anchor = exports.Anchor = function (doc, row, column) {\n    this.$onChange = this.onChange.bind(this);\n    this.attach(doc);\n    if (typeof column == \"undefined\")\n        this.setPosition(row.row, row.column);\n    else\n        this.setPosition(row, column);\n};\n(function () {\n    oop.implement(this, EventEmitter);\n    this.getPosition = function () {\n        return this.$clipPositionToDocument(this.row, this.column);\n    };\n    this.getDocument = function () {\n        return this.document;\n    };\n    this.$insertRight = false;\n    this.onChange = function (delta) {\n        if (delta.start.row == delta.end.row && delta.start.row != this.row)\n            return;\n        if (delta.start.row > this.row)\n            return;\n        var point = $getTransformedPoint(delta, { row: this.row, column: this.column }, this.$insertRight);\n        this.setPosition(point.row, point.column, true);\n    };\n    function $pointsInOrder(point1, point2, equalPointsInOrder) {\n        var bColIsAfter = equalPointsInOrder ? point1.column <= point2.column : point1.column < point2.column;\n        return (point1.row < point2.row) || (point1.row == point2.row && bColIsAfter);\n    }\n    function $getTransformedPoint(delta, point, moveIfEqual) {\n        var deltaIsInsert = delta.action == \"insert\";\n        var deltaRowShift = (deltaIsInsert ? 1 : -1) * (delta.end.row - delta.start.row);\n        var deltaColShift = (deltaIsInsert ? 1 : -1) * (delta.end.column - delta.start.column);\n        var deltaStart = delta.start;\n        var deltaEnd = deltaIsInsert ? deltaStart : delta.end; // Collapse insert range.\n        if ($pointsInOrder(point, deltaStart, moveIfEqual)) {\n            return {\n                row: point.row,\n                column: point.column\n            };\n        }\n        if ($pointsInOrder(deltaEnd, point, !moveIfEqual)) {\n            return {\n                row: point.row + deltaRowShift,\n                column: point.column + (point.row == deltaEnd.row ? deltaColShift : 0)\n            };\n        }\n        return {\n            row: deltaStart.row,\n            column: deltaStart.column\n        };\n    }\n    this.setPosition = function (row, column, noClip) {\n        var pos;\n        if (noClip) {\n            pos = {\n                row: row,\n                column: column\n            };\n        }\n        else {\n            pos = this.$clipPositionToDocument(row, column);\n        }\n        if (this.row == pos.row && this.column == pos.column)\n            return;\n        var old = {\n            row: this.row,\n            column: this.column\n        };\n        this.row = pos.row;\n        this.column = pos.column;\n        this._signal(\"change\", {\n            old: old,\n            value: pos\n        });\n    };\n    this.detach = function () {\n        this.document.off(\"change\", this.$onChange);\n    };\n    this.attach = function (doc) {\n        this.document = doc || this.document;\n        this.document.on(\"change\", this.$onChange);\n    };\n    this.$clipPositionToDocument = function (row, column) {\n        var pos = {};\n        if (row >= this.document.getLength()) {\n            pos.row = Math.max(0, this.document.getLength() - 1);\n            pos.column = this.document.getLine(pos.row).length;\n        }\n        else if (row < 0) {\n            pos.row = 0;\n            pos.column = 0;\n        }\n        else {\n            pos.row = row;\n            pos.column = Math.min(this.document.getLine(pos.row).length, Math.max(0, column));\n        }\n        if (column < 0)\n            pos.column = 0;\n        return pos;\n    };\n}).call(Anchor.prototype);\n\n});\n\nace.define(\"ace/document\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/apply_delta\",\"ace/lib/event_emitter\",\"ace/range\",\"ace/anchor\"], function(require, exports, module){\"use strict\";\nvar oop = require(\"./lib/oop\");\nvar applyDelta = require(\"./apply_delta\").applyDelta;\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar Range = require(\"./range\").Range;\nvar Anchor = require(\"./anchor\").Anchor;\nvar Document = function (textOrLines) {\n    this.$lines = [\"\"];\n    if (textOrLines.length === 0) {\n        this.$lines = [\"\"];\n    }\n    else if (Array.isArray(textOrLines)) {\n        this.insertMergedLines({ row: 0, column: 0 }, textOrLines);\n    }\n    else {\n        this.insert({ row: 0, column: 0 }, textOrLines);\n    }\n};\n(function () {\n    oop.implement(this, EventEmitter);\n    this.setValue = function (text) {\n        var len = this.getLength() - 1;\n        this.remove(new Range(0, 0, len, this.getLine(len).length));\n        this.insert({ row: 0, column: 0 }, text);\n    };\n    this.getValue = function () {\n        return this.getAllLines().join(this.getNewLineCharacter());\n    };\n    this.createAnchor = function (row, column) {\n        return new Anchor(this, row, column);\n    };\n    if (\"aaa\".split(/a/).length === 0) {\n        this.$split = function (text) {\n            return text.replace(/\\r\\n|\\r/g, \"\\n\").split(\"\\n\");\n        };\n    }\n    else {\n        this.$split = function (text) {\n            return text.split(/\\r\\n|\\r|\\n/);\n        };\n    }\n    this.$detectNewLine = function (text) {\n        var match = text.match(/^.*?(\\r\\n|\\r|\\n)/m);\n        this.$autoNewLine = match ? match[1] : \"\\n\";\n        this._signal(\"changeNewLineMode\");\n    };\n    this.getNewLineCharacter = function () {\n        switch (this.$newLineMode) {\n            case \"windows\":\n                return \"\\r\\n\";\n            case \"unix\":\n                return \"\\n\";\n            default:\n                return this.$autoNewLine || \"\\n\";\n        }\n    };\n    this.$autoNewLine = \"\";\n    this.$newLineMode = \"auto\";\n    this.setNewLineMode = function (newLineMode) {\n        if (this.$newLineMode === newLineMode)\n            return;\n        this.$newLineMode = newLineMode;\n        this._signal(\"changeNewLineMode\");\n    };\n    this.getNewLineMode = function () {\n        return this.$newLineMode;\n    };\n    this.isNewLine = function (text) {\n        return (text == \"\\r\\n\" || text == \"\\r\" || text == \"\\n\");\n    };\n    this.getLine = function (row) {\n        return this.$lines[row] || \"\";\n    };\n    this.getLines = function (firstRow, lastRow) {\n        return this.$lines.slice(firstRow, lastRow + 1);\n    };\n    this.getAllLines = function () {\n        return this.getLines(0, this.getLength());\n    };\n    this.getLength = function () {\n        return this.$lines.length;\n    };\n    this.getTextRange = function (range) {\n        return this.getLinesForRange(range).join(this.getNewLineCharacter());\n    };\n    this.getLinesForRange = function (range) {\n        var lines;\n        if (range.start.row === range.end.row) {\n            lines = [this.getLine(range.start.row).substring(range.start.column, range.end.column)];\n        }\n        else {\n            lines = this.getLines(range.start.row, range.end.row);\n            lines[0] = (lines[0] || \"\").substring(range.start.column);\n            var l = lines.length - 1;\n            if (range.end.row - range.start.row == l)\n                lines[l] = lines[l].substring(0, range.end.column);\n        }\n        return lines;\n    };\n    this.insertLines = function (row, lines) {\n        console.warn(\"Use of document.insertLines is deprecated. Use the insertFullLines method instead.\");\n        return this.insertFullLines(row, lines);\n    };\n    this.removeLines = function (firstRow, lastRow) {\n        console.warn(\"Use of document.removeLines is deprecated. Use the removeFullLines method instead.\");\n        return this.removeFullLines(firstRow, lastRow);\n    };\n    this.insertNewLine = function (position) {\n        console.warn(\"Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead.\");\n        return this.insertMergedLines(position, [\"\", \"\"]);\n    };\n    this.insert = function (position, text) {\n        if (this.getLength() <= 1)\n            this.$detectNewLine(text);\n        return this.insertMergedLines(position, this.$split(text));\n    };\n    this.insertInLine = function (position, text) {\n        var start = this.clippedPos(position.row, position.column);\n        var end = this.pos(position.row, position.column + text.length);\n        this.applyDelta({\n            start: start,\n            end: end,\n            action: \"insert\",\n            lines: [text]\n        }, true);\n        return this.clonePos(end);\n    };\n    this.clippedPos = function (row, column) {\n        var length = this.getLength();\n        if (row === undefined) {\n            row = length;\n        }\n        else if (row < 0) {\n            row = 0;\n        }\n        else if (row >= length) {\n            row = length - 1;\n            column = undefined;\n        }\n        var line = this.getLine(row);\n        if (column == undefined)\n            column = line.length;\n        column = Math.min(Math.max(column, 0), line.length);\n        return { row: row, column: column };\n    };\n    this.clonePos = function (pos) {\n        return { row: pos.row, column: pos.column };\n    };\n    this.pos = function (row, column) {\n        return { row: row, column: column };\n    };\n    this.$clipPosition = function (position) {\n        var length = this.getLength();\n        if (position.row >= length) {\n            position.row = Math.max(0, length - 1);\n            position.column = this.getLine(length - 1).length;\n        }\n        else {\n            position.row = Math.max(0, position.row);\n            position.column = Math.min(Math.max(position.column, 0), this.getLine(position.row).length);\n        }\n        return position;\n    };\n    this.insertFullLines = function (row, lines) {\n        row = Math.min(Math.max(row, 0), this.getLength());\n        var column = 0;\n        if (row < this.getLength()) {\n            lines = lines.concat([\"\"]);\n            column = 0;\n        }\n        else {\n            lines = [\"\"].concat(lines);\n            row--;\n            column = this.$lines[row].length;\n        }\n        this.insertMergedLines({ row: row, column: column }, lines);\n    };\n    this.insertMergedLines = function (position, lines) {\n        var start = this.clippedPos(position.row, position.column);\n        var end = {\n            row: start.row + lines.length - 1,\n            column: (lines.length == 1 ? start.column : 0) + lines[lines.length - 1].length\n        };\n        this.applyDelta({\n            start: start,\n            end: end,\n            action: \"insert\",\n            lines: lines\n        });\n        return this.clonePos(end);\n    };\n    this.remove = function (range) {\n        var start = this.clippedPos(range.start.row, range.start.column);\n        var end = this.clippedPos(range.end.row, range.end.column);\n        this.applyDelta({\n            start: start,\n            end: end,\n            action: \"remove\",\n            lines: this.getLinesForRange({ start: start, end: end })\n        });\n        return this.clonePos(start);\n    };\n    this.removeInLine = function (row, startColumn, endColumn) {\n        var start = this.clippedPos(row, startColumn);\n        var end = this.clippedPos(row, endColumn);\n        this.applyDelta({\n            start: start,\n            end: end,\n            action: \"remove\",\n            lines: this.getLinesForRange({ start: start, end: end })\n        }, true);\n        return this.clonePos(start);\n    };\n    this.removeFullLines = function (firstRow, lastRow) {\n        firstRow = Math.min(Math.max(0, firstRow), this.getLength() - 1);\n        lastRow = Math.min(Math.max(0, lastRow), this.getLength() - 1);\n        var deleteFirstNewLine = lastRow == this.getLength() - 1 && firstRow > 0;\n        var deleteLastNewLine = lastRow < this.getLength() - 1;\n        var startRow = (deleteFirstNewLine ? firstRow - 1 : firstRow);\n        var startCol = (deleteFirstNewLine ? this.getLine(startRow).length : 0);\n        var endRow = (deleteLastNewLine ? lastRow + 1 : lastRow);\n        var endCol = (deleteLastNewLine ? 0 : this.getLine(endRow).length);\n        var range = new Range(startRow, startCol, endRow, endCol);\n        var deletedLines = this.$lines.slice(firstRow, lastRow + 1);\n        this.applyDelta({\n            start: range.start,\n            end: range.end,\n            action: \"remove\",\n            lines: this.getLinesForRange(range)\n        });\n        return deletedLines;\n    };\n    this.removeNewLine = function (row) {\n        if (row < this.getLength() - 1 && row >= 0) {\n            this.applyDelta({\n                start: this.pos(row, this.getLine(row).length),\n                end: this.pos(row + 1, 0),\n                action: \"remove\",\n                lines: [\"\", \"\"]\n            });\n        }\n    };\n    this.replace = function (range, text) {\n        if (!(range instanceof Range))\n            range = Range.fromPoints(range.start, range.end);\n        if (text.length === 0 && range.isEmpty())\n            return range.start;\n        if (text == this.getTextRange(range))\n            return range.end;\n        this.remove(range);\n        var end;\n        if (text) {\n            end = this.insert(range.start, text);\n        }\n        else {\n            end = range.start;\n        }\n        return end;\n    };\n    this.applyDeltas = function (deltas) {\n        for (var i = 0; i < deltas.length; i++) {\n            this.applyDelta(deltas[i]);\n        }\n    };\n    this.revertDeltas = function (deltas) {\n        for (var i = deltas.length - 1; i >= 0; i--) {\n            this.revertDelta(deltas[i]);\n        }\n    };\n    this.applyDelta = function (delta, doNotValidate) {\n        var isInsert = delta.action == \"insert\";\n        if (isInsert ? delta.lines.length <= 1 && !delta.lines[0]\n            : !Range.comparePoints(delta.start, delta.end)) {\n            return;\n        }\n        if (isInsert && delta.lines.length > 20000) {\n            this.$splitAndapplyLargeDelta(delta, 20000);\n        }\n        else {\n            applyDelta(this.$lines, delta, doNotValidate);\n            this._signal(\"change\", delta);\n        }\n    };\n    this.$safeApplyDelta = function (delta) {\n        var docLength = this.$lines.length;\n        if (delta.action == \"remove\" && delta.start.row < docLength && delta.end.row < docLength\n            || delta.action == \"insert\" && delta.start.row <= docLength) {\n            this.applyDelta(delta);\n        }\n    };\n    this.$splitAndapplyLargeDelta = function (delta, MAX) {\n        var lines = delta.lines;\n        var l = lines.length - MAX + 1;\n        var row = delta.start.row;\n        var column = delta.start.column;\n        for (var from = 0, to = 0; from < l; from = to) {\n            to += MAX - 1;\n            var chunk = lines.slice(from, to);\n            chunk.push(\"\");\n            this.applyDelta({\n                start: this.pos(row + from, column),\n                end: this.pos(row + to, column = 0),\n                action: delta.action,\n                lines: chunk\n            }, true);\n        }\n        delta.lines = lines.slice(from);\n        delta.start.row = row + from;\n        delta.start.column = column;\n        this.applyDelta(delta, true);\n    };\n    this.revertDelta = function (delta) {\n        this.$safeApplyDelta({\n            start: this.clonePos(delta.start),\n            end: this.clonePos(delta.end),\n            action: (delta.action == \"insert\" ? \"remove\" : \"insert\"),\n            lines: delta.lines.slice()\n        });\n    };\n    this.indexToPosition = function (index, startRow) {\n        var lines = this.$lines || this.getAllLines();\n        var newlineLength = this.getNewLineCharacter().length;\n        for (var i = startRow || 0, l = lines.length; i < l; i++) {\n            index -= lines[i].length + newlineLength;\n            if (index < 0)\n                return { row: i, column: index + lines[i].length + newlineLength };\n        }\n        return { row: l - 1, column: index + lines[l - 1].length + newlineLength };\n    };\n    this.positionToIndex = function (pos, startRow) {\n        var lines = this.$lines || this.getAllLines();\n        var newlineLength = this.getNewLineCharacter().length;\n        var index = 0;\n        var row = Math.min(pos.row, lines.length);\n        for (var i = startRow || 0; i < row; ++i)\n            index += lines[i].length + newlineLength;\n        return index + pos.column;\n    };\n}).call(Document.prototype);\nexports.Document = Document;\n\n});\n\nace.define(\"ace/background_tokenizer\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/event_emitter\"], function(require, exports, module){\"use strict\";\nvar oop = require(\"./lib/oop\");\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar BackgroundTokenizer = function (tokenizer, editor) {\n    this.running = false;\n    this.lines = [];\n    this.states = [];\n    this.currentLine = 0;\n    this.tokenizer = tokenizer;\n    var self = this;\n    this.$worker = function () {\n        if (!self.running) {\n            return;\n        }\n        var workerStart = new Date();\n        var currentLine = self.currentLine;\n        var endLine = -1;\n        var doc = self.doc;\n        var startLine = currentLine;\n        while (self.lines[currentLine])\n            currentLine++;\n        var len = doc.getLength();\n        var processedLines = 0;\n        self.running = false;\n        while (currentLine < len) {\n            self.$tokenizeRow(currentLine);\n            endLine = currentLine;\n            do {\n                currentLine++;\n            } while (self.lines[currentLine]);\n            processedLines++;\n            if ((processedLines % 5 === 0) && (new Date() - workerStart) > 20) {\n                self.running = setTimeout(self.$worker, 20);\n                break;\n            }\n        }\n        self.currentLine = currentLine;\n        if (endLine == -1)\n            endLine = currentLine;\n        if (startLine <= endLine)\n            self.fireUpdateEvent(startLine, endLine);\n    };\n};\n(function () {\n    oop.implement(this, EventEmitter);\n    this.setTokenizer = function (tokenizer) {\n        this.tokenizer = tokenizer;\n        this.lines = [];\n        this.states = [];\n        this.start(0);\n    };\n    this.setDocument = function (doc) {\n        this.doc = doc;\n        this.lines = [];\n        this.states = [];\n        this.stop();\n    };\n    this.fireUpdateEvent = function (firstRow, lastRow) {\n        var data = {\n            first: firstRow,\n            last: lastRow\n        };\n        this._signal(\"update\", { data: data });\n    };\n    this.start = function (startRow) {\n        this.currentLine = Math.min(startRow || 0, this.currentLine, this.doc.getLength());\n        this.lines.splice(this.currentLine, this.lines.length);\n        this.states.splice(this.currentLine, this.states.length);\n        this.stop();\n        this.running = setTimeout(this.$worker, 700);\n    };\n    this.scheduleStart = function () {\n        if (!this.running)\n            this.running = setTimeout(this.$worker, 700);\n    };\n    this.$updateOnChange = function (delta) {\n        var startRow = delta.start.row;\n        var len = delta.end.row - startRow;\n        if (len === 0) {\n            this.lines[startRow] = null;\n        }\n        else if (delta.action == \"remove\") {\n            this.lines.splice(startRow, len + 1, null);\n            this.states.splice(startRow, len + 1, null);\n        }\n        else {\n            var args = Array(len + 1);\n            args.unshift(startRow, 1);\n            this.lines.splice.apply(this.lines, args);\n            this.states.splice.apply(this.states, args);\n        }\n        this.currentLine = Math.min(startRow, this.currentLine, this.doc.getLength());\n        this.stop();\n    };\n    this.stop = function () {\n        if (this.running)\n            clearTimeout(this.running);\n        this.running = false;\n    };\n    this.getTokens = function (row) {\n        return this.lines[row] || this.$tokenizeRow(row);\n    };\n    this.getState = function (row) {\n        if (this.currentLine == row)\n            this.$tokenizeRow(row);\n        return this.states[row] || \"start\";\n    };\n    this.$tokenizeRow = function (row) {\n        var line = this.doc.getLine(row);\n        var state = this.states[row - 1];\n        var data = this.tokenizer.getLineTokens(line, state, row);\n        if (this.states[row] + \"\" !== data.state + \"\") {\n            this.states[row] = data.state;\n            this.lines[row + 1] = null;\n            if (this.currentLine > row + 1)\n                this.currentLine = row + 1;\n        }\n        else if (this.currentLine == row) {\n            this.currentLine = row + 1;\n        }\n        return this.lines[row] = data.tokens;\n    };\n    this.cleanup = function () {\n        this.running = false;\n        this.lines = [];\n        this.states = [];\n        this.currentLine = 0;\n        this.removeAllListeners();\n    };\n}).call(BackgroundTokenizer.prototype);\nexports.BackgroundTokenizer = BackgroundTokenizer;\n\n});\n\nace.define(\"ace/search_highlight\",[\"require\",\"exports\",\"module\",\"ace/lib/lang\",\"ace/lib/oop\",\"ace/range\"], function(require, exports, module){\"use strict\";\nvar lang = require(\"./lib/lang\");\nvar oop = require(\"./lib/oop\");\nvar Range = require(\"./range\").Range;\nvar SearchHighlight = function (regExp, clazz, type) {\n    this.setRegexp(regExp);\n    this.clazz = clazz;\n    this.type = type || \"text\";\n};\n(function () {\n    this.MAX_RANGES = 500;\n    this.setRegexp = function (regExp) {\n        if (this.regExp + \"\" == regExp + \"\")\n            return;\n        this.regExp = regExp;\n        this.cache = [];\n    };\n    this.update = function (html, markerLayer, session, config) {\n        if (!this.regExp)\n            return;\n        var start = config.firstRow, end = config.lastRow;\n        var renderedMarkerRanges = {};\n        for (var i = start; i <= end; i++) {\n            var ranges = this.cache[i];\n            if (ranges == null) {\n                ranges = lang.getMatchOffsets(session.getLine(i), this.regExp);\n                if (ranges.length > this.MAX_RANGES)\n                    ranges = ranges.slice(0, this.MAX_RANGES);\n                ranges = ranges.map(function (match) {\n                    return new Range(i, match.offset, i, match.offset + match.length);\n                });\n                this.cache[i] = ranges.length ? ranges : \"\";\n            }\n            for (var j = ranges.length; j--;) {\n                var rangeToAddMarkerTo = ranges[j].toScreenRange(session);\n                var rangeAsString = rangeToAddMarkerTo.toString();\n                if (renderedMarkerRanges[rangeAsString])\n                    continue;\n                renderedMarkerRanges[rangeAsString] = true;\n                markerLayer.drawSingleLineMarker(html, rangeToAddMarkerTo, this.clazz, config);\n            }\n        }\n    };\n}).call(SearchHighlight.prototype);\nexports.SearchHighlight = SearchHighlight;\n\n});\n\nace.define(\"ace/edit_session/fold_line\",[\"require\",\"exports\",\"module\",\"ace/range\"], function(require, exports, module){\"use strict\";\nvar Range = require(\"../range\").Range;\nfunction FoldLine(foldData, folds) {\n    this.foldData = foldData;\n    if (Array.isArray(folds)) {\n        this.folds = folds;\n    }\n    else {\n        folds = this.folds = [folds];\n    }\n    var last = folds[folds.length - 1];\n    this.range = new Range(folds[0].start.row, folds[0].start.column, last.end.row, last.end.column);\n    this.start = this.range.start;\n    this.end = this.range.end;\n    this.folds.forEach(function (fold) {\n        fold.setFoldLine(this);\n    }, this);\n}\n(function () {\n    this.shiftRow = function (shift) {\n        this.start.row += shift;\n        this.end.row += shift;\n        this.folds.forEach(function (fold) {\n            fold.start.row += shift;\n            fold.end.row += shift;\n        });\n    };\n    this.addFold = function (fold) {\n        if (fold.sameRow) {\n            if (fold.start.row < this.startRow || fold.endRow > this.endRow) {\n                throw new Error(\"Can't add a fold to this FoldLine as it has no connection\");\n            }\n            this.folds.push(fold);\n            this.folds.sort(function (a, b) {\n                return -a.range.compareEnd(b.start.row, b.start.column);\n            });\n            if (this.range.compareEnd(fold.start.row, fold.start.column) > 0) {\n                this.end.row = fold.end.row;\n                this.end.column = fold.end.column;\n            }\n            else if (this.range.compareStart(fold.end.row, fold.end.column) < 0) {\n                this.start.row = fold.start.row;\n                this.start.column = fold.start.column;\n            }\n        }\n        else if (fold.start.row == this.end.row) {\n            this.folds.push(fold);\n            this.end.row = fold.end.row;\n            this.end.column = fold.end.column;\n        }\n        else if (fold.end.row == this.start.row) {\n            this.folds.unshift(fold);\n            this.start.row = fold.start.row;\n            this.start.column = fold.start.column;\n        }\n        else {\n            throw new Error(\"Trying to add fold to FoldRow that doesn't have a matching row\");\n        }\n        fold.foldLine = this;\n    };\n    this.containsRow = function (row) {\n        return row >= this.start.row && row <= this.end.row;\n    };\n    this.walk = function (callback, endRow, endColumn) {\n        var lastEnd = 0, folds = this.folds, fold, cmp, stop, isNewRow = true;\n        if (endRow == null) {\n            endRow = this.end.row;\n            endColumn = this.end.column;\n        }\n        for (var i = 0; i < folds.length; i++) {\n            fold = folds[i];\n            cmp = fold.range.compareStart(endRow, endColumn);\n            if (cmp == -1) {\n                callback(null, endRow, endColumn, lastEnd, isNewRow);\n                return;\n            }\n            stop = callback(null, fold.start.row, fold.start.column, lastEnd, isNewRow);\n            stop = !stop && callback(fold.placeholder, fold.start.row, fold.start.column, lastEnd);\n            if (stop || cmp === 0) {\n                return;\n            }\n            isNewRow = !fold.sameRow;\n            lastEnd = fold.end.column;\n        }\n        callback(null, endRow, endColumn, lastEnd, isNewRow);\n    };\n    this.getNextFoldTo = function (row, column) {\n        var fold, cmp;\n        for (var i = 0; i < this.folds.length; i++) {\n            fold = this.folds[i];\n            cmp = fold.range.compareEnd(row, column);\n            if (cmp == -1) {\n                return {\n                    fold: fold,\n                    kind: \"after\"\n                };\n            }\n            else if (cmp === 0) {\n                return {\n                    fold: fold,\n                    kind: \"inside\"\n                };\n            }\n        }\n        return null;\n    };\n    this.addRemoveChars = function (row, column, len) {\n        var ret = this.getNextFoldTo(row, column), fold, folds;\n        if (ret) {\n            fold = ret.fold;\n            if (ret.kind == \"inside\"\n                && fold.start.column != column\n                && fold.start.row != row) {\n                window.console && window.console.log(row, column, fold);\n            }\n            else if (fold.start.row == row) {\n                folds = this.folds;\n                var i = folds.indexOf(fold);\n                if (i === 0) {\n                    this.start.column += len;\n                }\n                for (i; i < folds.length; i++) {\n                    fold = folds[i];\n                    fold.start.column += len;\n                    if (!fold.sameRow) {\n                        return;\n                    }\n                    fold.end.column += len;\n                }\n                this.end.column += len;\n            }\n        }\n    };\n    this.split = function (row, column) {\n        var pos = this.getNextFoldTo(row, column);\n        if (!pos || pos.kind == \"inside\")\n            return null;\n        var fold = pos.fold;\n        var folds = this.folds;\n        var foldData = this.foldData;\n        var i = folds.indexOf(fold);\n        var foldBefore = folds[i - 1];\n        this.end.row = foldBefore.end.row;\n        this.end.column = foldBefore.end.column;\n        folds = folds.splice(i, folds.length - i);\n        var newFoldLine = new FoldLine(foldData, folds);\n        foldData.splice(foldData.indexOf(this) + 1, 0, newFoldLine);\n        return newFoldLine;\n    };\n    this.merge = function (foldLineNext) {\n        var folds = foldLineNext.folds;\n        for (var i = 0; i < folds.length; i++) {\n            this.addFold(folds[i]);\n        }\n        var foldData = this.foldData;\n        foldData.splice(foldData.indexOf(foldLineNext), 1);\n    };\n    this.toString = function () {\n        var ret = [this.range.toString() + \": [\"];\n        this.folds.forEach(function (fold) {\n            ret.push(\"  \" + fold.toString());\n        });\n        ret.push(\"]\");\n        return ret.join(\"\\n\");\n    };\n    this.idxToPosition = function (idx) {\n        var lastFoldEndColumn = 0;\n        for (var i = 0; i < this.folds.length; i++) {\n            var fold = this.folds[i];\n            idx -= fold.start.column - lastFoldEndColumn;\n            if (idx < 0) {\n                return {\n                    row: fold.start.row,\n                    column: fold.start.column + idx\n                };\n            }\n            idx -= fold.placeholder.length;\n            if (idx < 0) {\n                return fold.start;\n            }\n            lastFoldEndColumn = fold.end.column;\n        }\n        return {\n            row: this.end.row,\n            column: this.end.column + idx\n        };\n    };\n}).call(FoldLine.prototype);\nexports.FoldLine = FoldLine;\n\n});\n\nace.define(\"ace/range_list\",[\"require\",\"exports\",\"module\",\"ace/range\"], function(require, exports, module){\"use strict\";\nvar Range = require(\"./range\").Range;\nvar comparePoints = Range.comparePoints;\nvar RangeList = function () {\n    this.ranges = [];\n    this.$bias = 1;\n};\n(function () {\n    this.comparePoints = comparePoints;\n    this.pointIndex = function (pos, excludeEdges, startIndex) {\n        var list = this.ranges;\n        for (var i = startIndex || 0; i < list.length; i++) {\n            var range = list[i];\n            var cmpEnd = comparePoints(pos, range.end);\n            if (cmpEnd > 0)\n                continue;\n            var cmpStart = comparePoints(pos, range.start);\n            if (cmpEnd === 0)\n                return excludeEdges && cmpStart !== 0 ? -i - 2 : i;\n            if (cmpStart > 0 || (cmpStart === 0 && !excludeEdges))\n                return i;\n            return -i - 1;\n        }\n        return -i - 1;\n    };\n    this.add = function (range) {\n        var excludeEdges = !range.isEmpty();\n        var startIndex = this.pointIndex(range.start, excludeEdges);\n        if (startIndex < 0)\n            startIndex = -startIndex - 1;\n        var endIndex = this.pointIndex(range.end, excludeEdges, startIndex);\n        if (endIndex < 0)\n            endIndex = -endIndex - 1;\n        else\n            endIndex++;\n        return this.ranges.splice(startIndex, endIndex - startIndex, range);\n    };\n    this.addList = function (list) {\n        var removed = [];\n        for (var i = list.length; i--;) {\n            removed.push.apply(removed, this.add(list[i]));\n        }\n        return removed;\n    };\n    this.substractPoint = function (pos) {\n        var i = this.pointIndex(pos);\n        if (i >= 0)\n            return this.ranges.splice(i, 1);\n    };\n    this.merge = function () {\n        var removed = [];\n        var list = this.ranges;\n        list = list.sort(function (a, b) {\n            return comparePoints(a.start, b.start);\n        });\n        var next = list[0], range;\n        for (var i = 1; i < list.length; i++) {\n            range = next;\n            next = list[i];\n            var cmp = comparePoints(range.end, next.start);\n            if (cmp < 0)\n                continue;\n            if (cmp == 0 && !range.isEmpty() && !next.isEmpty())\n                continue;\n            if (comparePoints(range.end, next.end) < 0) {\n                range.end.row = next.end.row;\n                range.end.column = next.end.column;\n            }\n            list.splice(i, 1);\n            removed.push(next);\n            next = range;\n            i--;\n        }\n        this.ranges = list;\n        return removed;\n    };\n    this.contains = function (row, column) {\n        return this.pointIndex({ row: row, column: column }) >= 0;\n    };\n    this.containsPoint = function (pos) {\n        return this.pointIndex(pos) >= 0;\n    };\n    this.rangeAtPoint = function (pos) {\n        var i = this.pointIndex(pos);\n        if (i >= 0)\n            return this.ranges[i];\n    };\n    this.clipRows = function (startRow, endRow) {\n        var list = this.ranges;\n        if (list[0].start.row > endRow || list[list.length - 1].start.row < startRow)\n            return [];\n        var startIndex = this.pointIndex({ row: startRow, column: 0 });\n        if (startIndex < 0)\n            startIndex = -startIndex - 1;\n        var endIndex = this.pointIndex({ row: endRow, column: 0 }, startIndex);\n        if (endIndex < 0)\n            endIndex = -endIndex - 1;\n        var clipped = [];\n        for (var i = startIndex; i < endIndex; i++) {\n            clipped.push(list[i]);\n        }\n        return clipped;\n    };\n    this.removeAll = function () {\n        return this.ranges.splice(0, this.ranges.length);\n    };\n    this.attach = function (session) {\n        if (this.session)\n            this.detach();\n        this.session = session;\n        this.onChange = this.$onChange.bind(this);\n        this.session.on('change', this.onChange);\n    };\n    this.detach = function () {\n        if (!this.session)\n            return;\n        this.session.removeListener('change', this.onChange);\n        this.session = null;\n    };\n    this.$onChange = function (delta) {\n        var start = delta.start;\n        var end = delta.end;\n        var startRow = start.row;\n        var endRow = end.row;\n        var ranges = this.ranges;\n        for (var i = 0, n = ranges.length; i < n; i++) {\n            var r = ranges[i];\n            if (r.end.row >= startRow)\n                break;\n        }\n        if (delta.action == \"insert\") {\n            var lineDif = endRow - startRow;\n            var colDiff = -start.column + end.column;\n            for (; i < n; i++) {\n                var r = ranges[i];\n                if (r.start.row > startRow)\n                    break;\n                if (r.start.row == startRow && r.start.column >= start.column) {\n                    if (r.start.column == start.column && this.$bias <= 0) {\n                    }\n                    else {\n                        r.start.column += colDiff;\n                        r.start.row += lineDif;\n                    }\n                }\n                if (r.end.row == startRow && r.end.column >= start.column) {\n                    if (r.end.column == start.column && this.$bias < 0) {\n                        continue;\n                    }\n                    if (r.end.column == start.column && colDiff > 0 && i < n - 1) {\n                        if (r.end.column > r.start.column && r.end.column == ranges[i + 1].start.column)\n                            r.end.column -= colDiff;\n                    }\n                    r.end.column += colDiff;\n                    r.end.row += lineDif;\n                }\n            }\n        }\n        else {\n            var lineDif = startRow - endRow;\n            var colDiff = start.column - end.column;\n            for (; i < n; i++) {\n                var r = ranges[i];\n                if (r.start.row > endRow)\n                    break;\n                if (r.end.row < endRow\n                    && (startRow < r.end.row\n                        || startRow == r.end.row && start.column < r.end.column)) {\n                    r.end.row = startRow;\n                    r.end.column = start.column;\n                }\n                else if (r.end.row == endRow) {\n                    if (r.end.column <= end.column) {\n                        if (lineDif || r.end.column > start.column) {\n                            r.end.column = start.column;\n                            r.end.row = start.row;\n                        }\n                    }\n                    else {\n                        r.end.column += colDiff;\n                        r.end.row += lineDif;\n                    }\n                }\n                else if (r.end.row > endRow) {\n                    r.end.row += lineDif;\n                }\n                if (r.start.row < endRow\n                    && (startRow < r.start.row\n                        || startRow == r.start.row && start.column < r.start.column)) {\n                    r.start.row = startRow;\n                    r.start.column = start.column;\n                }\n                else if (r.start.row == endRow) {\n                    if (r.start.column <= end.column) {\n                        if (lineDif || r.start.column > start.column) {\n                            r.start.column = start.column;\n                            r.start.row = start.row;\n                        }\n                    }\n                    else {\n                        r.start.column += colDiff;\n                        r.start.row += lineDif;\n                    }\n                }\n                else if (r.start.row > endRow) {\n                    r.start.row += lineDif;\n                }\n            }\n        }\n        if (lineDif != 0 && i < n) {\n            for (; i < n; i++) {\n                var r = ranges[i];\n                r.start.row += lineDif;\n                r.end.row += lineDif;\n            }\n        }\n    };\n}).call(RangeList.prototype);\nexports.RangeList = RangeList;\n\n});\n\nace.define(\"ace/edit_session/fold\",[\"require\",\"exports\",\"module\",\"ace/range_list\",\"ace/lib/oop\"], function(require, exports, module){\"use strict\";\nvar RangeList = require(\"../range_list\").RangeList;\nvar oop = require(\"../lib/oop\");\nvar Fold = exports.Fold = function (range, placeholder) {\n    this.foldLine = null;\n    this.placeholder = placeholder;\n    this.range = range;\n    this.start = range.start;\n    this.end = range.end;\n    this.sameRow = range.start.row == range.end.row;\n    this.subFolds = this.ranges = [];\n};\noop.inherits(Fold, RangeList);\n(function () {\n    this.toString = function () {\n        return '\"' + this.placeholder + '\" ' + this.range.toString();\n    };\n    this.setFoldLine = function (foldLine) {\n        this.foldLine = foldLine;\n        this.subFolds.forEach(function (fold) {\n            fold.setFoldLine(foldLine);\n        });\n    };\n    this.clone = function () {\n        var range = this.range.clone();\n        var fold = new Fold(range, this.placeholder);\n        this.subFolds.forEach(function (subFold) {\n            fold.subFolds.push(subFold.clone());\n        });\n        fold.collapseChildren = this.collapseChildren;\n        return fold;\n    };\n    this.addSubFold = function (fold) {\n        if (this.range.isEqual(fold))\n            return;\n        consumeRange(fold, this.start);\n        var row = fold.start.row, column = fold.start.column;\n        for (var i = 0, cmp = -1; i < this.subFolds.length; i++) {\n            cmp = this.subFolds[i].range.compare(row, column);\n            if (cmp != 1)\n                break;\n        }\n        var afterStart = this.subFolds[i];\n        var firstConsumed = 0;\n        if (cmp == 0) {\n            if (afterStart.range.containsRange(fold))\n                return afterStart.addSubFold(fold);\n            else\n                firstConsumed = 1;\n        }\n        var row = fold.range.end.row, column = fold.range.end.column;\n        for (var j = i, cmp = -1; j < this.subFolds.length; j++) {\n            cmp = this.subFolds[j].range.compare(row, column);\n            if (cmp != 1)\n                break;\n        }\n        if (cmp == 0)\n            j++;\n        var consumedFolds = this.subFolds.splice(i, j - i, fold);\n        var last = cmp == 0 ? consumedFolds.length - 1 : consumedFolds.length;\n        for (var k = firstConsumed; k < last; k++) {\n            fold.addSubFold(consumedFolds[k]);\n        }\n        fold.setFoldLine(this.foldLine);\n        return fold;\n    };\n    this.restoreRange = function (range) {\n        return restoreRange(range, this.start);\n    };\n}).call(Fold.prototype);\nfunction consumePoint(point, anchor) {\n    point.row -= anchor.row;\n    if (point.row == 0)\n        point.column -= anchor.column;\n}\nfunction consumeRange(range, anchor) {\n    consumePoint(range.start, anchor);\n    consumePoint(range.end, anchor);\n}\nfunction restorePoint(point, anchor) {\n    if (point.row == 0)\n        point.column += anchor.column;\n    point.row += anchor.row;\n}\nfunction restoreRange(range, anchor) {\n    restorePoint(range.start, anchor);\n    restorePoint(range.end, anchor);\n}\n\n});\n\nace.define(\"ace/edit_session/folding\",[\"require\",\"exports\",\"module\",\"ace/range\",\"ace/edit_session/fold_line\",\"ace/edit_session/fold\",\"ace/token_iterator\"], function(require, exports, module){\"use strict\";\nvar Range = require(\"../range\").Range;\nvar FoldLine = require(\"./fold_line\").FoldLine;\nvar Fold = require(\"./fold\").Fold;\nvar TokenIterator = require(\"../token_iterator\").TokenIterator;\nfunction Folding() {\n    this.getFoldAt = function (row, column, side) {\n        var foldLine = this.getFoldLine(row);\n        if (!foldLine)\n            return null;\n        var folds = foldLine.folds;\n        for (var i = 0; i < folds.length; i++) {\n            var range = folds[i].range;\n            if (range.contains(row, column)) {\n                if (side == 1 && range.isEnd(row, column) && !range.isEmpty()) {\n                    continue;\n                }\n                else if (side == -1 && range.isStart(row, column) && !range.isEmpty()) {\n                    continue;\n                }\n                return folds[i];\n            }\n        }\n    };\n    this.getFoldsInRange = function (range) {\n        var start = range.start;\n        var end = range.end;\n        var foldLines = this.$foldData;\n        var foundFolds = [];\n        start.column += 1;\n        end.column -= 1;\n        for (var i = 0; i < foldLines.length; i++) {\n            var cmp = foldLines[i].range.compareRange(range);\n            if (cmp == 2) {\n                continue;\n            }\n            else if (cmp == -2) {\n                break;\n            }\n            var folds = foldLines[i].folds;\n            for (var j = 0; j < folds.length; j++) {\n                var fold = folds[j];\n                cmp = fold.range.compareRange(range);\n                if (cmp == -2) {\n                    break;\n                }\n                else if (cmp == 2) {\n                    continue;\n                }\n                else \n                if (cmp == 42) {\n                    break;\n                }\n                foundFolds.push(fold);\n            }\n        }\n        start.column -= 1;\n        end.column += 1;\n        return foundFolds;\n    };\n    this.getFoldsInRangeList = function (ranges) {\n        if (Array.isArray(ranges)) {\n            var folds = [];\n            ranges.forEach(function (range) {\n                folds = folds.concat(this.getFoldsInRange(range));\n            }, this);\n        }\n        else {\n            var folds = this.getFoldsInRange(ranges);\n        }\n        return folds;\n    };\n    this.getAllFolds = function () {\n        var folds = [];\n        var foldLines = this.$foldData;\n        for (var i = 0; i < foldLines.length; i++)\n            for (var j = 0; j < foldLines[i].folds.length; j++)\n                folds.push(foldLines[i].folds[j]);\n        return folds;\n    };\n    this.getFoldStringAt = function (row, column, trim, foldLine) {\n        foldLine = foldLine || this.getFoldLine(row);\n        if (!foldLine)\n            return null;\n        var lastFold = {\n            end: { column: 0 }\n        };\n        var str, fold;\n        for (var i = 0; i < foldLine.folds.length; i++) {\n            fold = foldLine.folds[i];\n            var cmp = fold.range.compareEnd(row, column);\n            if (cmp == -1) {\n                str = this\n                    .getLine(fold.start.row)\n                    .substring(lastFold.end.column, fold.start.column);\n                break;\n            }\n            else if (cmp === 0) {\n                return null;\n            }\n            lastFold = fold;\n        }\n        if (!str)\n            str = this.getLine(fold.start.row).substring(lastFold.end.column);\n        if (trim == -1)\n            return str.substring(0, column - lastFold.end.column);\n        else if (trim == 1)\n            return str.substring(column - lastFold.end.column);\n        else\n            return str;\n    };\n    this.getFoldLine = function (docRow, startFoldLine) {\n        var foldData = this.$foldData;\n        var i = 0;\n        if (startFoldLine)\n            i = foldData.indexOf(startFoldLine);\n        if (i == -1)\n            i = 0;\n        for (i; i < foldData.length; i++) {\n            var foldLine = foldData[i];\n            if (foldLine.start.row <= docRow && foldLine.end.row >= docRow) {\n                return foldLine;\n            }\n            else if (foldLine.end.row > docRow) {\n                return null;\n            }\n        }\n        return null;\n    };\n    this.getNextFoldLine = function (docRow, startFoldLine) {\n        var foldData = this.$foldData;\n        var i = 0;\n        if (startFoldLine)\n            i = foldData.indexOf(startFoldLine);\n        if (i == -1)\n            i = 0;\n        for (i; i < foldData.length; i++) {\n            var foldLine = foldData[i];\n            if (foldLine.end.row >= docRow) {\n                return foldLine;\n            }\n        }\n        return null;\n    };\n    this.getFoldedRowCount = function (first, last) {\n        var foldData = this.$foldData, rowCount = last - first + 1;\n        for (var i = 0; i < foldData.length; i++) {\n            var foldLine = foldData[i], end = foldLine.end.row, start = foldLine.start.row;\n            if (end >= last) {\n                if (start < last) {\n                    if (start >= first)\n                        rowCount -= last - start;\n                    else\n                        rowCount = 0; // in one fold\n                }\n                break;\n            }\n            else if (end >= first) {\n                if (start >= first) // fold inside range\n                    rowCount -= end - start;\n                else\n                    rowCount -= end - first + 1;\n            }\n        }\n        return rowCount;\n    };\n    this.$addFoldLine = function (foldLine) {\n        this.$foldData.push(foldLine);\n        this.$foldData.sort(function (a, b) {\n            return a.start.row - b.start.row;\n        });\n        return foldLine;\n    };\n    this.addFold = function (placeholder, range) {\n        var foldData = this.$foldData;\n        var added = false;\n        var fold;\n        if (placeholder instanceof Fold)\n            fold = placeholder;\n        else {\n            fold = new Fold(range, placeholder);\n            fold.collapseChildren = range.collapseChildren;\n        }\n        this.$clipRangeToDocument(fold.range);\n        var startRow = fold.start.row;\n        var startColumn = fold.start.column;\n        var endRow = fold.end.row;\n        var endColumn = fold.end.column;\n        var startFold = this.getFoldAt(startRow, startColumn, 1);\n        var endFold = this.getFoldAt(endRow, endColumn, -1);\n        if (startFold && endFold == startFold)\n            return startFold.addSubFold(fold);\n        if (startFold && !startFold.range.isStart(startRow, startColumn))\n            this.removeFold(startFold);\n        if (endFold && !endFold.range.isEnd(endRow, endColumn))\n            this.removeFold(endFold);\n        var folds = this.getFoldsInRange(fold.range);\n        if (folds.length > 0) {\n            this.removeFolds(folds);\n            if (!fold.collapseChildren) {\n                folds.forEach(function (subFold) {\n                    fold.addSubFold(subFold);\n                });\n            }\n        }\n        for (var i = 0; i < foldData.length; i++) {\n            var foldLine = foldData[i];\n            if (endRow == foldLine.start.row) {\n                foldLine.addFold(fold);\n                added = true;\n                break;\n            }\n            else if (startRow == foldLine.end.row) {\n                foldLine.addFold(fold);\n                added = true;\n                if (!fold.sameRow) {\n                    var foldLineNext = foldData[i + 1];\n                    if (foldLineNext && foldLineNext.start.row == endRow) {\n                        foldLine.merge(foldLineNext);\n                        break;\n                    }\n                }\n                break;\n            }\n            else if (endRow <= foldLine.start.row) {\n                break;\n            }\n        }\n        if (!added)\n            foldLine = this.$addFoldLine(new FoldLine(this.$foldData, fold));\n        if (this.$useWrapMode)\n            this.$updateWrapData(foldLine.start.row, foldLine.start.row);\n        else\n            this.$updateRowLengthCache(foldLine.start.row, foldLine.start.row);\n        this.$modified = true;\n        this._signal(\"changeFold\", { data: fold, action: \"add\" });\n        return fold;\n    };\n    this.addFolds = function (folds) {\n        folds.forEach(function (fold) {\n            this.addFold(fold);\n        }, this);\n    };\n    this.removeFold = function (fold) {\n        var foldLine = fold.foldLine;\n        var startRow = foldLine.start.row;\n        var endRow = foldLine.end.row;\n        var foldLines = this.$foldData;\n        var folds = foldLine.folds;\n        if (folds.length == 1) {\n            foldLines.splice(foldLines.indexOf(foldLine), 1);\n        }\n        else \n        if (foldLine.range.isEnd(fold.end.row, fold.end.column)) {\n            folds.pop();\n            foldLine.end.row = folds[folds.length - 1].end.row;\n            foldLine.end.column = folds[folds.length - 1].end.column;\n        }\n        else \n        if (foldLine.range.isStart(fold.start.row, fold.start.column)) {\n            folds.shift();\n            foldLine.start.row = folds[0].start.row;\n            foldLine.start.column = folds[0].start.column;\n        }\n        else \n        if (fold.sameRow) {\n            folds.splice(folds.indexOf(fold), 1);\n        }\n        else \n        {\n            var newFoldLine = foldLine.split(fold.start.row, fold.start.column);\n            folds = newFoldLine.folds;\n            folds.shift();\n            newFoldLine.start.row = folds[0].start.row;\n            newFoldLine.start.column = folds[0].start.column;\n        }\n        if (!this.$updating) {\n            if (this.$useWrapMode)\n                this.$updateWrapData(startRow, endRow);\n            else\n                this.$updateRowLengthCache(startRow, endRow);\n        }\n        this.$modified = true;\n        this._signal(\"changeFold\", { data: fold, action: \"remove\" });\n    };\n    this.removeFolds = function (folds) {\n        var cloneFolds = [];\n        for (var i = 0; i < folds.length; i++) {\n            cloneFolds.push(folds[i]);\n        }\n        cloneFolds.forEach(function (fold) {\n            this.removeFold(fold);\n        }, this);\n        this.$modified = true;\n    };\n    this.expandFold = function (fold) {\n        this.removeFold(fold);\n        fold.subFolds.forEach(function (subFold) {\n            fold.restoreRange(subFold);\n            this.addFold(subFold);\n        }, this);\n        if (fold.collapseChildren > 0) {\n            this.foldAll(fold.start.row + 1, fold.end.row, fold.collapseChildren - 1);\n        }\n        fold.subFolds = [];\n    };\n    this.expandFolds = function (folds) {\n        folds.forEach(function (fold) {\n            this.expandFold(fold);\n        }, this);\n    };\n    this.unfold = function (location, expandInner) {\n        var range, folds;\n        if (location == null) {\n            range = new Range(0, 0, this.getLength(), 0);\n            if (expandInner == null)\n                expandInner = true;\n        }\n        else if (typeof location == \"number\") {\n            range = new Range(location, 0, location, this.getLine(location).length);\n        }\n        else if (\"row\" in location) {\n            range = Range.fromPoints(location, location);\n        }\n        else if (Array.isArray(location)) {\n            folds = [];\n            location.forEach(function (range) {\n                folds = folds.concat(this.unfold(range));\n            }, this);\n            return folds;\n        }\n        else {\n            range = location;\n        }\n        folds = this.getFoldsInRangeList(range);\n        var outermostFolds = folds;\n        while (folds.length == 1\n            && Range.comparePoints(folds[0].start, range.start) < 0\n            && Range.comparePoints(folds[0].end, range.end) > 0) {\n            this.expandFolds(folds);\n            folds = this.getFoldsInRangeList(range);\n        }\n        if (expandInner != false) {\n            this.removeFolds(folds);\n        }\n        else {\n            this.expandFolds(folds);\n        }\n        if (outermostFolds.length)\n            return outermostFolds;\n    };\n    this.isRowFolded = function (docRow, startFoldRow) {\n        return !!this.getFoldLine(docRow, startFoldRow);\n    };\n    this.getRowFoldEnd = function (docRow, startFoldRow) {\n        var foldLine = this.getFoldLine(docRow, startFoldRow);\n        return foldLine ? foldLine.end.row : docRow;\n    };\n    this.getRowFoldStart = function (docRow, startFoldRow) {\n        var foldLine = this.getFoldLine(docRow, startFoldRow);\n        return foldLine ? foldLine.start.row : docRow;\n    };\n    this.getFoldDisplayLine = function (foldLine, endRow, endColumn, startRow, startColumn) {\n        if (startRow == null)\n            startRow = foldLine.start.row;\n        if (startColumn == null)\n            startColumn = 0;\n        if (endRow == null)\n            endRow = foldLine.end.row;\n        if (endColumn == null)\n            endColumn = this.getLine(endRow).length;\n        var doc = this.doc;\n        var textLine = \"\";\n        foldLine.walk(function (placeholder, row, column, lastColumn) {\n            if (row < startRow)\n                return;\n            if (row == startRow) {\n                if (column < startColumn)\n                    return;\n                lastColumn = Math.max(startColumn, lastColumn);\n            }\n            if (placeholder != null) {\n                textLine += placeholder;\n            }\n            else {\n                textLine += doc.getLine(row).substring(lastColumn, column);\n            }\n        }, endRow, endColumn);\n        return textLine;\n    };\n    this.getDisplayLine = function (row, endColumn, startRow, startColumn) {\n        var foldLine = this.getFoldLine(row);\n        if (!foldLine) {\n            var line;\n            line = this.doc.getLine(row);\n            return line.substring(startColumn || 0, endColumn || line.length);\n        }\n        else {\n            return this.getFoldDisplayLine(foldLine, row, endColumn, startRow, startColumn);\n        }\n    };\n    this.$cloneFoldData = function () {\n        var fd = [];\n        fd = this.$foldData.map(function (foldLine) {\n            var folds = foldLine.folds.map(function (fold) {\n                return fold.clone();\n            });\n            return new FoldLine(fd, folds);\n        });\n        return fd;\n    };\n    this.toggleFold = function (tryToUnfold) {\n        var selection = this.selection;\n        var range = selection.getRange();\n        var fold;\n        var bracketPos;\n        if (range.isEmpty()) {\n            var cursor = range.start;\n            fold = this.getFoldAt(cursor.row, cursor.column);\n            if (fold) {\n                this.expandFold(fold);\n                return;\n            }\n            else if (bracketPos = this.findMatchingBracket(cursor)) {\n                if (range.comparePoint(bracketPos) == 1) {\n                    range.end = bracketPos;\n                }\n                else {\n                    range.start = bracketPos;\n                    range.start.column++;\n                    range.end.column--;\n                }\n            }\n            else if (bracketPos = this.findMatchingBracket({ row: cursor.row, column: cursor.column + 1 })) {\n                if (range.comparePoint(bracketPos) == 1)\n                    range.end = bracketPos;\n                else\n                    range.start = bracketPos;\n                range.start.column++;\n            }\n            else {\n                range = this.getCommentFoldRange(cursor.row, cursor.column) || range;\n            }\n        }\n        else {\n            var folds = this.getFoldsInRange(range);\n            if (tryToUnfold && folds.length) {\n                this.expandFolds(folds);\n                return;\n            }\n            else if (folds.length == 1) {\n                fold = folds[0];\n            }\n        }\n        if (!fold)\n            fold = this.getFoldAt(range.start.row, range.start.column);\n        if (fold && fold.range.toString() == range.toString()) {\n            this.expandFold(fold);\n            return;\n        }\n        var placeholder = \"...\";\n        if (!range.isMultiLine()) {\n            placeholder = this.getTextRange(range);\n            if (placeholder.length < 4)\n                return;\n            placeholder = placeholder.trim().substring(0, 2) + \"..\";\n        }\n        this.addFold(placeholder, range);\n    };\n    this.getCommentFoldRange = function (row, column, dir) {\n        var iterator = new TokenIterator(this, row, column);\n        var token = iterator.getCurrentToken();\n        var type = token && token.type;\n        if (token && /^comment|string/.test(type)) {\n            type = type.match(/comment|string/)[0];\n            if (type == \"comment\")\n                type += \"|doc-start\";\n            var re = new RegExp(type);\n            var range = new Range();\n            if (dir != 1) {\n                do {\n                    token = iterator.stepBackward();\n                } while (token && re.test(token.type));\n                iterator.stepForward();\n            }\n            range.start.row = iterator.getCurrentTokenRow();\n            range.start.column = iterator.getCurrentTokenColumn() + 2;\n            iterator = new TokenIterator(this, row, column);\n            if (dir != -1) {\n                var lastRow = -1;\n                do {\n                    token = iterator.stepForward();\n                    if (lastRow == -1) {\n                        var state = this.getState(iterator.$row);\n                        if (!re.test(state))\n                            lastRow = iterator.$row;\n                    }\n                    else if (iterator.$row > lastRow) {\n                        break;\n                    }\n                } while (token && re.test(token.type));\n                token = iterator.stepBackward();\n            }\n            else\n                token = iterator.getCurrentToken();\n            range.end.row = iterator.getCurrentTokenRow();\n            range.end.column = iterator.getCurrentTokenColumn() + token.value.length - 2;\n            return range;\n        }\n    };\n    this.foldAll = function (startRow, endRow, depth, test) {\n        if (depth == undefined)\n            depth = 100000; // JSON.stringify doesn't hanle Infinity\n        var foldWidgets = this.foldWidgets;\n        if (!foldWidgets)\n            return; // mode doesn't support folding\n        endRow = endRow || this.getLength();\n        startRow = startRow || 0;\n        for (var row = startRow; row < endRow; row++) {\n            if (foldWidgets[row] == null)\n                foldWidgets[row] = this.getFoldWidget(row);\n            if (foldWidgets[row] != \"start\")\n                continue;\n            if (test && !test(row))\n                continue;\n            var range = this.getFoldWidgetRange(row);\n            if (range && range.isMultiLine()\n                && range.end.row <= endRow\n                && range.start.row >= startRow) {\n                row = range.end.row;\n                range.collapseChildren = depth;\n                this.addFold(\"...\", range);\n            }\n        }\n    };\n    this.foldToLevel = function (level) {\n        this.foldAll();\n        while (level-- > 0)\n            this.unfold(null, false);\n    };\n    this.foldAllComments = function () {\n        var session = this;\n        this.foldAll(null, null, null, function (row) {\n            var tokens = session.getTokens(row);\n            for (var i = 0; i < tokens.length; i++) {\n                var token = tokens[i];\n                if (token.type == \"text\" && /^\\s+$/.test(token.value))\n                    continue;\n                if (/comment/.test(token.type))\n                    return true;\n                return false;\n            }\n        });\n    };\n    this.$foldStyles = {\n        \"manual\": 1,\n        \"markbegin\": 1,\n        \"markbeginend\": 1\n    };\n    this.$foldStyle = \"markbegin\";\n    this.setFoldStyle = function (style) {\n        if (!this.$foldStyles[style])\n            throw new Error(\"invalid fold style: \" + style + \"[\" + Object.keys(this.$foldStyles).join(\", \") + \"]\");\n        if (this.$foldStyle == style)\n            return;\n        this.$foldStyle = style;\n        if (style == \"manual\")\n            this.unfold();\n        var mode = this.$foldMode;\n        this.$setFolding(null);\n        this.$setFolding(mode);\n    };\n    this.$setFolding = function (foldMode) {\n        if (this.$foldMode == foldMode)\n            return;\n        this.$foldMode = foldMode;\n        this.off('change', this.$updateFoldWidgets);\n        this.off('tokenizerUpdate', this.$tokenizerUpdateFoldWidgets);\n        this._signal(\"changeAnnotation\");\n        if (!foldMode || this.$foldStyle == \"manual\") {\n            this.foldWidgets = null;\n            return;\n        }\n        this.foldWidgets = [];\n        this.getFoldWidget = foldMode.getFoldWidget.bind(foldMode, this, this.$foldStyle);\n        this.getFoldWidgetRange = foldMode.getFoldWidgetRange.bind(foldMode, this, this.$foldStyle);\n        this.$updateFoldWidgets = this.updateFoldWidgets.bind(this);\n        this.$tokenizerUpdateFoldWidgets = this.tokenizerUpdateFoldWidgets.bind(this);\n        this.on('change', this.$updateFoldWidgets);\n        this.on('tokenizerUpdate', this.$tokenizerUpdateFoldWidgets);\n    };\n    this.getParentFoldRangeData = function (row, ignoreCurrent) {\n        var fw = this.foldWidgets;\n        if (!fw || (ignoreCurrent && fw[row]))\n            return {};\n        var i = row - 1, firstRange;\n        while (i >= 0) {\n            var c = fw[i];\n            if (c == null)\n                c = fw[i] = this.getFoldWidget(i);\n            if (c == \"start\") {\n                var range = this.getFoldWidgetRange(i);\n                if (!firstRange)\n                    firstRange = range;\n                if (range && range.end.row >= row)\n                    break;\n            }\n            i--;\n        }\n        return {\n            range: i !== -1 && range,\n            firstRange: firstRange\n        };\n    };\n    this.onFoldWidgetClick = function (row, e) {\n        e = e.domEvent;\n        var options = {\n            children: e.shiftKey,\n            all: e.ctrlKey || e.metaKey,\n            siblings: e.altKey\n        };\n        var range = this.$toggleFoldWidget(row, options);\n        if (!range) {\n            var el = (e.target || e.srcElement);\n            if (el && /ace_fold-widget/.test(el.className))\n                el.className += \" ace_invalid\";\n        }\n    };\n    this.$toggleFoldWidget = function (row, options) {\n        if (!this.getFoldWidget)\n            return;\n        var type = this.getFoldWidget(row);\n        var line = this.getLine(row);\n        var dir = type === \"end\" ? -1 : 1;\n        var fold = this.getFoldAt(row, dir === -1 ? 0 : line.length, dir);\n        if (fold) {\n            if (options.children || options.all)\n                this.removeFold(fold);\n            else\n                this.expandFold(fold);\n            return fold;\n        }\n        var range = this.getFoldWidgetRange(row, true);\n        if (range && !range.isMultiLine()) {\n            fold = this.getFoldAt(range.start.row, range.start.column, 1);\n            if (fold && range.isEqual(fold.range)) {\n                this.removeFold(fold);\n                return fold;\n            }\n        }\n        if (options.siblings) {\n            var data = this.getParentFoldRangeData(row);\n            if (data.range) {\n                var startRow = data.range.start.row + 1;\n                var endRow = data.range.end.row;\n            }\n            this.foldAll(startRow, endRow, options.all ? 10000 : 0);\n        }\n        else if (options.children) {\n            endRow = range ? range.end.row : this.getLength();\n            this.foldAll(row + 1, endRow, options.all ? 10000 : 0);\n        }\n        else if (range) {\n            if (options.all)\n                range.collapseChildren = 10000;\n            this.addFold(\"...\", range);\n        }\n        return range;\n    };\n    this.toggleFoldWidget = function (toggleParent) {\n        var row = this.selection.getCursor().row;\n        row = this.getRowFoldStart(row);\n        var range = this.$toggleFoldWidget(row, {});\n        if (range)\n            return;\n        var data = this.getParentFoldRangeData(row, true);\n        range = data.range || data.firstRange;\n        if (range) {\n            row = range.start.row;\n            var fold = this.getFoldAt(row, this.getLine(row).length, 1);\n            if (fold) {\n                this.removeFold(fold);\n            }\n            else {\n                this.addFold(\"...\", range);\n            }\n        }\n    };\n    this.updateFoldWidgets = function (delta) {\n        var firstRow = delta.start.row;\n        var len = delta.end.row - firstRow;\n        if (len === 0) {\n            this.foldWidgets[firstRow] = null;\n        }\n        else if (delta.action == 'remove') {\n            this.foldWidgets.splice(firstRow, len + 1, null);\n        }\n        else {\n            var args = Array(len + 1);\n            args.unshift(firstRow, 1);\n            this.foldWidgets.splice.apply(this.foldWidgets, args);\n        }\n    };\n    this.tokenizerUpdateFoldWidgets = function (e) {\n        var rows = e.data;\n        if (rows.first != rows.last) {\n            if (this.foldWidgets.length > rows.first)\n                this.foldWidgets.splice(rows.first, this.foldWidgets.length);\n        }\n    };\n}\nexports.Folding = Folding;\n\n});\n\nace.define(\"ace/edit_session/bracket_match\",[\"require\",\"exports\",\"module\",\"ace/token_iterator\",\"ace/range\"], function(require, exports, module){\"use strict\";\nvar TokenIterator = require(\"../token_iterator\").TokenIterator;\nvar Range = require(\"../range\").Range;\nfunction BracketMatch() {\n    this.findMatchingBracket = function (position, chr) {\n        if (position.column == 0)\n            return null;\n        var charBeforeCursor = chr || this.getLine(position.row).charAt(position.column - 1);\n        if (charBeforeCursor == \"\")\n            return null;\n        var match = charBeforeCursor.match(/([\\(\\[\\{])|([\\)\\]\\}])/);\n        if (!match)\n            return null;\n        if (match[1])\n            return this.$findClosingBracket(match[1], position);\n        else\n            return this.$findOpeningBracket(match[2], position);\n    };\n    this.getBracketRange = function (pos) {\n        var line = this.getLine(pos.row);\n        var before = true, range;\n        var chr = line.charAt(pos.column - 1);\n        var match = chr && chr.match(/([\\(\\[\\{])|([\\)\\]\\}])/);\n        if (!match) {\n            chr = line.charAt(pos.column);\n            pos = { row: pos.row, column: pos.column + 1 };\n            match = chr && chr.match(/([\\(\\[\\{])|([\\)\\]\\}])/);\n            before = false;\n        }\n        if (!match)\n            return null;\n        if (match[1]) {\n            var bracketPos = this.$findClosingBracket(match[1], pos);\n            if (!bracketPos)\n                return null;\n            range = Range.fromPoints(pos, bracketPos);\n            if (!before) {\n                range.end.column++;\n                range.start.column--;\n            }\n            range.cursor = range.end;\n        }\n        else {\n            var bracketPos = this.$findOpeningBracket(match[2], pos);\n            if (!bracketPos)\n                return null;\n            range = Range.fromPoints(bracketPos, pos);\n            if (!before) {\n                range.start.column++;\n                range.end.column--;\n            }\n            range.cursor = range.start;\n        }\n        return range;\n    };\n    this.getMatchingBracketRanges = function (pos) {\n        var line = this.getLine(pos.row);\n        var chr = line.charAt(pos.column - 1);\n        var match = chr && chr.match(/([\\(\\[\\{])|([\\)\\]\\}])/);\n        if (!match) {\n            chr = line.charAt(pos.column);\n            pos = { row: pos.row, column: pos.column + 1 };\n            match = chr && chr.match(/([\\(\\[\\{])|([\\)\\]\\}])/);\n        }\n        if (!match)\n            return null;\n        var startRange = new Range(pos.row, pos.column - 1, pos.row, pos.column);\n        var bracketPos = match[1] ? this.$findClosingBracket(match[1], pos)\n            : this.$findOpeningBracket(match[2], pos);\n        if (!bracketPos)\n            return [startRange];\n        var endRange = new Range(bracketPos.row, bracketPos.column, bracketPos.row, bracketPos.column + 1);\n        return [startRange, endRange];\n    };\n    this.$brackets = {\n        \")\": \"(\",\n        \"(\": \")\",\n        \"]\": \"[\",\n        \"[\": \"]\",\n        \"{\": \"}\",\n        \"}\": \"{\",\n        \"<\": \">\",\n        \">\": \"<\"\n    };\n    this.$findOpeningBracket = function (bracket, position, typeRe) {\n        var openBracket = this.$brackets[bracket];\n        var depth = 1;\n        var iterator = new TokenIterator(this, position.row, position.column);\n        var token = iterator.getCurrentToken();\n        if (!token)\n            token = iterator.stepForward();\n        if (!token)\n            return;\n        if (!typeRe) {\n            typeRe = new RegExp(\"(\\\\.?\" +\n                token.type.replace(\".\", \"\\\\.\").replace(\"rparen\", \".paren\")\n                    .replace(/\\b(?:end)\\b/, \"(?:start|begin|end)\")\n                + \")+\");\n        }\n        var valueIndex = position.column - iterator.getCurrentTokenColumn() - 2;\n        var value = token.value;\n        while (true) {\n            while (valueIndex >= 0) {\n                var chr = value.charAt(valueIndex);\n                if (chr == openBracket) {\n                    depth -= 1;\n                    if (depth == 0) {\n                        return { row: iterator.getCurrentTokenRow(),\n                            column: valueIndex + iterator.getCurrentTokenColumn() };\n                    }\n                }\n                else if (chr == bracket) {\n                    depth += 1;\n                }\n                valueIndex -= 1;\n            }\n            do {\n                token = iterator.stepBackward();\n            } while (token && !typeRe.test(token.type));\n            if (token == null)\n                break;\n            value = token.value;\n            valueIndex = value.length - 1;\n        }\n        return null;\n    };\n    this.$findClosingBracket = function (bracket, position, typeRe) {\n        var closingBracket = this.$brackets[bracket];\n        var depth = 1;\n        var iterator = new TokenIterator(this, position.row, position.column);\n        var token = iterator.getCurrentToken();\n        if (!token)\n            token = iterator.stepForward();\n        if (!token)\n            return;\n        if (!typeRe) {\n            typeRe = new RegExp(\"(\\\\.?\" +\n                token.type.replace(\".\", \"\\\\.\").replace(\"lparen\", \".paren\")\n                    .replace(/\\b(?:start|begin)\\b/, \"(?:start|begin|end)\")\n                + \")+\");\n        }\n        var valueIndex = position.column - iterator.getCurrentTokenColumn();\n        while (true) {\n            var value = token.value;\n            var valueLength = value.length;\n            while (valueIndex < valueLength) {\n                var chr = value.charAt(valueIndex);\n                if (chr == closingBracket) {\n                    depth -= 1;\n                    if (depth == 0) {\n                        return { row: iterator.getCurrentTokenRow(),\n                            column: valueIndex + iterator.getCurrentTokenColumn() };\n                    }\n                }\n                else if (chr == bracket) {\n                    depth += 1;\n                }\n                valueIndex += 1;\n            }\n            do {\n                token = iterator.stepForward();\n            } while (token && !typeRe.test(token.type));\n            if (token == null)\n                break;\n            valueIndex = 0;\n        }\n        return null;\n    };\n}\nexports.BracketMatch = BracketMatch;\n\n});\n\nace.define(\"ace/edit_session\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/lang\",\"ace/bidihandler\",\"ace/config\",\"ace/lib/event_emitter\",\"ace/selection\",\"ace/mode/text\",\"ace/range\",\"ace/document\",\"ace/background_tokenizer\",\"ace/search_highlight\",\"ace/edit_session/folding\",\"ace/edit_session/bracket_match\"], function(require, exports, module){\"use strict\";\nvar oop = require(\"./lib/oop\");\nvar lang = require(\"./lib/lang\");\nvar BidiHandler = require(\"./bidihandler\").BidiHandler;\nvar config = require(\"./config\");\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar Selection = require(\"./selection\").Selection;\nvar TextMode = require(\"./mode/text\").Mode;\nvar Range = require(\"./range\").Range;\nvar Document = require(\"./document\").Document;\nvar BackgroundTokenizer = require(\"./background_tokenizer\").BackgroundTokenizer;\nvar SearchHighlight = require(\"./search_highlight\").SearchHighlight;\nvar EditSession = function (text, mode) {\n    this.$breakpoints = [];\n    this.$decorations = [];\n    this.$frontMarkers = {};\n    this.$backMarkers = {};\n    this.$markerId = 1;\n    this.$undoSelect = true;\n    this.$foldData = [];\n    this.id = \"session\" + (++EditSession.$uid);\n    this.$foldData.toString = function () {\n        return this.join(\"\\n\");\n    };\n    this.bgTokenizer = new BackgroundTokenizer((new TextMode()).getTokenizer(), this);\n    var _self = this;\n    this.bgTokenizer.on(\"update\", function (e) {\n        _self._signal(\"tokenizerUpdate\", e);\n    });\n    this.on(\"changeFold\", this.onChangeFold.bind(this));\n    this.$onChange = this.onChange.bind(this);\n    if (typeof text != \"object\" || !text.getLine)\n        text = new Document(text);\n    this.setDocument(text);\n    this.selection = new Selection(this);\n    this.$bidiHandler = new BidiHandler(this);\n    config.resetOptions(this);\n    this.setMode(mode);\n    config._signal(\"session\", this);\n    this.destroyed = false;\n};\nEditSession.$uid = 0;\n(function () {\n    oop.implement(this, EventEmitter);\n    this.setDocument = function (doc) {\n        if (this.doc)\n            this.doc.off(\"change\", this.$onChange);\n        this.doc = doc;\n        doc.on(\"change\", this.$onChange, true);\n        this.bgTokenizer.setDocument(this.getDocument());\n        this.resetCaches();\n    };\n    this.getDocument = function () {\n        return this.doc;\n    };\n    this.$resetRowCache = function (docRow) {\n        if (!docRow) {\n            this.$docRowCache = [];\n            this.$screenRowCache = [];\n            return;\n        }\n        var l = this.$docRowCache.length;\n        var i = this.$getRowCacheIndex(this.$docRowCache, docRow) + 1;\n        if (l > i) {\n            this.$docRowCache.splice(i, l);\n            this.$screenRowCache.splice(i, l);\n        }\n    };\n    this.$getRowCacheIndex = function (cacheArray, val) {\n        var low = 0;\n        var hi = cacheArray.length - 1;\n        while (low <= hi) {\n            var mid = (low + hi) >> 1;\n            var c = cacheArray[mid];\n            if (val > c)\n                low = mid + 1;\n            else if (val < c)\n                hi = mid - 1;\n            else\n                return mid;\n        }\n        return low - 1;\n    };\n    this.resetCaches = function () {\n        this.$modified = true;\n        this.$wrapData = [];\n        this.$rowLengthCache = [];\n        this.$resetRowCache(0);\n        if (!this.destroyed)\n            this.bgTokenizer.start(0);\n    };\n    this.onChangeFold = function (e) {\n        var fold = e.data;\n        this.$resetRowCache(fold.start.row);\n    };\n    this.onChange = function (delta) {\n        this.$modified = true;\n        this.$bidiHandler.onChange(delta);\n        this.$resetRowCache(delta.start.row);\n        var removedFolds = this.$updateInternalDataOnChange(delta);\n        if (!this.$fromUndo && this.$undoManager) {\n            if (removedFolds && removedFolds.length) {\n                this.$undoManager.add({\n                    action: \"removeFolds\",\n                    folds: removedFolds\n                }, this.mergeUndoDeltas);\n                this.mergeUndoDeltas = true;\n            }\n            this.$undoManager.add(delta, this.mergeUndoDeltas);\n            this.mergeUndoDeltas = true;\n            this.$informUndoManager.schedule();\n        }\n        this.bgTokenizer.$updateOnChange(delta);\n        this._signal(\"change\", delta);\n    };\n    this.setValue = function (text) {\n        this.doc.setValue(text);\n        this.selection.moveTo(0, 0);\n        this.$resetRowCache(0);\n        this.setUndoManager(this.$undoManager);\n        this.getUndoManager().reset();\n    };\n    this.getValue =\n        this.toString = function () {\n            return this.doc.getValue();\n        };\n    this.getSelection = function () {\n        return this.selection;\n    };\n    this.getState = function (row) {\n        return this.bgTokenizer.getState(row);\n    };\n    this.getTokens = function (row) {\n        return this.bgTokenizer.getTokens(row);\n    };\n    this.getTokenAt = function (row, column) {\n        var tokens = this.bgTokenizer.getTokens(row);\n        var token, c = 0;\n        if (column == null) {\n            var i = tokens.length - 1;\n            c = this.getLine(row).length;\n        }\n        else {\n            for (var i = 0; i < tokens.length; i++) {\n                c += tokens[i].value.length;\n                if (c >= column)\n                    break;\n            }\n        }\n        token = tokens[i];\n        if (!token)\n            return null;\n        token.index = i;\n        token.start = c - token.value.length;\n        return token;\n    };\n    this.setUndoManager = function (undoManager) {\n        this.$undoManager = undoManager;\n        if (this.$informUndoManager)\n            this.$informUndoManager.cancel();\n        if (undoManager) {\n            var self = this;\n            undoManager.addSession(this);\n            this.$syncInformUndoManager = function () {\n                self.$informUndoManager.cancel();\n                self.mergeUndoDeltas = false;\n            };\n            this.$informUndoManager = lang.delayedCall(this.$syncInformUndoManager);\n        }\n        else {\n            this.$syncInformUndoManager = function () { };\n        }\n    };\n    this.markUndoGroup = function () {\n        if (this.$syncInformUndoManager)\n            this.$syncInformUndoManager();\n    };\n    this.$defaultUndoManager = {\n        undo: function () { },\n        redo: function () { },\n        hasUndo: function () { },\n        hasRedo: function () { },\n        reset: function () { },\n        add: function () { },\n        addSelection: function () { },\n        startNewGroup: function () { },\n        addSession: function () { }\n    };\n    this.getUndoManager = function () {\n        return this.$undoManager || this.$defaultUndoManager;\n    };\n    this.getTabString = function () {\n        if (this.getUseSoftTabs()) {\n            return lang.stringRepeat(\" \", this.getTabSize());\n        }\n        else {\n            return \"\\t\";\n        }\n    };\n    this.setUseSoftTabs = function (val) {\n        this.setOption(\"useSoftTabs\", val);\n    };\n    this.getUseSoftTabs = function () {\n        return this.$useSoftTabs && !this.$mode.$indentWithTabs;\n    };\n    this.setTabSize = function (tabSize) {\n        this.setOption(\"tabSize\", tabSize);\n    };\n    this.getTabSize = function () {\n        return this.$tabSize;\n    };\n    this.isTabStop = function (position) {\n        return this.$useSoftTabs && (position.column % this.$tabSize === 0);\n    };\n    this.setNavigateWithinSoftTabs = function (navigateWithinSoftTabs) {\n        this.setOption(\"navigateWithinSoftTabs\", navigateWithinSoftTabs);\n    };\n    this.getNavigateWithinSoftTabs = function () {\n        return this.$navigateWithinSoftTabs;\n    };\n    this.$overwrite = false;\n    this.setOverwrite = function (overwrite) {\n        this.setOption(\"overwrite\", overwrite);\n    };\n    this.getOverwrite = function () {\n        return this.$overwrite;\n    };\n    this.toggleOverwrite = function () {\n        this.setOverwrite(!this.$overwrite);\n    };\n    this.addGutterDecoration = function (row, className) {\n        if (!this.$decorations[row])\n            this.$decorations[row] = \"\";\n        this.$decorations[row] += \" \" + className;\n        this._signal(\"changeBreakpoint\", {});\n    };\n    this.removeGutterDecoration = function (row, className) {\n        this.$decorations[row] = (this.$decorations[row] || \"\").replace(\" \" + className, \"\");\n        this._signal(\"changeBreakpoint\", {});\n    };\n    this.getBreakpoints = function () {\n        return this.$breakpoints;\n    };\n    this.setBreakpoints = function (rows) {\n        this.$breakpoints = [];\n        for (var i = 0; i < rows.length; i++) {\n            this.$breakpoints[rows[i]] = \"ace_breakpoint\";\n        }\n        this._signal(\"changeBreakpoint\", {});\n    };\n    this.clearBreakpoints = function () {\n        this.$breakpoints = [];\n        this._signal(\"changeBreakpoint\", {});\n    };\n    this.setBreakpoint = function (row, className) {\n        if (className === undefined)\n            className = \"ace_breakpoint\";\n        if (className)\n            this.$breakpoints[row] = className;\n        else\n            delete this.$breakpoints[row];\n        this._signal(\"changeBreakpoint\", {});\n    };\n    this.clearBreakpoint = function (row) {\n        delete this.$breakpoints[row];\n        this._signal(\"changeBreakpoint\", {});\n    };\n    this.addMarker = function (range, clazz, type, inFront) {\n        var id = this.$markerId++;\n        var marker = {\n            range: range,\n            type: type || \"line\",\n            renderer: typeof type == \"function\" ? type : null,\n            clazz: clazz,\n            inFront: !!inFront,\n            id: id\n        };\n        if (inFront) {\n            this.$frontMarkers[id] = marker;\n            this._signal(\"changeFrontMarker\");\n        }\n        else {\n            this.$backMarkers[id] = marker;\n            this._signal(\"changeBackMarker\");\n        }\n        return id;\n    };\n    this.addDynamicMarker = function (marker, inFront) {\n        if (!marker.update)\n            return;\n        var id = this.$markerId++;\n        marker.id = id;\n        marker.inFront = !!inFront;\n        if (inFront) {\n            this.$frontMarkers[id] = marker;\n            this._signal(\"changeFrontMarker\");\n        }\n        else {\n            this.$backMarkers[id] = marker;\n            this._signal(\"changeBackMarker\");\n        }\n        return marker;\n    };\n    this.removeMarker = function (markerId) {\n        var marker = this.$frontMarkers[markerId] || this.$backMarkers[markerId];\n        if (!marker)\n            return;\n        var markers = marker.inFront ? this.$frontMarkers : this.$backMarkers;\n        delete (markers[markerId]);\n        this._signal(marker.inFront ? \"changeFrontMarker\" : \"changeBackMarker\");\n    };\n    this.getMarkers = function (inFront) {\n        return inFront ? this.$frontMarkers : this.$backMarkers;\n    };\n    this.highlight = function (re) {\n        if (!this.$searchHighlight) {\n            var highlight = new SearchHighlight(null, \"ace_selected-word\", \"text\");\n            this.$searchHighlight = this.addDynamicMarker(highlight);\n        }\n        this.$searchHighlight.setRegexp(re);\n    };\n    this.highlightLines = function (startRow, endRow, clazz, inFront) {\n        if (typeof endRow != \"number\") {\n            clazz = endRow;\n            endRow = startRow;\n        }\n        if (!clazz)\n            clazz = \"ace_step\";\n        var range = new Range(startRow, 0, endRow, Infinity);\n        range.id = this.addMarker(range, clazz, \"fullLine\", inFront);\n        return range;\n    };\n    this.setAnnotations = function (annotations) {\n        this.$annotations = annotations;\n        this._signal(\"changeAnnotation\", {});\n    };\n    this.getAnnotations = function () {\n        return this.$annotations || [];\n    };\n    this.clearAnnotations = function () {\n        this.setAnnotations([]);\n    };\n    this.$detectNewLine = function (text) {\n        var match = text.match(/^.*?(\\r?\\n)/m);\n        if (match) {\n            this.$autoNewLine = match[1];\n        }\n        else {\n            this.$autoNewLine = \"\\n\";\n        }\n    };\n    this.getWordRange = function (row, column) {\n        var line = this.getLine(row);\n        var inToken = false;\n        if (column > 0)\n            inToken = !!line.charAt(column - 1).match(this.tokenRe);\n        if (!inToken)\n            inToken = !!line.charAt(column).match(this.tokenRe);\n        if (inToken)\n            var re = this.tokenRe;\n        else if (/^\\s+$/.test(line.slice(column - 1, column + 1)))\n            var re = /\\s/;\n        else\n            var re = this.nonTokenRe;\n        var start = column;\n        if (start > 0) {\n            do {\n                start--;\n            } while (start >= 0 && line.charAt(start).match(re));\n            start++;\n        }\n        var end = column;\n        while (end < line.length && line.charAt(end).match(re)) {\n            end++;\n        }\n        return new Range(row, start, row, end);\n    };\n    this.getAWordRange = function (row, column) {\n        var wordRange = this.getWordRange(row, column);\n        var line = this.getLine(wordRange.end.row);\n        while (line.charAt(wordRange.end.column).match(/[ \\t]/)) {\n            wordRange.end.column += 1;\n        }\n        return wordRange;\n    };\n    this.setNewLineMode = function (newLineMode) {\n        this.doc.setNewLineMode(newLineMode);\n    };\n    this.getNewLineMode = function () {\n        return this.doc.getNewLineMode();\n    };\n    this.setUseWorker = function (useWorker) { this.setOption(\"useWorker\", useWorker); };\n    this.getUseWorker = function () { return this.$useWorker; };\n    this.onReloadTokenizer = function (e) {\n        var rows = e.data;\n        this.bgTokenizer.start(rows.first);\n        this._signal(\"tokenizerUpdate\", e);\n    };\n    this.$modes = config.$modes;\n    this.$mode = null;\n    this.$modeId = null;\n    this.setMode = function (mode, cb) {\n        if (mode && typeof mode === \"object\") {\n            if (mode.getTokenizer)\n                return this.$onChangeMode(mode);\n            var options = mode;\n            var path = options.path;\n        }\n        else {\n            path = mode || \"ace/mode/text\";\n        }\n        if (!this.$modes[\"ace/mode/text\"])\n            this.$modes[\"ace/mode/text\"] = new TextMode();\n        if (this.$modes[path] && !options) {\n            this.$onChangeMode(this.$modes[path]);\n            cb && cb();\n            return;\n        }\n        this.$modeId = path;\n        config.loadModule([\"mode\", path], function (m) {\n            if (this.$modeId !== path)\n                return cb && cb();\n            if (this.$modes[path] && !options) {\n                this.$onChangeMode(this.$modes[path]);\n            }\n            else if (m && m.Mode) {\n                m = new m.Mode(options);\n                if (!options) {\n                    this.$modes[path] = m;\n                    m.$id = path;\n                }\n                this.$onChangeMode(m);\n            }\n            cb && cb();\n        }.bind(this));\n        if (!this.$mode)\n            this.$onChangeMode(this.$modes[\"ace/mode/text\"], true);\n    };\n    this.$onChangeMode = function (mode, $isPlaceholder) {\n        if (!$isPlaceholder)\n            this.$modeId = mode.$id;\n        if (this.$mode === mode)\n            return;\n        var oldMode = this.$mode;\n        this.$mode = mode;\n        this.$stopWorker();\n        if (this.$useWorker)\n            this.$startWorker();\n        var tokenizer = mode.getTokenizer();\n        if (tokenizer.on !== undefined) {\n            var onReloadTokenizer = this.onReloadTokenizer.bind(this);\n            tokenizer.on(\"update\", onReloadTokenizer);\n        }\n        this.bgTokenizer.setTokenizer(tokenizer);\n        this.bgTokenizer.setDocument(this.getDocument());\n        this.tokenRe = mode.tokenRe;\n        this.nonTokenRe = mode.nonTokenRe;\n        if (!$isPlaceholder) {\n            if (mode.attachToSession)\n                mode.attachToSession(this);\n            this.$options.wrapMethod.set.call(this, this.$wrapMethod);\n            this.$setFolding(mode.foldingRules);\n            this.bgTokenizer.start(0);\n            this._emit(\"changeMode\", { oldMode: oldMode, mode: mode });\n        }\n    };\n    this.$stopWorker = function () {\n        if (this.$worker) {\n            this.$worker.terminate();\n            this.$worker = null;\n        }\n    };\n    this.$startWorker = function () {\n        try {\n            this.$worker = this.$mode.createWorker(this);\n        }\n        catch (e) {\n            config.warn(\"Could not load worker\", e);\n            this.$worker = null;\n        }\n    };\n    this.getMode = function () {\n        return this.$mode;\n    };\n    this.$scrollTop = 0;\n    this.setScrollTop = function (scrollTop) {\n        if (this.$scrollTop === scrollTop || isNaN(scrollTop))\n            return;\n        this.$scrollTop = scrollTop;\n        this._signal(\"changeScrollTop\", scrollTop);\n    };\n    this.getScrollTop = function () {\n        return this.$scrollTop;\n    };\n    this.$scrollLeft = 0;\n    this.setScrollLeft = function (scrollLeft) {\n        if (this.$scrollLeft === scrollLeft || isNaN(scrollLeft))\n            return;\n        this.$scrollLeft = scrollLeft;\n        this._signal(\"changeScrollLeft\", scrollLeft);\n    };\n    this.getScrollLeft = function () {\n        return this.$scrollLeft;\n    };\n    this.getScreenWidth = function () {\n        this.$computeWidth();\n        if (this.lineWidgets)\n            return Math.max(this.getLineWidgetMaxWidth(), this.screenWidth);\n        return this.screenWidth;\n    };\n    this.getLineWidgetMaxWidth = function () {\n        if (this.lineWidgetsWidth != null)\n            return this.lineWidgetsWidth;\n        var width = 0;\n        this.lineWidgets.forEach(function (w) {\n            if (w && w.screenWidth > width)\n                width = w.screenWidth;\n        });\n        return this.lineWidgetWidth = width;\n    };\n    this.$computeWidth = function (force) {\n        if (this.$modified || force) {\n            this.$modified = false;\n            if (this.$useWrapMode)\n                return this.screenWidth = this.$wrapLimit;\n            var lines = this.doc.getAllLines();\n            var cache = this.$rowLengthCache;\n            var longestScreenLine = 0;\n            var foldIndex = 0;\n            var foldLine = this.$foldData[foldIndex];\n            var foldStart = foldLine ? foldLine.start.row : Infinity;\n            var len = lines.length;\n            for (var i = 0; i < len; i++) {\n                if (i > foldStart) {\n                    i = foldLine.end.row + 1;\n                    if (i >= len)\n                        break;\n                    foldLine = this.$foldData[foldIndex++];\n                    foldStart = foldLine ? foldLine.start.row : Infinity;\n                }\n                if (cache[i] == null)\n                    cache[i] = this.$getStringScreenWidth(lines[i])[0];\n                if (cache[i] > longestScreenLine)\n                    longestScreenLine = cache[i];\n            }\n            this.screenWidth = longestScreenLine;\n        }\n    };\n    this.getLine = function (row) {\n        return this.doc.getLine(row);\n    };\n    this.getLines = function (firstRow, lastRow) {\n        return this.doc.getLines(firstRow, lastRow);\n    };\n    this.getLength = function () {\n        return this.doc.getLength();\n    };\n    this.getTextRange = function (range) {\n        return this.doc.getTextRange(range || this.selection.getRange());\n    };\n    this.insert = function (position, text) {\n        return this.doc.insert(position, text);\n    };\n    this.remove = function (range) {\n        return this.doc.remove(range);\n    };\n    this.removeFullLines = function (firstRow, lastRow) {\n        return this.doc.removeFullLines(firstRow, lastRow);\n    };\n    this.undoChanges = function (deltas, dontSelect) {\n        if (!deltas.length)\n            return;\n        this.$fromUndo = true;\n        for (var i = deltas.length - 1; i != -1; i--) {\n            var delta = deltas[i];\n            if (delta.action == \"insert\" || delta.action == \"remove\") {\n                this.doc.revertDelta(delta);\n            }\n            else if (delta.folds) {\n                this.addFolds(delta.folds);\n            }\n        }\n        if (!dontSelect && this.$undoSelect) {\n            if (deltas.selectionBefore)\n                this.selection.fromJSON(deltas.selectionBefore);\n            else\n                this.selection.setRange(this.$getUndoSelection(deltas, true));\n        }\n        this.$fromUndo = false;\n    };\n    this.redoChanges = function (deltas, dontSelect) {\n        if (!deltas.length)\n            return;\n        this.$fromUndo = true;\n        for (var i = 0; i < deltas.length; i++) {\n            var delta = deltas[i];\n            if (delta.action == \"insert\" || delta.action == \"remove\") {\n                this.doc.$safeApplyDelta(delta);\n            }\n        }\n        if (!dontSelect && this.$undoSelect) {\n            if (deltas.selectionAfter)\n                this.selection.fromJSON(deltas.selectionAfter);\n            else\n                this.selection.setRange(this.$getUndoSelection(deltas, false));\n        }\n        this.$fromUndo = false;\n    };\n    this.setUndoSelect = function (enable) {\n        this.$undoSelect = enable;\n    };\n    this.$getUndoSelection = function (deltas, isUndo) {\n        function isInsert(delta) {\n            return isUndo ? delta.action !== \"insert\" : delta.action === \"insert\";\n        }\n        var range, point;\n        for (var i = 0; i < deltas.length; i++) {\n            var delta = deltas[i];\n            if (!delta.start)\n                continue; // skip folds\n            if (!range) {\n                if (isInsert(delta)) {\n                    range = Range.fromPoints(delta.start, delta.end);\n                }\n                else {\n                    range = Range.fromPoints(delta.start, delta.start);\n                }\n                continue;\n            }\n            if (isInsert(delta)) {\n                point = delta.start;\n                if (range.compare(point.row, point.column) == -1) {\n                    range.setStart(point);\n                }\n                point = delta.end;\n                if (range.compare(point.row, point.column) == 1) {\n                    range.setEnd(point);\n                }\n            }\n            else {\n                point = delta.start;\n                if (range.compare(point.row, point.column) == -1) {\n                    range = Range.fromPoints(delta.start, delta.start);\n                }\n            }\n        }\n        return range;\n    };\n    this.replace = function (range, text) {\n        return this.doc.replace(range, text);\n    };\n    this.moveText = function (fromRange, toPosition, copy) {\n        var text = this.getTextRange(fromRange);\n        var folds = this.getFoldsInRange(fromRange);\n        var toRange = Range.fromPoints(toPosition, toPosition);\n        if (!copy) {\n            this.remove(fromRange);\n            var rowDiff = fromRange.start.row - fromRange.end.row;\n            var collDiff = rowDiff ? -fromRange.end.column : fromRange.start.column - fromRange.end.column;\n            if (collDiff) {\n                if (toRange.start.row == fromRange.end.row && toRange.start.column > fromRange.end.column)\n                    toRange.start.column += collDiff;\n                if (toRange.end.row == fromRange.end.row && toRange.end.column > fromRange.end.column)\n                    toRange.end.column += collDiff;\n            }\n            if (rowDiff && toRange.start.row >= fromRange.end.row) {\n                toRange.start.row += rowDiff;\n                toRange.end.row += rowDiff;\n            }\n        }\n        toRange.end = this.insert(toRange.start, text);\n        if (folds.length) {\n            var oldStart = fromRange.start;\n            var newStart = toRange.start;\n            var rowDiff = newStart.row - oldStart.row;\n            var collDiff = newStart.column - oldStart.column;\n            this.addFolds(folds.map(function (x) {\n                x = x.clone();\n                if (x.start.row == oldStart.row)\n                    x.start.column += collDiff;\n                if (x.end.row == oldStart.row)\n                    x.end.column += collDiff;\n                x.start.row += rowDiff;\n                x.end.row += rowDiff;\n                return x;\n            }));\n        }\n        return toRange;\n    };\n    this.indentRows = function (startRow, endRow, indentString) {\n        indentString = indentString.replace(/\\t/g, this.getTabString());\n        for (var row = startRow; row <= endRow; row++)\n            this.doc.insertInLine({ row: row, column: 0 }, indentString);\n    };\n    this.outdentRows = function (range) {\n        var rowRange = range.collapseRows();\n        var deleteRange = new Range(0, 0, 0, 0);\n        var size = this.getTabSize();\n        for (var i = rowRange.start.row; i <= rowRange.end.row; ++i) {\n            var line = this.getLine(i);\n            deleteRange.start.row = i;\n            deleteRange.end.row = i;\n            for (var j = 0; j < size; ++j)\n                if (line.charAt(j) != ' ')\n                    break;\n            if (j < size && line.charAt(j) == '\\t') {\n                deleteRange.start.column = j;\n                deleteRange.end.column = j + 1;\n            }\n            else {\n                deleteRange.start.column = 0;\n                deleteRange.end.column = j;\n            }\n            this.remove(deleteRange);\n        }\n    };\n    this.$moveLines = function (firstRow, lastRow, dir) {\n        firstRow = this.getRowFoldStart(firstRow);\n        lastRow = this.getRowFoldEnd(lastRow);\n        if (dir < 0) {\n            var row = this.getRowFoldStart(firstRow + dir);\n            if (row < 0)\n                return 0;\n            var diff = row - firstRow;\n        }\n        else if (dir > 0) {\n            var row = this.getRowFoldEnd(lastRow + dir);\n            if (row > this.doc.getLength() - 1)\n                return 0;\n            var diff = row - lastRow;\n        }\n        else {\n            firstRow = this.$clipRowToDocument(firstRow);\n            lastRow = this.$clipRowToDocument(lastRow);\n            var diff = lastRow - firstRow + 1;\n        }\n        var range = new Range(firstRow, 0, lastRow, Number.MAX_VALUE);\n        var folds = this.getFoldsInRange(range).map(function (x) {\n            x = x.clone();\n            x.start.row += diff;\n            x.end.row += diff;\n            return x;\n        });\n        var lines = dir == 0\n            ? this.doc.getLines(firstRow, lastRow)\n            : this.doc.removeFullLines(firstRow, lastRow);\n        this.doc.insertFullLines(firstRow + diff, lines);\n        folds.length && this.addFolds(folds);\n        return diff;\n    };\n    this.moveLinesUp = function (firstRow, lastRow) {\n        return this.$moveLines(firstRow, lastRow, -1);\n    };\n    this.moveLinesDown = function (firstRow, lastRow) {\n        return this.$moveLines(firstRow, lastRow, 1);\n    };\n    this.duplicateLines = function (firstRow, lastRow) {\n        return this.$moveLines(firstRow, lastRow, 0);\n    };\n    this.$clipRowToDocument = function (row) {\n        return Math.max(0, Math.min(row, this.doc.getLength() - 1));\n    };\n    this.$clipColumnToRow = function (row, column) {\n        if (column < 0)\n            return 0;\n        return Math.min(this.doc.getLine(row).length, column);\n    };\n    this.$clipPositionToDocument = function (row, column) {\n        column = Math.max(0, column);\n        if (row < 0) {\n            row = 0;\n            column = 0;\n        }\n        else {\n            var len = this.doc.getLength();\n            if (row >= len) {\n                row = len - 1;\n                column = this.doc.getLine(len - 1).length;\n            }\n            else {\n                column = Math.min(this.doc.getLine(row).length, column);\n            }\n        }\n        return {\n            row: row,\n            column: column\n        };\n    };\n    this.$clipRangeToDocument = function (range) {\n        if (range.start.row < 0) {\n            range.start.row = 0;\n            range.start.column = 0;\n        }\n        else {\n            range.start.column = this.$clipColumnToRow(range.start.row, range.start.column);\n        }\n        var len = this.doc.getLength() - 1;\n        if (range.end.row > len) {\n            range.end.row = len;\n            range.end.column = this.doc.getLine(len).length;\n        }\n        else {\n            range.end.column = this.$clipColumnToRow(range.end.row, range.end.column);\n        }\n        return range;\n    };\n    this.$wrapLimit = 80;\n    this.$useWrapMode = false;\n    this.$wrapLimitRange = {\n        min: null,\n        max: null\n    };\n    this.setUseWrapMode = function (useWrapMode) {\n        if (useWrapMode != this.$useWrapMode) {\n            this.$useWrapMode = useWrapMode;\n            this.$modified = true;\n            this.$resetRowCache(0);\n            if (useWrapMode) {\n                var len = this.getLength();\n                this.$wrapData = Array(len);\n                this.$updateWrapData(0, len - 1);\n            }\n            this._signal(\"changeWrapMode\");\n        }\n    };\n    this.getUseWrapMode = function () {\n        return this.$useWrapMode;\n    };\n    this.setWrapLimitRange = function (min, max) {\n        if (this.$wrapLimitRange.min !== min || this.$wrapLimitRange.max !== max) {\n            this.$wrapLimitRange = { min: min, max: max };\n            this.$modified = true;\n            this.$bidiHandler.markAsDirty();\n            if (this.$useWrapMode)\n                this._signal(\"changeWrapMode\");\n        }\n    };\n    this.adjustWrapLimit = function (desiredLimit, $printMargin) {\n        var limits = this.$wrapLimitRange;\n        if (limits.max < 0)\n            limits = { min: $printMargin, max: $printMargin };\n        var wrapLimit = this.$constrainWrapLimit(desiredLimit, limits.min, limits.max);\n        if (wrapLimit != this.$wrapLimit && wrapLimit > 1) {\n            this.$wrapLimit = wrapLimit;\n            this.$modified = true;\n            if (this.$useWrapMode) {\n                this.$updateWrapData(0, this.getLength() - 1);\n                this.$resetRowCache(0);\n                this._signal(\"changeWrapLimit\");\n            }\n            return true;\n        }\n        return false;\n    };\n    this.$constrainWrapLimit = function (wrapLimit, min, max) {\n        if (min)\n            wrapLimit = Math.max(min, wrapLimit);\n        if (max)\n            wrapLimit = Math.min(max, wrapLimit);\n        return wrapLimit;\n    };\n    this.getWrapLimit = function () {\n        return this.$wrapLimit;\n    };\n    this.setWrapLimit = function (limit) {\n        this.setWrapLimitRange(limit, limit);\n    };\n    this.getWrapLimitRange = function () {\n        return {\n            min: this.$wrapLimitRange.min,\n            max: this.$wrapLimitRange.max\n        };\n    };\n    this.$updateInternalDataOnChange = function (delta) {\n        var useWrapMode = this.$useWrapMode;\n        var action = delta.action;\n        var start = delta.start;\n        var end = delta.end;\n        var firstRow = start.row;\n        var lastRow = end.row;\n        var len = lastRow - firstRow;\n        var removedFolds = null;\n        this.$updating = true;\n        if (len != 0) {\n            if (action === \"remove\") {\n                this[useWrapMode ? \"$wrapData\" : \"$rowLengthCache\"].splice(firstRow, len);\n                var foldLines = this.$foldData;\n                removedFolds = this.getFoldsInRange(delta);\n                this.removeFolds(removedFolds);\n                var foldLine = this.getFoldLine(end.row);\n                var idx = 0;\n                if (foldLine) {\n                    foldLine.addRemoveChars(end.row, end.column, start.column - end.column);\n                    foldLine.shiftRow(-len);\n                    var foldLineBefore = this.getFoldLine(firstRow);\n                    if (foldLineBefore && foldLineBefore !== foldLine) {\n                        foldLineBefore.merge(foldLine);\n                        foldLine = foldLineBefore;\n                    }\n                    idx = foldLines.indexOf(foldLine) + 1;\n                }\n                for (idx; idx < foldLines.length; idx++) {\n                    var foldLine = foldLines[idx];\n                    if (foldLine.start.row >= end.row) {\n                        foldLine.shiftRow(-len);\n                    }\n                }\n                lastRow = firstRow;\n            }\n            else {\n                var args = Array(len);\n                args.unshift(firstRow, 0);\n                var arr = useWrapMode ? this.$wrapData : this.$rowLengthCache;\n                arr.splice.apply(arr, args);\n                var foldLines = this.$foldData;\n                var foldLine = this.getFoldLine(firstRow);\n                var idx = 0;\n                if (foldLine) {\n                    var cmp = foldLine.range.compareInside(start.row, start.column);\n                    if (cmp == 0) {\n                        foldLine = foldLine.split(start.row, start.column);\n                        if (foldLine) {\n                            foldLine.shiftRow(len);\n                            foldLine.addRemoveChars(lastRow, 0, end.column - start.column);\n                        }\n                    }\n                    else \n                    if (cmp == -1) {\n                        foldLine.addRemoveChars(firstRow, 0, end.column - start.column);\n                        foldLine.shiftRow(len);\n                    }\n                    idx = foldLines.indexOf(foldLine) + 1;\n                }\n                for (idx; idx < foldLines.length; idx++) {\n                    var foldLine = foldLines[idx];\n                    if (foldLine.start.row >= firstRow) {\n                        foldLine.shiftRow(len);\n                    }\n                }\n            }\n        }\n        else {\n            len = Math.abs(delta.start.column - delta.end.column);\n            if (action === \"remove\") {\n                removedFolds = this.getFoldsInRange(delta);\n                this.removeFolds(removedFolds);\n                len = -len;\n            }\n            var foldLine = this.getFoldLine(firstRow);\n            if (foldLine) {\n                foldLine.addRemoveChars(firstRow, start.column, len);\n            }\n        }\n        if (useWrapMode && this.$wrapData.length != this.doc.getLength()) {\n            console.error(\"doc.getLength() and $wrapData.length have to be the same!\");\n        }\n        this.$updating = false;\n        if (useWrapMode)\n            this.$updateWrapData(firstRow, lastRow);\n        else\n            this.$updateRowLengthCache(firstRow, lastRow);\n        return removedFolds;\n    };\n    this.$updateRowLengthCache = function (firstRow, lastRow, b) {\n        this.$rowLengthCache[firstRow] = null;\n        this.$rowLengthCache[lastRow] = null;\n    };\n    this.$updateWrapData = function (firstRow, lastRow) {\n        var lines = this.doc.getAllLines();\n        var tabSize = this.getTabSize();\n        var wrapData = this.$wrapData;\n        var wrapLimit = this.$wrapLimit;\n        var tokens;\n        var foldLine;\n        var row = firstRow;\n        lastRow = Math.min(lastRow, lines.length - 1);\n        while (row <= lastRow) {\n            foldLine = this.getFoldLine(row, foldLine);\n            if (!foldLine) {\n                tokens = this.$getDisplayTokens(lines[row]);\n                wrapData[row] = this.$computeWrapSplits(tokens, wrapLimit, tabSize);\n                row++;\n            }\n            else {\n                tokens = [];\n                foldLine.walk(function (placeholder, row, column, lastColumn) {\n                    var walkTokens;\n                    if (placeholder != null) {\n                        walkTokens = this.$getDisplayTokens(placeholder, tokens.length);\n                        walkTokens[0] = PLACEHOLDER_START;\n                        for (var i = 1; i < walkTokens.length; i++) {\n                            walkTokens[i] = PLACEHOLDER_BODY;\n                        }\n                    }\n                    else {\n                        walkTokens = this.$getDisplayTokens(lines[row].substring(lastColumn, column), tokens.length);\n                    }\n                    tokens = tokens.concat(walkTokens);\n                }.bind(this), foldLine.end.row, lines[foldLine.end.row].length + 1);\n                wrapData[foldLine.start.row] = this.$computeWrapSplits(tokens, wrapLimit, tabSize);\n                row = foldLine.end.row + 1;\n            }\n        }\n    };\n    var CHAR = 1, CHAR_EXT = 2, PLACEHOLDER_START = 3, PLACEHOLDER_BODY = 4, PUNCTUATION = 9, SPACE = 10, TAB = 11, TAB_SPACE = 12;\n    this.$computeWrapSplits = function (tokens, wrapLimit, tabSize) {\n        if (tokens.length == 0) {\n            return [];\n        }\n        var splits = [];\n        var displayLength = tokens.length;\n        var lastSplit = 0, lastDocSplit = 0;\n        var isCode = this.$wrapAsCode;\n        var indentedSoftWrap = this.$indentedSoftWrap;\n        var maxIndent = wrapLimit <= Math.max(2 * tabSize, 8)\n            || indentedSoftWrap === false ? 0 : Math.floor(wrapLimit / 2);\n        function getWrapIndent() {\n            var indentation = 0;\n            if (maxIndent === 0)\n                return indentation;\n            if (indentedSoftWrap) {\n                for (var i = 0; i < tokens.length; i++) {\n                    var token = tokens[i];\n                    if (token == SPACE)\n                        indentation += 1;\n                    else if (token == TAB)\n                        indentation += tabSize;\n                    else if (token == TAB_SPACE)\n                        continue;\n                    else\n                        break;\n                }\n            }\n            if (isCode && indentedSoftWrap !== false)\n                indentation += tabSize;\n            return Math.min(indentation, maxIndent);\n        }\n        function addSplit(screenPos) {\n            var len = screenPos - lastSplit;\n            for (var i = lastSplit; i < screenPos; i++) {\n                var ch = tokens[i];\n                if (ch === 12 || ch === 2)\n                    len -= 1;\n            }\n            if (!splits.length) {\n                indent = getWrapIndent();\n                splits.indent = indent;\n            }\n            lastDocSplit += len;\n            splits.push(lastDocSplit);\n            lastSplit = screenPos;\n        }\n        var indent = 0;\n        while (displayLength - lastSplit > wrapLimit - indent) {\n            var split = lastSplit + wrapLimit - indent;\n            if (tokens[split - 1] >= SPACE && tokens[split] >= SPACE) {\n                addSplit(split);\n                continue;\n            }\n            if (tokens[split] == PLACEHOLDER_START || tokens[split] == PLACEHOLDER_BODY) {\n                for (split; split != lastSplit - 1; split--) {\n                    if (tokens[split] == PLACEHOLDER_START) {\n                        break;\n                    }\n                }\n                if (split > lastSplit) {\n                    addSplit(split);\n                    continue;\n                }\n                split = lastSplit + wrapLimit;\n                for (split; split < tokens.length; split++) {\n                    if (tokens[split] != PLACEHOLDER_BODY) {\n                        break;\n                    }\n                }\n                if (split == tokens.length) {\n                    break; // Breaks the while-loop.\n                }\n                addSplit(split);\n                continue;\n            }\n            var minSplit = Math.max(split - (wrapLimit - (wrapLimit >> 2)), lastSplit - 1);\n            while (split > minSplit && tokens[split] < PLACEHOLDER_START) {\n                split--;\n            }\n            if (isCode) {\n                while (split > minSplit && tokens[split] < PLACEHOLDER_START) {\n                    split--;\n                }\n                while (split > minSplit && tokens[split] == PUNCTUATION) {\n                    split--;\n                }\n            }\n            else {\n                while (split > minSplit && tokens[split] < SPACE) {\n                    split--;\n                }\n            }\n            if (split > minSplit) {\n                addSplit(++split);\n                continue;\n            }\n            split = lastSplit + wrapLimit;\n            if (tokens[split] == CHAR_EXT)\n                split--;\n            addSplit(split - indent);\n        }\n        return splits;\n    };\n    this.$getDisplayTokens = function (str, offset) {\n        var arr = [];\n        var tabSize;\n        offset = offset || 0;\n        for (var i = 0; i < str.length; i++) {\n            var c = str.charCodeAt(i);\n            if (c == 9) {\n                tabSize = this.getScreenTabSize(arr.length + offset);\n                arr.push(TAB);\n                for (var n = 1; n < tabSize; n++) {\n                    arr.push(TAB_SPACE);\n                }\n            }\n            else if (c == 32) {\n                arr.push(SPACE);\n            }\n            else if ((c > 39 && c < 48) || (c > 57 && c < 64)) {\n                arr.push(PUNCTUATION);\n            }\n            else if (c >= 0x1100 && isFullWidth(c)) {\n                arr.push(CHAR, CHAR_EXT);\n            }\n            else {\n                arr.push(CHAR);\n            }\n        }\n        return arr;\n    };\n    this.$getStringScreenWidth = function (str, maxScreenColumn, screenColumn) {\n        if (maxScreenColumn == 0)\n            return [0, 0];\n        if (maxScreenColumn == null)\n            maxScreenColumn = Infinity;\n        screenColumn = screenColumn || 0;\n        var c, column;\n        for (column = 0; column < str.length; column++) {\n            c = str.charCodeAt(column);\n            if (c == 9) {\n                screenColumn += this.getScreenTabSize(screenColumn);\n            }\n            else if (c >= 0x1100 && isFullWidth(c)) {\n                screenColumn += 2;\n            }\n            else {\n                screenColumn += 1;\n            }\n            if (screenColumn > maxScreenColumn) {\n                break;\n            }\n        }\n        return [screenColumn, column];\n    };\n    this.lineWidgets = null;\n    this.getRowLength = function (row) {\n        var h = 1;\n        if (this.lineWidgets)\n            h += this.lineWidgets[row] && this.lineWidgets[row].rowCount || 0;\n        if (!this.$useWrapMode || !this.$wrapData[row])\n            return h;\n        else\n            return this.$wrapData[row].length + h;\n    };\n    this.getRowLineCount = function (row) {\n        if (!this.$useWrapMode || !this.$wrapData[row]) {\n            return 1;\n        }\n        else {\n            return this.$wrapData[row].length + 1;\n        }\n    };\n    this.getRowWrapIndent = function (screenRow) {\n        if (this.$useWrapMode) {\n            var pos = this.screenToDocumentPosition(screenRow, Number.MAX_VALUE);\n            var splits = this.$wrapData[pos.row];\n            return splits.length && splits[0] < pos.column ? splits.indent : 0;\n        }\n        else {\n            return 0;\n        }\n    };\n    this.getScreenLastRowColumn = function (screenRow) {\n        var pos = this.screenToDocumentPosition(screenRow, Number.MAX_VALUE);\n        return this.documentToScreenColumn(pos.row, pos.column);\n    };\n    this.getDocumentLastRowColumn = function (docRow, docColumn) {\n        var screenRow = this.documentToScreenRow(docRow, docColumn);\n        return this.getScreenLastRowColumn(screenRow);\n    };\n    this.getDocumentLastRowColumnPosition = function (docRow, docColumn) {\n        var screenRow = this.documentToScreenRow(docRow, docColumn);\n        return this.screenToDocumentPosition(screenRow, Number.MAX_VALUE / 10);\n    };\n    this.getRowSplitData = function (row) {\n        if (!this.$useWrapMode) {\n            return undefined;\n        }\n        else {\n            return this.$wrapData[row];\n        }\n    };\n    this.getScreenTabSize = function (screenColumn) {\n        return this.$tabSize - (screenColumn % this.$tabSize | 0);\n    };\n    this.screenToDocumentRow = function (screenRow, screenColumn) {\n        return this.screenToDocumentPosition(screenRow, screenColumn).row;\n    };\n    this.screenToDocumentColumn = function (screenRow, screenColumn) {\n        return this.screenToDocumentPosition(screenRow, screenColumn).column;\n    };\n    this.screenToDocumentPosition = function (screenRow, screenColumn, offsetX) {\n        if (screenRow < 0)\n            return { row: 0, column: 0 };\n        var line;\n        var docRow = 0;\n        var docColumn = 0;\n        var column;\n        var row = 0;\n        var rowLength = 0;\n        var rowCache = this.$screenRowCache;\n        var i = this.$getRowCacheIndex(rowCache, screenRow);\n        var l = rowCache.length;\n        if (l && i >= 0) {\n            var row = rowCache[i];\n            var docRow = this.$docRowCache[i];\n            var doCache = screenRow > rowCache[l - 1];\n        }\n        else {\n            var doCache = !l;\n        }\n        var maxRow = this.getLength() - 1;\n        var foldLine = this.getNextFoldLine(docRow);\n        var foldStart = foldLine ? foldLine.start.row : Infinity;\n        while (row <= screenRow) {\n            rowLength = this.getRowLength(docRow);\n            if (row + rowLength > screenRow || docRow >= maxRow) {\n                break;\n            }\n            else {\n                row += rowLength;\n                docRow++;\n                if (docRow > foldStart) {\n                    docRow = foldLine.end.row + 1;\n                    foldLine = this.getNextFoldLine(docRow, foldLine);\n                    foldStart = foldLine ? foldLine.start.row : Infinity;\n                }\n            }\n            if (doCache) {\n                this.$docRowCache.push(docRow);\n                this.$screenRowCache.push(row);\n            }\n        }\n        if (foldLine && foldLine.start.row <= docRow) {\n            line = this.getFoldDisplayLine(foldLine);\n            docRow = foldLine.start.row;\n        }\n        else if (row + rowLength <= screenRow || docRow > maxRow) {\n            return {\n                row: maxRow,\n                column: this.getLine(maxRow).length\n            };\n        }\n        else {\n            line = this.getLine(docRow);\n            foldLine = null;\n        }\n        var wrapIndent = 0, splitIndex = Math.floor(screenRow - row);\n        if (this.$useWrapMode) {\n            var splits = this.$wrapData[docRow];\n            if (splits) {\n                column = splits[splitIndex];\n                if (splitIndex > 0 && splits.length) {\n                    wrapIndent = splits.indent;\n                    docColumn = splits[splitIndex - 1] || splits[splits.length - 1];\n                    line = line.substring(docColumn);\n                }\n            }\n        }\n        if (offsetX !== undefined && this.$bidiHandler.isBidiRow(row + splitIndex, docRow, splitIndex))\n            screenColumn = this.$bidiHandler.offsetToCol(offsetX);\n        docColumn += this.$getStringScreenWidth(line, screenColumn - wrapIndent)[1];\n        if (this.$useWrapMode && docColumn >= column)\n            docColumn = column - 1;\n        if (foldLine)\n            return foldLine.idxToPosition(docColumn);\n        return { row: docRow, column: docColumn };\n    };\n    this.documentToScreenPosition = function (docRow, docColumn) {\n        if (typeof docColumn === \"undefined\")\n            var pos = this.$clipPositionToDocument(docRow.row, docRow.column);\n        else\n            pos = this.$clipPositionToDocument(docRow, docColumn);\n        docRow = pos.row;\n        docColumn = pos.column;\n        var screenRow = 0;\n        var foldStartRow = null;\n        var fold = null;\n        fold = this.getFoldAt(docRow, docColumn, 1);\n        if (fold) {\n            docRow = fold.start.row;\n            docColumn = fold.start.column;\n        }\n        var rowEnd, row = 0;\n        var rowCache = this.$docRowCache;\n        var i = this.$getRowCacheIndex(rowCache, docRow);\n        var l = rowCache.length;\n        if (l && i >= 0) {\n            var row = rowCache[i];\n            var screenRow = this.$screenRowCache[i];\n            var doCache = docRow > rowCache[l - 1];\n        }\n        else {\n            var doCache = !l;\n        }\n        var foldLine = this.getNextFoldLine(row);\n        var foldStart = foldLine ? foldLine.start.row : Infinity;\n        while (row < docRow) {\n            if (row >= foldStart) {\n                rowEnd = foldLine.end.row + 1;\n                if (rowEnd > docRow)\n                    break;\n                foldLine = this.getNextFoldLine(rowEnd, foldLine);\n                foldStart = foldLine ? foldLine.start.row : Infinity;\n            }\n            else {\n                rowEnd = row + 1;\n            }\n            screenRow += this.getRowLength(row);\n            row = rowEnd;\n            if (doCache) {\n                this.$docRowCache.push(row);\n                this.$screenRowCache.push(screenRow);\n            }\n        }\n        var textLine = \"\";\n        if (foldLine && row >= foldStart) {\n            textLine = this.getFoldDisplayLine(foldLine, docRow, docColumn);\n            foldStartRow = foldLine.start.row;\n        }\n        else {\n            textLine = this.getLine(docRow).substring(0, docColumn);\n            foldStartRow = docRow;\n        }\n        var wrapIndent = 0;\n        if (this.$useWrapMode) {\n            var wrapRow = this.$wrapData[foldStartRow];\n            if (wrapRow) {\n                var screenRowOffset = 0;\n                while (textLine.length >= wrapRow[screenRowOffset]) {\n                    screenRow++;\n                    screenRowOffset++;\n                }\n                textLine = textLine.substring(wrapRow[screenRowOffset - 1] || 0, textLine.length);\n                wrapIndent = screenRowOffset > 0 ? wrapRow.indent : 0;\n            }\n        }\n        if (this.lineWidgets && this.lineWidgets[row] && this.lineWidgets[row].rowsAbove)\n            screenRow += this.lineWidgets[row].rowsAbove;\n        return {\n            row: screenRow,\n            column: wrapIndent + this.$getStringScreenWidth(textLine)[0]\n        };\n    };\n    this.documentToScreenColumn = function (row, docColumn) {\n        return this.documentToScreenPosition(row, docColumn).column;\n    };\n    this.documentToScreenRow = function (docRow, docColumn) {\n        return this.documentToScreenPosition(docRow, docColumn).row;\n    };\n    this.getScreenLength = function () {\n        var screenRows = 0;\n        var fold = null;\n        if (!this.$useWrapMode) {\n            screenRows = this.getLength();\n            var foldData = this.$foldData;\n            for (var i = 0; i < foldData.length; i++) {\n                fold = foldData[i];\n                screenRows -= fold.end.row - fold.start.row;\n            }\n        }\n        else {\n            var lastRow = this.$wrapData.length;\n            var row = 0, i = 0;\n            var fold = this.$foldData[i++];\n            var foldStart = fold ? fold.start.row : Infinity;\n            while (row < lastRow) {\n                var splits = this.$wrapData[row];\n                screenRows += splits ? splits.length + 1 : 1;\n                row++;\n                if (row > foldStart) {\n                    row = fold.end.row + 1;\n                    fold = this.$foldData[i++];\n                    foldStart = fold ? fold.start.row : Infinity;\n                }\n            }\n        }\n        if (this.lineWidgets)\n            screenRows += this.$getWidgetScreenLength();\n        return screenRows;\n    };\n    this.$setFontMetrics = function (fm) {\n        if (!this.$enableVarChar)\n            return;\n        this.$getStringScreenWidth = function (str, maxScreenColumn, screenColumn) {\n            if (maxScreenColumn === 0)\n                return [0, 0];\n            if (!maxScreenColumn)\n                maxScreenColumn = Infinity;\n            screenColumn = screenColumn || 0;\n            var c, column;\n            for (column = 0; column < str.length; column++) {\n                c = str.charAt(column);\n                if (c === \"\\t\") {\n                    screenColumn += this.getScreenTabSize(screenColumn);\n                }\n                else {\n                    screenColumn += fm.getCharacterWidth(c);\n                }\n                if (screenColumn > maxScreenColumn) {\n                    break;\n                }\n            }\n            return [screenColumn, column];\n        };\n    };\n    this.destroy = function () {\n        if (!this.destroyed) {\n            this.bgTokenizer.setDocument(null);\n            this.bgTokenizer.cleanup();\n            this.destroyed = true;\n        }\n        this.$stopWorker();\n        this.removeAllListeners();\n        if (this.doc) {\n            this.doc.off(\"change\", this.$onChange);\n        }\n        this.selection.detach();\n    };\n    this.isFullWidth = isFullWidth;\n    function isFullWidth(c) {\n        if (c < 0x1100)\n            return false;\n        return c >= 0x1100 && c <= 0x115F ||\n            c >= 0x11A3 && c <= 0x11A7 ||\n            c >= 0x11FA && c <= 0x11FF ||\n            c >= 0x2329 && c <= 0x232A ||\n            c >= 0x2E80 && c <= 0x2E99 ||\n            c >= 0x2E9B && c <= 0x2EF3 ||\n            c >= 0x2F00 && c <= 0x2FD5 ||\n            c >= 0x2FF0 && c <= 0x2FFB ||\n            c >= 0x3000 && c <= 0x303E ||\n            c >= 0x3041 && c <= 0x3096 ||\n            c >= 0x3099 && c <= 0x30FF ||\n            c >= 0x3105 && c <= 0x312D ||\n            c >= 0x3131 && c <= 0x318E ||\n            c >= 0x3190 && c <= 0x31BA ||\n            c >= 0x31C0 && c <= 0x31E3 ||\n            c >= 0x31F0 && c <= 0x321E ||\n            c >= 0x3220 && c <= 0x3247 ||\n            c >= 0x3250 && c <= 0x32FE ||\n            c >= 0x3300 && c <= 0x4DBF ||\n            c >= 0x4E00 && c <= 0xA48C ||\n            c >= 0xA490 && c <= 0xA4C6 ||\n            c >= 0xA960 && c <= 0xA97C ||\n            c >= 0xAC00 && c <= 0xD7A3 ||\n            c >= 0xD7B0 && c <= 0xD7C6 ||\n            c >= 0xD7CB && c <= 0xD7FB ||\n            c >= 0xF900 && c <= 0xFAFF ||\n            c >= 0xFE10 && c <= 0xFE19 ||\n            c >= 0xFE30 && c <= 0xFE52 ||\n            c >= 0xFE54 && c <= 0xFE66 ||\n            c >= 0xFE68 && c <= 0xFE6B ||\n            c >= 0xFF01 && c <= 0xFF60 ||\n            c >= 0xFFE0 && c <= 0xFFE6;\n    }\n}).call(EditSession.prototype);\nrequire(\"./edit_session/folding\").Folding.call(EditSession.prototype);\nrequire(\"./edit_session/bracket_match\").BracketMatch.call(EditSession.prototype);\nconfig.defineOptions(EditSession.prototype, \"session\", {\n    wrap: {\n        set: function (value) {\n            if (!value || value == \"off\")\n                value = false;\n            else if (value == \"free\")\n                value = true;\n            else if (value == \"printMargin\")\n                value = -1;\n            else if (typeof value == \"string\")\n                value = parseInt(value, 10) || false;\n            if (this.$wrap == value)\n                return;\n            this.$wrap = value;\n            if (!value) {\n                this.setUseWrapMode(false);\n            }\n            else {\n                var col = typeof value == \"number\" ? value : null;\n                this.setWrapLimitRange(col, col);\n                this.setUseWrapMode(true);\n            }\n        },\n        get: function () {\n            if (this.getUseWrapMode()) {\n                if (this.$wrap == -1)\n                    return \"printMargin\";\n                if (!this.getWrapLimitRange().min)\n                    return \"free\";\n                return this.$wrap;\n            }\n            return \"off\";\n        },\n        handlesSet: true\n    },\n    wrapMethod: {\n        set: function (val) {\n            val = val == \"auto\"\n                ? this.$mode.type != \"text\"\n                : val != \"text\";\n            if (val != this.$wrapAsCode) {\n                this.$wrapAsCode = val;\n                if (this.$useWrapMode) {\n                    this.$useWrapMode = false;\n                    this.setUseWrapMode(true);\n                }\n            }\n        },\n        initialValue: \"auto\"\n    },\n    indentedSoftWrap: {\n        set: function () {\n            if (this.$useWrapMode) {\n                this.$useWrapMode = false;\n                this.setUseWrapMode(true);\n            }\n        },\n        initialValue: true\n    },\n    firstLineNumber: {\n        set: function () { this._signal(\"changeBreakpoint\"); },\n        initialValue: 1\n    },\n    useWorker: {\n        set: function (useWorker) {\n            this.$useWorker = useWorker;\n            this.$stopWorker();\n            if (useWorker)\n                this.$startWorker();\n        },\n        initialValue: true\n    },\n    useSoftTabs: { initialValue: true },\n    tabSize: {\n        set: function (tabSize) {\n            tabSize = parseInt(tabSize);\n            if (tabSize > 0 && this.$tabSize !== tabSize) {\n                this.$modified = true;\n                this.$rowLengthCache = [];\n                this.$tabSize = tabSize;\n                this._signal(\"changeTabSize\");\n            }\n        },\n        initialValue: 4,\n        handlesSet: true\n    },\n    navigateWithinSoftTabs: { initialValue: false },\n    foldStyle: {\n        set: function (val) { this.setFoldStyle(val); },\n        handlesSet: true\n    },\n    overwrite: {\n        set: function (val) { this._signal(\"changeOverwrite\"); },\n        initialValue: false\n    },\n    newLineMode: {\n        set: function (val) { this.doc.setNewLineMode(val); },\n        get: function () { return this.doc.getNewLineMode(); },\n        handlesSet: true\n    },\n    mode: {\n        set: function (val) { this.setMode(val); },\n        get: function () { return this.$modeId; },\n        handlesSet: true\n    }\n});\nexports.EditSession = EditSession;\n\n});\n\nace.define(\"ace/search\",[\"require\",\"exports\",\"module\",\"ace/lib/lang\",\"ace/lib/oop\",\"ace/range\"], function(require, exports, module){\"use strict\";\nvar lang = require(\"./lib/lang\");\nvar oop = require(\"./lib/oop\");\nvar Range = require(\"./range\").Range;\nvar Search = function () {\n    this.$options = {};\n};\n(function () {\n    this.set = function (options) {\n        oop.mixin(this.$options, options);\n        return this;\n    };\n    this.getOptions = function () {\n        return lang.copyObject(this.$options);\n    };\n    this.setOptions = function (options) {\n        this.$options = options;\n    };\n    this.find = function (session) {\n        var options = this.$options;\n        var iterator = this.$matchIterator(session, options);\n        if (!iterator)\n            return false;\n        var firstRange = null;\n        iterator.forEach(function (sr, sc, er, ec) {\n            firstRange = new Range(sr, sc, er, ec);\n            if (sc == ec && options.start && options.start.start\n                && options.skipCurrent != false && firstRange.isEqual(options.start)) {\n                firstRange = null;\n                return false;\n            }\n            return true;\n        });\n        return firstRange;\n    };\n    this.findAll = function (session) {\n        var options = this.$options;\n        if (!options.needle)\n            return [];\n        this.$assembleRegExp(options);\n        var range = options.range;\n        var lines = range\n            ? session.getLines(range.start.row, range.end.row)\n            : session.doc.getAllLines();\n        var ranges = [];\n        var re = options.re;\n        if (options.$isMultiLine) {\n            var len = re.length;\n            var maxRow = lines.length - len;\n            var prevRange;\n            outer: for (var row = re.offset || 0; row <= maxRow; row++) {\n                for (var j = 0; j < len; j++)\n                    if (lines[row + j].search(re[j]) == -1)\n                        continue outer;\n                var startLine = lines[row];\n                var line = lines[row + len - 1];\n                var startIndex = startLine.length - startLine.match(re[0])[0].length;\n                var endIndex = line.match(re[len - 1])[0].length;\n                if (prevRange && prevRange.end.row === row &&\n                    prevRange.end.column > startIndex) {\n                    continue;\n                }\n                ranges.push(prevRange = new Range(row, startIndex, row + len - 1, endIndex));\n                if (len > 2)\n                    row = row + len - 2;\n            }\n        }\n        else {\n            for (var i = 0; i < lines.length; i++) {\n                var matches = lang.getMatchOffsets(lines[i], re);\n                for (var j = 0; j < matches.length; j++) {\n                    var match = matches[j];\n                    ranges.push(new Range(i, match.offset, i, match.offset + match.length));\n                }\n            }\n        }\n        if (range) {\n            var startColumn = range.start.column;\n            var endColumn = range.start.column;\n            var i = 0, j = ranges.length - 1;\n            while (i < j && ranges[i].start.column < startColumn && ranges[i].start.row == range.start.row)\n                i++;\n            while (i < j && ranges[j].end.column > endColumn && ranges[j].end.row == range.end.row)\n                j--;\n            ranges = ranges.slice(i, j + 1);\n            for (i = 0, j = ranges.length; i < j; i++) {\n                ranges[i].start.row += range.start.row;\n                ranges[i].end.row += range.start.row;\n            }\n        }\n        return ranges;\n    };\n    this.replace = function (input, replacement) {\n        var options = this.$options;\n        var re = this.$assembleRegExp(options);\n        if (options.$isMultiLine)\n            return replacement;\n        if (!re)\n            return;\n        var match = re.exec(input);\n        if (!match || match[0].length != input.length)\n            return null;\n        replacement = input.replace(re, replacement);\n        if (options.preserveCase) {\n            replacement = replacement.split(\"\");\n            for (var i = Math.min(input.length, input.length); i--;) {\n                var ch = input[i];\n                if (ch && ch.toLowerCase() != ch)\n                    replacement[i] = replacement[i].toUpperCase();\n                else\n                    replacement[i] = replacement[i].toLowerCase();\n            }\n            replacement = replacement.join(\"\");\n        }\n        return replacement;\n    };\n    this.$assembleRegExp = function (options, $disableFakeMultiline) {\n        if (options.needle instanceof RegExp)\n            return options.re = options.needle;\n        var needle = options.needle;\n        if (!options.needle)\n            return options.re = false;\n        if (!options.regExp)\n            needle = lang.escapeRegExp(needle);\n        if (options.wholeWord)\n            needle = addWordBoundary(needle, options);\n        var modifier = options.caseSensitive ? \"gm\" : \"gmi\";\n        options.$isMultiLine = !$disableFakeMultiline && /[\\n\\r]/.test(needle);\n        if (options.$isMultiLine)\n            return options.re = this.$assembleMultilineRegExp(needle, modifier);\n        try {\n            var re = new RegExp(needle, modifier);\n        }\n        catch (e) {\n            re = false;\n        }\n        return options.re = re;\n    };\n    this.$assembleMultilineRegExp = function (needle, modifier) {\n        var parts = needle.replace(/\\r\\n|\\r|\\n/g, \"$\\n^\").split(\"\\n\");\n        var re = [];\n        for (var i = 0; i < parts.length; i++)\n            try {\n                re.push(new RegExp(parts[i], modifier));\n            }\n            catch (e) {\n                return false;\n            }\n        return re;\n    };\n    this.$matchIterator = function (session, options) {\n        var re = this.$assembleRegExp(options);\n        if (!re)\n            return false;\n        var backwards = options.backwards == true;\n        var skipCurrent = options.skipCurrent != false;\n        var range = options.range;\n        var start = options.start;\n        if (!start)\n            start = range ? range[backwards ? \"end\" : \"start\"] : session.selection.getRange();\n        if (start.start)\n            start = start[skipCurrent != backwards ? \"end\" : \"start\"];\n        var firstRow = range ? range.start.row : 0;\n        var lastRow = range ? range.end.row : session.getLength() - 1;\n        if (backwards) {\n            var forEach = function (callback) {\n                var row = start.row;\n                if (forEachInLine(row, start.column, callback))\n                    return;\n                for (row--; row >= firstRow; row--)\n                    if (forEachInLine(row, Number.MAX_VALUE, callback))\n                        return;\n                if (options.wrap == false)\n                    return;\n                for (row = lastRow, firstRow = start.row; row >= firstRow; row--)\n                    if (forEachInLine(row, Number.MAX_VALUE, callback))\n                        return;\n            };\n        }\n        else {\n            var forEach = function (callback) {\n                var row = start.row;\n                if (forEachInLine(row, start.column, callback))\n                    return;\n                for (row = row + 1; row <= lastRow; row++)\n                    if (forEachInLine(row, 0, callback))\n                        return;\n                if (options.wrap == false)\n                    return;\n                for (row = firstRow, lastRow = start.row; row <= lastRow; row++)\n                    if (forEachInLine(row, 0, callback))\n                        return;\n            };\n        }\n        if (options.$isMultiLine) {\n            var len = re.length;\n            var forEachInLine = function (row, offset, callback) {\n                var startRow = backwards ? row - len + 1 : row;\n                if (startRow < 0 || startRow + len > session.getLength())\n                    return;\n                var line = session.getLine(startRow);\n                var startIndex = line.search(re[0]);\n                if (!backwards && startIndex < offset || startIndex === -1)\n                    return;\n                for (var i = 1; i < len; i++) {\n                    line = session.getLine(startRow + i);\n                    if (line.search(re[i]) == -1)\n                        return;\n                }\n                var endIndex = line.match(re[len - 1])[0].length;\n                if (backwards && endIndex > offset)\n                    return;\n                if (callback(startRow, startIndex, startRow + len - 1, endIndex))\n                    return true;\n            };\n        }\n        else if (backwards) {\n            var forEachInLine = function (row, endIndex, callback) {\n                var line = session.getLine(row);\n                var matches = [];\n                var m, last = 0;\n                re.lastIndex = 0;\n                while ((m = re.exec(line))) {\n                    var length = m[0].length;\n                    last = m.index;\n                    if (!length) {\n                        if (last >= line.length)\n                            break;\n                        re.lastIndex = last += 1;\n                    }\n                    if (m.index + length > endIndex)\n                        break;\n                    matches.push(m.index, length);\n                }\n                for (var i = matches.length - 1; i >= 0; i -= 2) {\n                    var column = matches[i - 1];\n                    var length = matches[i];\n                    if (callback(row, column, row, column + length))\n                        return true;\n                }\n            };\n        }\n        else {\n            var forEachInLine = function (row, startIndex, callback) {\n                var line = session.getLine(row);\n                var last;\n                var m;\n                re.lastIndex = startIndex;\n                while ((m = re.exec(line))) {\n                    var length = m[0].length;\n                    last = m.index;\n                    if (callback(row, last, row, last + length))\n                        return true;\n                    if (!length) {\n                        re.lastIndex = last += 1;\n                        if (last >= line.length)\n                            return false;\n                    }\n                }\n            };\n        }\n        return { forEach: forEach };\n    };\n}).call(Search.prototype);\nfunction addWordBoundary(needle, options) {\n    function wordBoundary(c) {\n        if (/\\w/.test(c) || options.regExp)\n            return \"\\\\b\";\n        return \"\";\n    }\n    return wordBoundary(needle[0]) + needle\n        + wordBoundary(needle[needle.length - 1]);\n}\nexports.Search = Search;\n\n});\n\nace.define(\"ace/keyboard/hash_handler\",[\"require\",\"exports\",\"module\",\"ace/lib/keys\",\"ace/lib/useragent\"], function(require, exports, module){\"use strict\";\nvar keyUtil = require(\"../lib/keys\");\nvar useragent = require(\"../lib/useragent\");\nvar KEY_MODS = keyUtil.KEY_MODS;\nfunction HashHandler(config, platform) {\n    this.platform = platform || (useragent.isMac ? \"mac\" : \"win\");\n    this.commands = {};\n    this.commandKeyBinding = {};\n    this.addCommands(config);\n    this.$singleCommand = true;\n}\nfunction MultiHashHandler(config, platform) {\n    HashHandler.call(this, config, platform);\n    this.$singleCommand = false;\n}\nMultiHashHandler.prototype = HashHandler.prototype;\n(function () {\n    this.addCommand = function (command) {\n        if (this.commands[command.name])\n            this.removeCommand(command);\n        this.commands[command.name] = command;\n        if (command.bindKey)\n            this._buildKeyHash(command);\n    };\n    this.removeCommand = function (command, keepCommand) {\n        var name = command && (typeof command === 'string' ? command : command.name);\n        command = this.commands[name];\n        if (!keepCommand)\n            delete this.commands[name];\n        var ckb = this.commandKeyBinding;\n        for (var keyId in ckb) {\n            var cmdGroup = ckb[keyId];\n            if (cmdGroup == command) {\n                delete ckb[keyId];\n            }\n            else if (Array.isArray(cmdGroup)) {\n                var i = cmdGroup.indexOf(command);\n                if (i != -1) {\n                    cmdGroup.splice(i, 1);\n                    if (cmdGroup.length == 1)\n                        ckb[keyId] = cmdGroup[0];\n                }\n            }\n        }\n    };\n    this.bindKey = function (key, command, position) {\n        if (typeof key == \"object\" && key) {\n            if (position == undefined)\n                position = key.position;\n            key = key[this.platform];\n        }\n        if (!key)\n            return;\n        if (typeof command == \"function\")\n            return this.addCommand({ exec: command, bindKey: key, name: command.name || key });\n        key.split(\"|\").forEach(function (keyPart) {\n            var chain = \"\";\n            if (keyPart.indexOf(\" \") != -1) {\n                var parts = keyPart.split(/\\s+/);\n                keyPart = parts.pop();\n                parts.forEach(function (keyPart) {\n                    var binding = this.parseKeys(keyPart);\n                    var id = KEY_MODS[binding.hashId] + binding.key;\n                    chain += (chain ? \" \" : \"\") + id;\n                    this._addCommandToBinding(chain, \"chainKeys\");\n                }, this);\n                chain += \" \";\n            }\n            var binding = this.parseKeys(keyPart);\n            var id = KEY_MODS[binding.hashId] + binding.key;\n            this._addCommandToBinding(chain + id, command, position);\n        }, this);\n    };\n    function getPosition(command) {\n        return typeof command == \"object\" && command.bindKey\n            && command.bindKey.position\n            || (command.isDefault ? -100 : 0);\n    }\n    this._addCommandToBinding = function (keyId, command, position) {\n        var ckb = this.commandKeyBinding, i;\n        if (!command) {\n            delete ckb[keyId];\n        }\n        else if (!ckb[keyId] || this.$singleCommand) {\n            ckb[keyId] = command;\n        }\n        else {\n            if (!Array.isArray(ckb[keyId])) {\n                ckb[keyId] = [ckb[keyId]];\n            }\n            else if ((i = ckb[keyId].indexOf(command)) != -1) {\n                ckb[keyId].splice(i, 1);\n            }\n            if (typeof position != \"number\") {\n                position = getPosition(command);\n            }\n            var commands = ckb[keyId];\n            for (i = 0; i < commands.length; i++) {\n                var other = commands[i];\n                var otherPos = getPosition(other);\n                if (otherPos > position)\n                    break;\n            }\n            commands.splice(i, 0, command);\n        }\n    };\n    this.addCommands = function (commands) {\n        commands && Object.keys(commands).forEach(function (name) {\n            var command = commands[name];\n            if (!command)\n                return;\n            if (typeof command === \"string\")\n                return this.bindKey(command, name);\n            if (typeof command === \"function\")\n                command = { exec: command };\n            if (typeof command !== \"object\")\n                return;\n            if (!command.name)\n                command.name = name;\n            this.addCommand(command);\n        }, this);\n    };\n    this.removeCommands = function (commands) {\n        Object.keys(commands).forEach(function (name) {\n            this.removeCommand(commands[name]);\n        }, this);\n    };\n    this.bindKeys = function (keyList) {\n        Object.keys(keyList).forEach(function (key) {\n            this.bindKey(key, keyList[key]);\n        }, this);\n    };\n    this._buildKeyHash = function (command) {\n        this.bindKey(command.bindKey, command);\n    };\n    this.parseKeys = function (keys) {\n        var parts = keys.toLowerCase().split(/[\\-\\+]([\\-\\+])?/).filter(function (x) { return x; });\n        var key = parts.pop();\n        var keyCode = keyUtil[key];\n        if (keyUtil.FUNCTION_KEYS[keyCode])\n            key = keyUtil.FUNCTION_KEYS[keyCode].toLowerCase();\n        else if (!parts.length)\n            return { key: key, hashId: -1 };\n        else if (parts.length == 1 && parts[0] == \"shift\")\n            return { key: key.toUpperCase(), hashId: -1 };\n        var hashId = 0;\n        for (var i = parts.length; i--;) {\n            var modifier = keyUtil.KEY_MODS[parts[i]];\n            if (modifier == null) {\n                if (typeof console != \"undefined\")\n                    console.error(\"invalid modifier \" + parts[i] + \" in \" + keys);\n                return false;\n            }\n            hashId |= modifier;\n        }\n        return { key: key, hashId: hashId };\n    };\n    this.findKeyCommand = function findKeyCommand(hashId, keyString) {\n        var key = KEY_MODS[hashId] + keyString;\n        return this.commandKeyBinding[key];\n    };\n    this.handleKeyboard = function (data, hashId, keyString, keyCode) {\n        if (keyCode < 0)\n            return;\n        var key = KEY_MODS[hashId] + keyString;\n        var command = this.commandKeyBinding[key];\n        if (data.$keyChain) {\n            data.$keyChain += \" \" + key;\n            command = this.commandKeyBinding[data.$keyChain] || command;\n        }\n        if (command) {\n            if (command == \"chainKeys\" || command[command.length - 1] == \"chainKeys\") {\n                data.$keyChain = data.$keyChain || key;\n                return { command: \"null\" };\n            }\n        }\n        if (data.$keyChain) {\n            if ((!hashId || hashId == 4) && keyString.length == 1)\n                data.$keyChain = data.$keyChain.slice(0, -key.length - 1); // wait for input\n            else if (hashId == -1 || keyCode > 0)\n                data.$keyChain = \"\"; // reset keyChain\n        }\n        return { command: command };\n    };\n    this.getStatusText = function (editor, data) {\n        return data.$keyChain || \"\";\n    };\n}).call(HashHandler.prototype);\nexports.HashHandler = HashHandler;\nexports.MultiHashHandler = MultiHashHandler;\n\n});\n\nace.define(\"ace/commands/command_manager\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/keyboard/hash_handler\",\"ace/lib/event_emitter\"], function(require, exports, module){\"use strict\";\nvar oop = require(\"../lib/oop\");\nvar MultiHashHandler = require(\"../keyboard/hash_handler\").MultiHashHandler;\nvar EventEmitter = require(\"../lib/event_emitter\").EventEmitter;\nvar CommandManager = function (platform, commands) {\n    MultiHashHandler.call(this, commands, platform);\n    this.byName = this.commands;\n    this.setDefaultHandler(\"exec\", function (e) {\n        if (!e.args) {\n            return e.command.exec(e.editor, {}, e.event, true);\n        }\n        return e.command.exec(e.editor, e.args, e.event, false);\n    });\n};\noop.inherits(CommandManager, MultiHashHandler);\n(function () {\n    oop.implement(this, EventEmitter);\n    this.exec = function (command, editor, args) {\n        if (Array.isArray(command)) {\n            for (var i = command.length; i--;) {\n                if (this.exec(command[i], editor, args))\n                    return true;\n            }\n            return false;\n        }\n        if (typeof command === \"string\")\n            command = this.commands[command];\n        if (!command)\n            return false;\n        if (editor && editor.$readOnly && !command.readOnly)\n            return false;\n        if (this.$checkCommandState != false && command.isAvailable && !command.isAvailable(editor))\n            return false;\n        var e = { editor: editor, command: command, args: args };\n        e.returnValue = this._emit(\"exec\", e);\n        this._signal(\"afterExec\", e);\n        return e.returnValue === false ? false : true;\n    };\n    this.toggleRecording = function (editor) {\n        if (this.$inReplay)\n            return;\n        editor && editor._emit(\"changeStatus\");\n        if (this.recording) {\n            this.macro.pop();\n            this.off(\"exec\", this.$addCommandToMacro);\n            if (!this.macro.length)\n                this.macro = this.oldMacro;\n            return this.recording = false;\n        }\n        if (!this.$addCommandToMacro) {\n            this.$addCommandToMacro = function (e) {\n                this.macro.push([e.command, e.args]);\n            }.bind(this);\n        }\n        this.oldMacro = this.macro;\n        this.macro = [];\n        this.on(\"exec\", this.$addCommandToMacro);\n        return this.recording = true;\n    };\n    this.replay = function (editor) {\n        if (this.$inReplay || !this.macro)\n            return;\n        if (this.recording)\n            return this.toggleRecording(editor);\n        try {\n            this.$inReplay = true;\n            this.macro.forEach(function (x) {\n                if (typeof x == \"string\")\n                    this.exec(x, editor);\n                else\n                    this.exec(x[0], editor, x[1]);\n            }, this);\n        }\n        finally {\n            this.$inReplay = false;\n        }\n    };\n    this.trimMacro = function (m) {\n        return m.map(function (x) {\n            if (typeof x[0] != \"string\")\n                x[0] = x[0].name;\n            if (!x[1])\n                x = x[0];\n            return x;\n        });\n    };\n}).call(CommandManager.prototype);\nexports.CommandManager = CommandManager;\n\n});\n\nace.define(\"ace/commands/default_commands\",[\"require\",\"exports\",\"module\",\"ace/lib/lang\",\"ace/config\",\"ace/range\"], function(require, exports, module){\"use strict\";\nvar lang = require(\"../lib/lang\");\nvar config = require(\"../config\");\nvar Range = require(\"../range\").Range;\nfunction bindKey(win, mac) {\n    return { win: win, mac: mac };\n}\nexports.commands = [{\n        name: \"showSettingsMenu\",\n        description: \"Show settings menu\",\n        bindKey: bindKey(\"Ctrl-,\", \"Command-,\"),\n        exec: function (editor) {\n            config.loadModule(\"ace/ext/settings_menu\", function (module) {\n                module.init(editor);\n                editor.showSettingsMenu();\n            });\n        },\n        readOnly: true\n    }, {\n        name: \"goToNextError\",\n        description: \"Go to next error\",\n        bindKey: bindKey(\"Alt-E\", \"F4\"),\n        exec: function (editor) {\n            config.loadModule(\"./ext/error_marker\", function (module) {\n                module.showErrorMarker(editor, 1);\n            });\n        },\n        scrollIntoView: \"animate\",\n        readOnly: true\n    }, {\n        name: \"goToPreviousError\",\n        description: \"Go to previous error\",\n        bindKey: bindKey(\"Alt-Shift-E\", \"Shift-F4\"),\n        exec: function (editor) {\n            config.loadModule(\"./ext/error_marker\", function (module) {\n                module.showErrorMarker(editor, -1);\n            });\n        },\n        scrollIntoView: \"animate\",\n        readOnly: true\n    }, {\n        name: \"selectall\",\n        description: \"Select all\",\n        bindKey: bindKey(\"Ctrl-A\", \"Command-A\"),\n        exec: function (editor) { editor.selectAll(); },\n        readOnly: true\n    }, {\n        name: \"centerselection\",\n        description: \"Center selection\",\n        bindKey: bindKey(null, \"Ctrl-L\"),\n        exec: function (editor) { editor.centerSelection(); },\n        readOnly: true\n    }, {\n        name: \"gotoline\",\n        description: \"Go to line...\",\n        bindKey: bindKey(\"Ctrl-L\", \"Command-L\"),\n        exec: function (editor, line) {\n            if (typeof line === \"number\" && !isNaN(line))\n                editor.gotoLine(line);\n            editor.prompt({ $type: \"gotoLine\" });\n        },\n        readOnly: true\n    }, {\n        name: \"fold\",\n        bindKey: bindKey(\"Alt-L|Ctrl-F1\", \"Command-Alt-L|Command-F1\"),\n        exec: function (editor) { editor.session.toggleFold(false); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"center\",\n        readOnly: true\n    }, {\n        name: \"unfold\",\n        bindKey: bindKey(\"Alt-Shift-L|Ctrl-Shift-F1\", \"Command-Alt-Shift-L|Command-Shift-F1\"),\n        exec: function (editor) { editor.session.toggleFold(true); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"center\",\n        readOnly: true\n    }, {\n        name: \"toggleFoldWidget\",\n        description: \"Toggle fold widget\",\n        bindKey: bindKey(\"F2\", \"F2\"),\n        exec: function (editor) { editor.session.toggleFoldWidget(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"center\",\n        readOnly: true\n    }, {\n        name: \"toggleParentFoldWidget\",\n        description: \"Toggle parent fold widget\",\n        bindKey: bindKey(\"Alt-F2\", \"Alt-F2\"),\n        exec: function (editor) { editor.session.toggleFoldWidget(true); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"center\",\n        readOnly: true\n    }, {\n        name: \"foldall\",\n        description: \"Fold all\",\n        bindKey: bindKey(null, \"Ctrl-Command-Option-0\"),\n        exec: function (editor) { editor.session.foldAll(); },\n        scrollIntoView: \"center\",\n        readOnly: true\n    }, {\n        name: \"foldAllComments\",\n        description: \"Fold all comments\",\n        bindKey: bindKey(null, \"Ctrl-Command-Option-0\"),\n        exec: function (editor) { editor.session.foldAllComments(); },\n        scrollIntoView: \"center\",\n        readOnly: true\n    }, {\n        name: \"foldOther\",\n        description: \"Fold other\",\n        bindKey: bindKey(\"Alt-0\", \"Command-Option-0\"),\n        exec: function (editor) {\n            editor.session.foldAll();\n            editor.session.unfold(editor.selection.getAllRanges());\n        },\n        scrollIntoView: \"center\",\n        readOnly: true\n    }, {\n        name: \"unfoldall\",\n        description: \"Unfold all\",\n        bindKey: bindKey(\"Alt-Shift-0\", \"Command-Option-Shift-0\"),\n        exec: function (editor) { editor.session.unfold(); },\n        scrollIntoView: \"center\",\n        readOnly: true\n    }, {\n        name: \"findnext\",\n        description: \"Find next\",\n        bindKey: bindKey(\"Ctrl-K\", \"Command-G\"),\n        exec: function (editor) { editor.findNext(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"center\",\n        readOnly: true\n    }, {\n        name: \"findprevious\",\n        description: \"Find previous\",\n        bindKey: bindKey(\"Ctrl-Shift-K\", \"Command-Shift-G\"),\n        exec: function (editor) { editor.findPrevious(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"center\",\n        readOnly: true\n    }, {\n        name: \"selectOrFindNext\",\n        description: \"Select or find next\",\n        bindKey: bindKey(\"Alt-K\", \"Ctrl-G\"),\n        exec: function (editor) {\n            if (editor.selection.isEmpty())\n                editor.selection.selectWord();\n            else\n                editor.findNext();\n        },\n        readOnly: true\n    }, {\n        name: \"selectOrFindPrevious\",\n        description: \"Select or find previous\",\n        bindKey: bindKey(\"Alt-Shift-K\", \"Ctrl-Shift-G\"),\n        exec: function (editor) {\n            if (editor.selection.isEmpty())\n                editor.selection.selectWord();\n            else\n                editor.findPrevious();\n        },\n        readOnly: true\n    }, {\n        name: \"find\",\n        description: \"Find\",\n        bindKey: bindKey(\"Ctrl-F\", \"Command-F\"),\n        exec: function (editor) {\n            config.loadModule(\"ace/ext/searchbox\", function (e) { e.Search(editor); });\n        },\n        readOnly: true\n    }, {\n        name: \"overwrite\",\n        description: \"Overwrite\",\n        bindKey: \"Insert\",\n        exec: function (editor) { editor.toggleOverwrite(); },\n        readOnly: true\n    }, {\n        name: \"selecttostart\",\n        description: \"Select to start\",\n        bindKey: bindKey(\"Ctrl-Shift-Home\", \"Command-Shift-Home|Command-Shift-Up\"),\n        exec: function (editor) { editor.getSelection().selectFileStart(); },\n        multiSelectAction: \"forEach\",\n        readOnly: true,\n        scrollIntoView: \"animate\",\n        aceCommandGroup: \"fileJump\"\n    }, {\n        name: \"gotostart\",\n        description: \"Go to start\",\n        bindKey: bindKey(\"Ctrl-Home\", \"Command-Home|Command-Up\"),\n        exec: function (editor) { editor.navigateFileStart(); },\n        multiSelectAction: \"forEach\",\n        readOnly: true,\n        scrollIntoView: \"animate\",\n        aceCommandGroup: \"fileJump\"\n    }, {\n        name: \"selectup\",\n        description: \"Select up\",\n        bindKey: bindKey(\"Shift-Up\", \"Shift-Up|Ctrl-Shift-P\"),\n        exec: function (editor) { editor.getSelection().selectUp(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"golineup\",\n        description: \"Go line up\",\n        bindKey: bindKey(\"Up\", \"Up|Ctrl-P\"),\n        exec: function (editor, args) { editor.navigateUp(args.times); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"selecttoend\",\n        description: \"Select to end\",\n        bindKey: bindKey(\"Ctrl-Shift-End\", \"Command-Shift-End|Command-Shift-Down\"),\n        exec: function (editor) { editor.getSelection().selectFileEnd(); },\n        multiSelectAction: \"forEach\",\n        readOnly: true,\n        scrollIntoView: \"animate\",\n        aceCommandGroup: \"fileJump\"\n    }, {\n        name: \"gotoend\",\n        description: \"Go to end\",\n        bindKey: bindKey(\"Ctrl-End\", \"Command-End|Command-Down\"),\n        exec: function (editor) { editor.navigateFileEnd(); },\n        multiSelectAction: \"forEach\",\n        readOnly: true,\n        scrollIntoView: \"animate\",\n        aceCommandGroup: \"fileJump\"\n    }, {\n        name: \"selectdown\",\n        description: \"Select down\",\n        bindKey: bindKey(\"Shift-Down\", \"Shift-Down|Ctrl-Shift-N\"),\n        exec: function (editor) { editor.getSelection().selectDown(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"golinedown\",\n        description: \"Go line down\",\n        bindKey: bindKey(\"Down\", \"Down|Ctrl-N\"),\n        exec: function (editor, args) { editor.navigateDown(args.times); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"selectwordleft\",\n        description: \"Select word left\",\n        bindKey: bindKey(\"Ctrl-Shift-Left\", \"Option-Shift-Left\"),\n        exec: function (editor) { editor.getSelection().selectWordLeft(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"gotowordleft\",\n        description: \"Go to word left\",\n        bindKey: bindKey(\"Ctrl-Left\", \"Option-Left\"),\n        exec: function (editor) { editor.navigateWordLeft(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"selecttolinestart\",\n        description: \"Select to line start\",\n        bindKey: bindKey(\"Alt-Shift-Left\", \"Command-Shift-Left|Ctrl-Shift-A\"),\n        exec: function (editor) { editor.getSelection().selectLineStart(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"gotolinestart\",\n        description: \"Go to line start\",\n        bindKey: bindKey(\"Alt-Left|Home\", \"Command-Left|Home|Ctrl-A\"),\n        exec: function (editor) { editor.navigateLineStart(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"selectleft\",\n        description: \"Select left\",\n        bindKey: bindKey(\"Shift-Left\", \"Shift-Left|Ctrl-Shift-B\"),\n        exec: function (editor) { editor.getSelection().selectLeft(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"gotoleft\",\n        description: \"Go to left\",\n        bindKey: bindKey(\"Left\", \"Left|Ctrl-B\"),\n        exec: function (editor, args) { editor.navigateLeft(args.times); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"selectwordright\",\n        description: \"Select word right\",\n        bindKey: bindKey(\"Ctrl-Shift-Right\", \"Option-Shift-Right\"),\n        exec: function (editor) { editor.getSelection().selectWordRight(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"gotowordright\",\n        description: \"Go to word right\",\n        bindKey: bindKey(\"Ctrl-Right\", \"Option-Right\"),\n        exec: function (editor) { editor.navigateWordRight(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"selecttolineend\",\n        description: \"Select to line end\",\n        bindKey: bindKey(\"Alt-Shift-Right\", \"Command-Shift-Right|Shift-End|Ctrl-Shift-E\"),\n        exec: function (editor) { editor.getSelection().selectLineEnd(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"gotolineend\",\n        description: \"Go to line end\",\n        bindKey: bindKey(\"Alt-Right|End\", \"Command-Right|End|Ctrl-E\"),\n        exec: function (editor) { editor.navigateLineEnd(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"selectright\",\n        description: \"Select right\",\n        bindKey: bindKey(\"Shift-Right\", \"Shift-Right\"),\n        exec: function (editor) { editor.getSelection().selectRight(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"gotoright\",\n        description: \"Go to right\",\n        bindKey: bindKey(\"Right\", \"Right|Ctrl-F\"),\n        exec: function (editor, args) { editor.navigateRight(args.times); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"selectpagedown\",\n        description: \"Select page down\",\n        bindKey: \"Shift-PageDown\",\n        exec: function (editor) { editor.selectPageDown(); },\n        readOnly: true\n    }, {\n        name: \"pagedown\",\n        description: \"Page down\",\n        bindKey: bindKey(null, \"Option-PageDown\"),\n        exec: function (editor) { editor.scrollPageDown(); },\n        readOnly: true\n    }, {\n        name: \"gotopagedown\",\n        description: \"Go to page down\",\n        bindKey: bindKey(\"PageDown\", \"PageDown|Ctrl-V\"),\n        exec: function (editor) { editor.gotoPageDown(); },\n        readOnly: true\n    }, {\n        name: \"selectpageup\",\n        description: \"Select page up\",\n        bindKey: \"Shift-PageUp\",\n        exec: function (editor) { editor.selectPageUp(); },\n        readOnly: true\n    }, {\n        name: \"pageup\",\n        description: \"Page up\",\n        bindKey: bindKey(null, \"Option-PageUp\"),\n        exec: function (editor) { editor.scrollPageUp(); },\n        readOnly: true\n    }, {\n        name: \"gotopageup\",\n        description: \"Go to page up\",\n        bindKey: \"PageUp\",\n        exec: function (editor) { editor.gotoPageUp(); },\n        readOnly: true\n    }, {\n        name: \"scrollup\",\n        description: \"Scroll up\",\n        bindKey: bindKey(\"Ctrl-Up\", null),\n        exec: function (e) { e.renderer.scrollBy(0, -2 * e.renderer.layerConfig.lineHeight); },\n        readOnly: true\n    }, {\n        name: \"scrolldown\",\n        description: \"Scroll down\",\n        bindKey: bindKey(\"Ctrl-Down\", null),\n        exec: function (e) { e.renderer.scrollBy(0, 2 * e.renderer.layerConfig.lineHeight); },\n        readOnly: true\n    }, {\n        name: \"selectlinestart\",\n        description: \"Select line start\",\n        bindKey: \"Shift-Home\",\n        exec: function (editor) { editor.getSelection().selectLineStart(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"selectlineend\",\n        description: \"Select line end\",\n        bindKey: \"Shift-End\",\n        exec: function (editor) { editor.getSelection().selectLineEnd(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"togglerecording\",\n        description: \"Toggle recording\",\n        bindKey: bindKey(\"Ctrl-Alt-E\", \"Command-Option-E\"),\n        exec: function (editor) { editor.commands.toggleRecording(editor); },\n        readOnly: true\n    }, {\n        name: \"replaymacro\",\n        description: \"Replay macro\",\n        bindKey: bindKey(\"Ctrl-Shift-E\", \"Command-Shift-E\"),\n        exec: function (editor) { editor.commands.replay(editor); },\n        readOnly: true\n    }, {\n        name: \"jumptomatching\",\n        description: \"Jump to matching\",\n        bindKey: bindKey(\"Ctrl-\\\\|Ctrl-P\", \"Command-\\\\\"),\n        exec: function (editor) { editor.jumpToMatching(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"animate\",\n        readOnly: true\n    }, {\n        name: \"selecttomatching\",\n        description: \"Select to matching\",\n        bindKey: bindKey(\"Ctrl-Shift-\\\\|Ctrl-Shift-P\", \"Command-Shift-\\\\\"),\n        exec: function (editor) { editor.jumpToMatching(true); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"animate\",\n        readOnly: true\n    }, {\n        name: \"expandToMatching\",\n        description: \"Expand to matching\",\n        bindKey: bindKey(\"Ctrl-Shift-M\", \"Ctrl-Shift-M\"),\n        exec: function (editor) { editor.jumpToMatching(true, true); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"animate\",\n        readOnly: true\n    }, {\n        name: \"passKeysToBrowser\",\n        description: \"Pass keys to browser\",\n        bindKey: bindKey(null, null),\n        exec: function () { },\n        passEvent: true,\n        readOnly: true\n    }, {\n        name: \"copy\",\n        description: \"Copy\",\n        exec: function (editor) {\n        },\n        readOnly: true\n    },\n    {\n        name: \"cut\",\n        description: \"Cut\",\n        exec: function (editor) {\n            var cutLine = editor.$copyWithEmptySelection && editor.selection.isEmpty();\n            var range = cutLine ? editor.selection.getLineRange() : editor.selection.getRange();\n            editor._emit(\"cut\", range);\n            if (!range.isEmpty())\n                editor.session.remove(range);\n            editor.clearSelection();\n        },\n        scrollIntoView: \"cursor\",\n        multiSelectAction: \"forEach\"\n    }, {\n        name: \"paste\",\n        description: \"Paste\",\n        exec: function (editor, args) {\n            editor.$handlePaste(args);\n        },\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"removeline\",\n        description: \"Remove line\",\n        bindKey: bindKey(\"Ctrl-D\", \"Command-D\"),\n        exec: function (editor) { editor.removeLines(); },\n        scrollIntoView: \"cursor\",\n        multiSelectAction: \"forEachLine\"\n    }, {\n        name: \"duplicateSelection\",\n        description: \"Duplicate selection\",\n        bindKey: bindKey(\"Ctrl-Shift-D\", \"Command-Shift-D\"),\n        exec: function (editor) { editor.duplicateSelection(); },\n        scrollIntoView: \"cursor\",\n        multiSelectAction: \"forEach\"\n    }, {\n        name: \"sortlines\",\n        description: \"Sort lines\",\n        bindKey: bindKey(\"Ctrl-Alt-S\", \"Command-Alt-S\"),\n        exec: function (editor) { editor.sortLines(); },\n        scrollIntoView: \"selection\",\n        multiSelectAction: \"forEachLine\"\n    }, {\n        name: \"togglecomment\",\n        description: \"Toggle comment\",\n        bindKey: bindKey(\"Ctrl-/\", \"Command-/\"),\n        exec: function (editor) { editor.toggleCommentLines(); },\n        multiSelectAction: \"forEachLine\",\n        scrollIntoView: \"selectionPart\"\n    }, {\n        name: \"toggleBlockComment\",\n        description: \"Toggle block comment\",\n        bindKey: bindKey(\"Ctrl-Shift-/\", \"Command-Shift-/\"),\n        exec: function (editor) { editor.toggleBlockComment(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"selectionPart\"\n    }, {\n        name: \"modifyNumberUp\",\n        description: \"Modify number up\",\n        bindKey: bindKey(\"Ctrl-Shift-Up\", \"Alt-Shift-Up\"),\n        exec: function (editor) { editor.modifyNumber(1); },\n        scrollIntoView: \"cursor\",\n        multiSelectAction: \"forEach\"\n    }, {\n        name: \"modifyNumberDown\",\n        description: \"Modify number down\",\n        bindKey: bindKey(\"Ctrl-Shift-Down\", \"Alt-Shift-Down\"),\n        exec: function (editor) { editor.modifyNumber(-1); },\n        scrollIntoView: \"cursor\",\n        multiSelectAction: \"forEach\"\n    }, {\n        name: \"replace\",\n        description: \"Replace\",\n        bindKey: bindKey(\"Ctrl-H\", \"Command-Option-F\"),\n        exec: function (editor) {\n            config.loadModule(\"ace/ext/searchbox\", function (e) { e.Search(editor, true); });\n        }\n    }, {\n        name: \"undo\",\n        description: \"Undo\",\n        bindKey: bindKey(\"Ctrl-Z\", \"Command-Z\"),\n        exec: function (editor) { editor.undo(); }\n    }, {\n        name: \"redo\",\n        description: \"Redo\",\n        bindKey: bindKey(\"Ctrl-Shift-Z|Ctrl-Y\", \"Command-Shift-Z|Command-Y\"),\n        exec: function (editor) { editor.redo(); }\n    }, {\n        name: \"copylinesup\",\n        description: \"Copy lines up\",\n        bindKey: bindKey(\"Alt-Shift-Up\", \"Command-Option-Up\"),\n        exec: function (editor) { editor.copyLinesUp(); },\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"movelinesup\",\n        description: \"Move lines up\",\n        bindKey: bindKey(\"Alt-Up\", \"Option-Up\"),\n        exec: function (editor) { editor.moveLinesUp(); },\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"copylinesdown\",\n        description: \"Copy lines down\",\n        bindKey: bindKey(\"Alt-Shift-Down\", \"Command-Option-Down\"),\n        exec: function (editor) { editor.copyLinesDown(); },\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"movelinesdown\",\n        description: \"Move lines down\",\n        bindKey: bindKey(\"Alt-Down\", \"Option-Down\"),\n        exec: function (editor) { editor.moveLinesDown(); },\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"del\",\n        description: \"Delete\",\n        bindKey: bindKey(\"Delete\", \"Delete|Ctrl-D|Shift-Delete\"),\n        exec: function (editor) { editor.remove(\"right\"); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"backspace\",\n        description: \"Backspace\",\n        bindKey: bindKey(\"Shift-Backspace|Backspace\", \"Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H\"),\n        exec: function (editor) { editor.remove(\"left\"); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"cut_or_delete\",\n        description: \"Cut or delete\",\n        bindKey: bindKey(\"Shift-Delete\", null),\n        exec: function (editor) {\n            if (editor.selection.isEmpty()) {\n                editor.remove(\"left\");\n            }\n            else {\n                return false;\n            }\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"removetolinestart\",\n        description: \"Remove to line start\",\n        bindKey: bindKey(\"Alt-Backspace\", \"Command-Backspace\"),\n        exec: function (editor) { editor.removeToLineStart(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"removetolineend\",\n        description: \"Remove to line end\",\n        bindKey: bindKey(\"Alt-Delete\", \"Ctrl-K|Command-Delete\"),\n        exec: function (editor) { editor.removeToLineEnd(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"removetolinestarthard\",\n        description: \"Remove to line start hard\",\n        bindKey: bindKey(\"Ctrl-Shift-Backspace\", null),\n        exec: function (editor) {\n            var range = editor.selection.getRange();\n            range.start.column = 0;\n            editor.session.remove(range);\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"removetolineendhard\",\n        description: \"Remove to line end hard\",\n        bindKey: bindKey(\"Ctrl-Shift-Delete\", null),\n        exec: function (editor) {\n            var range = editor.selection.getRange();\n            range.end.column = Number.MAX_VALUE;\n            editor.session.remove(range);\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"removewordleft\",\n        description: \"Remove word left\",\n        bindKey: bindKey(\"Ctrl-Backspace\", \"Alt-Backspace|Ctrl-Alt-Backspace\"),\n        exec: function (editor) { editor.removeWordLeft(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"removewordright\",\n        description: \"Remove word right\",\n        bindKey: bindKey(\"Ctrl-Delete\", \"Alt-Delete\"),\n        exec: function (editor) { editor.removeWordRight(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"outdent\",\n        description: \"Outdent\",\n        bindKey: bindKey(\"Shift-Tab\", \"Shift-Tab\"),\n        exec: function (editor) { editor.blockOutdent(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"selectionPart\"\n    }, {\n        name: \"indent\",\n        description: \"Indent\",\n        bindKey: bindKey(\"Tab\", \"Tab\"),\n        exec: function (editor) { editor.indent(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"selectionPart\"\n    }, {\n        name: \"blockoutdent\",\n        description: \"Block outdent\",\n        bindKey: bindKey(\"Ctrl-[\", \"Ctrl-[\"),\n        exec: function (editor) { editor.blockOutdent(); },\n        multiSelectAction: \"forEachLine\",\n        scrollIntoView: \"selectionPart\"\n    }, {\n        name: \"blockindent\",\n        description: \"Block indent\",\n        bindKey: bindKey(\"Ctrl-]\", \"Ctrl-]\"),\n        exec: function (editor) { editor.blockIndent(); },\n        multiSelectAction: \"forEachLine\",\n        scrollIntoView: \"selectionPart\"\n    }, {\n        name: \"insertstring\",\n        description: \"Insert string\",\n        exec: function (editor, str) { editor.insert(str); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"inserttext\",\n        description: \"Insert text\",\n        exec: function (editor, args) {\n            editor.insert(lang.stringRepeat(args.text || \"\", args.times || 1));\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"splitline\",\n        description: \"Split line\",\n        bindKey: bindKey(null, \"Ctrl-O\"),\n        exec: function (editor) { editor.splitLine(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"transposeletters\",\n        description: \"Transpose letters\",\n        bindKey: bindKey(\"Alt-Shift-X\", \"Ctrl-T\"),\n        exec: function (editor) { editor.transposeLetters(); },\n        multiSelectAction: function (editor) { editor.transposeSelections(1); },\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"touppercase\",\n        description: \"To uppercase\",\n        bindKey: bindKey(\"Ctrl-U\", \"Ctrl-U\"),\n        exec: function (editor) { editor.toUpperCase(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"tolowercase\",\n        description: \"To lowercase\",\n        bindKey: bindKey(\"Ctrl-Shift-U\", \"Ctrl-Shift-U\"),\n        exec: function (editor) { editor.toLowerCase(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"autoindent\",\n        description: \"Auto Indent\",\n        bindKey: bindKey(null, null),\n        exec: function (editor) { editor.autoIndent(); },\n        multiSelectAction: \"forEachLine\",\n        scrollIntoView: \"animate\"\n    }, {\n        name: \"expandtoline\",\n        description: \"Expand to line\",\n        bindKey: bindKey(\"Ctrl-Shift-L\", \"Command-Shift-L\"),\n        exec: function (editor) {\n            var range = editor.selection.getRange();\n            range.start.column = range.end.column = 0;\n            range.end.row++;\n            editor.selection.setRange(range, false);\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"joinlines\",\n        description: \"Join lines\",\n        bindKey: bindKey(null, null),\n        exec: function (editor) {\n            var isBackwards = editor.selection.isBackwards();\n            var selectionStart = isBackwards ? editor.selection.getSelectionLead() : editor.selection.getSelectionAnchor();\n            var selectionEnd = isBackwards ? editor.selection.getSelectionAnchor() : editor.selection.getSelectionLead();\n            var firstLineEndCol = editor.session.doc.getLine(selectionStart.row).length;\n            var selectedText = editor.session.doc.getTextRange(editor.selection.getRange());\n            var selectedCount = selectedText.replace(/\\n\\s*/, \" \").length;\n            var insertLine = editor.session.doc.getLine(selectionStart.row);\n            for (var i = selectionStart.row + 1; i <= selectionEnd.row + 1; i++) {\n                var curLine = lang.stringTrimLeft(lang.stringTrimRight(editor.session.doc.getLine(i)));\n                if (curLine.length !== 0) {\n                    curLine = \" \" + curLine;\n                }\n                insertLine += curLine;\n            }\n            if (selectionEnd.row + 1 < (editor.session.doc.getLength() - 1)) {\n                insertLine += editor.session.doc.getNewLineCharacter();\n            }\n            editor.clearSelection();\n            editor.session.doc.replace(new Range(selectionStart.row, 0, selectionEnd.row + 2, 0), insertLine);\n            if (selectedCount > 0) {\n                editor.selection.moveCursorTo(selectionStart.row, selectionStart.column);\n                editor.selection.selectTo(selectionStart.row, selectionStart.column + selectedCount);\n            }\n            else {\n                firstLineEndCol = editor.session.doc.getLine(selectionStart.row).length > firstLineEndCol ? (firstLineEndCol + 1) : firstLineEndCol;\n                editor.selection.moveCursorTo(selectionStart.row, firstLineEndCol);\n            }\n        },\n        multiSelectAction: \"forEach\",\n        readOnly: true\n    }, {\n        name: \"invertSelection\",\n        description: \"Invert selection\",\n        bindKey: bindKey(null, null),\n        exec: function (editor) {\n            var endRow = editor.session.doc.getLength() - 1;\n            var endCol = editor.session.doc.getLine(endRow).length;\n            var ranges = editor.selection.rangeList.ranges;\n            var newRanges = [];\n            if (ranges.length < 1) {\n                ranges = [editor.selection.getRange()];\n            }\n            for (var i = 0; i < ranges.length; i++) {\n                if (i == (ranges.length - 1)) {\n                    if (!(ranges[i].end.row === endRow && ranges[i].end.column === endCol)) {\n                        newRanges.push(new Range(ranges[i].end.row, ranges[i].end.column, endRow, endCol));\n                    }\n                }\n                if (i === 0) {\n                    if (!(ranges[i].start.row === 0 && ranges[i].start.column === 0)) {\n                        newRanges.push(new Range(0, 0, ranges[i].start.row, ranges[i].start.column));\n                    }\n                }\n                else {\n                    newRanges.push(new Range(ranges[i - 1].end.row, ranges[i - 1].end.column, ranges[i].start.row, ranges[i].start.column));\n                }\n            }\n            editor.exitMultiSelectMode();\n            editor.clearSelection();\n            for (var i = 0; i < newRanges.length; i++) {\n                editor.selection.addRange(newRanges[i], false);\n            }\n        },\n        readOnly: true,\n        scrollIntoView: \"none\"\n    }, {\n        name: \"addLineAfter\",\n        description: \"Add new line after the current line\",\n        exec: function (editor) {\n            editor.selection.clearSelection();\n            editor.navigateLineEnd();\n            editor.insert(\"\\n\");\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"addLineBefore\",\n        description: \"Add new line before the current line\",\n        exec: function (editor) {\n            editor.selection.clearSelection();\n            var cursor = editor.getCursorPosition();\n            editor.selection.moveTo(cursor.row - 1, Number.MAX_VALUE);\n            editor.insert(\"\\n\");\n            if (cursor.row === 0)\n                editor.navigateUp();\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"openCommandPallete\",\n        description: \"Open command palette\",\n        bindKey: bindKey(\"F1\", \"F1\"),\n        exec: function (editor) {\n            editor.prompt({ $type: \"commands\" });\n        },\n        readOnly: true\n    }, {\n        name: \"modeSelect\",\n        description: \"Change language mode...\",\n        bindKey: bindKey(null, null),\n        exec: function (editor) {\n            editor.prompt({ $type: \"modes\" });\n        },\n        readOnly: true\n    }];\nfor (var i = 1; i < 9; i++) {\n    exports.commands.push({\n        name: \"foldToLevel\" + i,\n        description: \"Fold To Level \" + i,\n        level: i,\n        exec: function (editor) { editor.session.foldToLevel(this.level); },\n        scrollIntoView: \"center\",\n        readOnly: true\n    });\n}\n\n});\n\nace.define(\"ace/editor\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/dom\",\"ace/lib/lang\",\"ace/lib/useragent\",\"ace/keyboard/textinput\",\"ace/mouse/mouse_handler\",\"ace/mouse/fold_handler\",\"ace/keyboard/keybinding\",\"ace/edit_session\",\"ace/search\",\"ace/range\",\"ace/lib/event_emitter\",\"ace/commands/command_manager\",\"ace/commands/default_commands\",\"ace/config\",\"ace/token_iterator\",\"ace/clipboard\"], function(require, exports, module){\"use strict\";\nvar oop = require(\"./lib/oop\");\nvar dom = require(\"./lib/dom\");\nvar lang = require(\"./lib/lang\");\nvar useragent = require(\"./lib/useragent\");\nvar TextInput = require(\"./keyboard/textinput\").TextInput;\nvar MouseHandler = require(\"./mouse/mouse_handler\").MouseHandler;\nvar FoldHandler = require(\"./mouse/fold_handler\").FoldHandler;\nvar KeyBinding = require(\"./keyboard/keybinding\").KeyBinding;\nvar EditSession = require(\"./edit_session\").EditSession;\nvar Search = require(\"./search\").Search;\nvar Range = require(\"./range\").Range;\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar CommandManager = require(\"./commands/command_manager\").CommandManager;\nvar defaultCommands = require(\"./commands/default_commands\").commands;\nvar config = require(\"./config\");\nvar TokenIterator = require(\"./token_iterator\").TokenIterator;\nvar clipboard = require(\"./clipboard\");\nvar Editor = function (renderer, session, options) {\n    this.$toDestroy = [];\n    var container = renderer.getContainerElement();\n    this.container = container;\n    this.renderer = renderer;\n    this.id = \"editor\" + (++Editor.$uid);\n    this.commands = new CommandManager(useragent.isMac ? \"mac\" : \"win\", defaultCommands);\n    if (typeof document == \"object\") {\n        this.textInput = new TextInput(renderer.getTextAreaContainer(), this);\n        this.renderer.textarea = this.textInput.getElement();\n        this.$mouseHandler = new MouseHandler(this);\n        new FoldHandler(this);\n    }\n    this.keyBinding = new KeyBinding(this);\n    this.$search = new Search().set({\n        wrap: true\n    });\n    this.$historyTracker = this.$historyTracker.bind(this);\n    this.commands.on(\"exec\", this.$historyTracker);\n    this.$initOperationListeners();\n    this._$emitInputEvent = lang.delayedCall(function () {\n        this._signal(\"input\", {});\n        if (this.session && !this.session.destroyed)\n            this.session.bgTokenizer.scheduleStart();\n    }.bind(this));\n    this.on(\"change\", function (_, _self) {\n        _self._$emitInputEvent.schedule(31);\n    });\n    this.setSession(session || options && options.session || new EditSession(\"\"));\n    config.resetOptions(this);\n    if (options)\n        this.setOptions(options);\n    config._signal(\"editor\", this);\n};\nEditor.$uid = 0;\n(function () {\n    oop.implement(this, EventEmitter);\n    this.$initOperationListeners = function () {\n        this.commands.on(\"exec\", this.startOperation.bind(this), true);\n        this.commands.on(\"afterExec\", this.endOperation.bind(this), true);\n        this.$opResetTimer = lang.delayedCall(this.endOperation.bind(this, true));\n        this.on(\"change\", function () {\n            if (!this.curOp) {\n                this.startOperation();\n                this.curOp.selectionBefore = this.$lastSel;\n            }\n            this.curOp.docChanged = true;\n        }.bind(this), true);\n        this.on(\"changeSelection\", function () {\n            if (!this.curOp) {\n                this.startOperation();\n                this.curOp.selectionBefore = this.$lastSel;\n            }\n            this.curOp.selectionChanged = true;\n        }.bind(this), true);\n    };\n    this.curOp = null;\n    this.prevOp = {};\n    this.startOperation = function (commandEvent) {\n        if (this.curOp) {\n            if (!commandEvent || this.curOp.command)\n                return;\n            this.prevOp = this.curOp;\n        }\n        if (!commandEvent) {\n            this.previousCommand = null;\n            commandEvent = {};\n        }\n        this.$opResetTimer.schedule();\n        this.curOp = this.session.curOp = {\n            command: commandEvent.command || {},\n            args: commandEvent.args,\n            scrollTop: this.renderer.scrollTop\n        };\n        this.curOp.selectionBefore = this.selection.toJSON();\n    };\n    this.endOperation = function (e) {\n        if (this.curOp && this.session) {\n            if (e && e.returnValue === false || !this.session)\n                return (this.curOp = null);\n            if (e == true && this.curOp.command && this.curOp.command.name == \"mouse\")\n                return;\n            this._signal(\"beforeEndOperation\");\n            if (!this.curOp)\n                return;\n            var command = this.curOp.command;\n            var scrollIntoView = command && command.scrollIntoView;\n            if (scrollIntoView) {\n                switch (scrollIntoView) {\n                    case \"center-animate\":\n                        scrollIntoView = \"animate\";\n                    case \"center\":\n                        this.renderer.scrollCursorIntoView(null, 0.5);\n                        break;\n                    case \"animate\":\n                    case \"cursor\":\n                        this.renderer.scrollCursorIntoView();\n                        break;\n                    case \"selectionPart\":\n                        var range = this.selection.getRange();\n                        var config = this.renderer.layerConfig;\n                        if (range.start.row >= config.lastRow || range.end.row <= config.firstRow) {\n                            this.renderer.scrollSelectionIntoView(this.selection.anchor, this.selection.lead);\n                        }\n                        break;\n                    default:\n                        break;\n                }\n                if (scrollIntoView == \"animate\")\n                    this.renderer.animateScrolling(this.curOp.scrollTop);\n            }\n            var sel = this.selection.toJSON();\n            this.curOp.selectionAfter = sel;\n            this.$lastSel = this.selection.toJSON();\n            this.session.getUndoManager().addSelection(sel);\n            this.prevOp = this.curOp;\n            this.curOp = null;\n        }\n    };\n    this.$mergeableCommands = [\"backspace\", \"del\", \"insertstring\"];\n    this.$historyTracker = function (e) {\n        if (!this.$mergeUndoDeltas)\n            return;\n        var prev = this.prevOp;\n        var mergeableCommands = this.$mergeableCommands;\n        var shouldMerge = prev.command && (e.command.name == prev.command.name);\n        if (e.command.name == \"insertstring\") {\n            var text = e.args;\n            if (this.mergeNextCommand === undefined)\n                this.mergeNextCommand = true;\n            shouldMerge = shouldMerge\n                && this.mergeNextCommand // previous command allows to coalesce with\n                && (!/\\s/.test(text) || /\\s/.test(prev.args)); // previous insertion was of same type\n            this.mergeNextCommand = true;\n        }\n        else {\n            shouldMerge = shouldMerge\n                && mergeableCommands.indexOf(e.command.name) !== -1; // the command is mergeable\n        }\n        if (this.$mergeUndoDeltas != \"always\"\n            && Date.now() - this.sequenceStartTime > 2000) {\n            shouldMerge = false; // the sequence is too long\n        }\n        if (shouldMerge)\n            this.session.mergeUndoDeltas = true;\n        else if (mergeableCommands.indexOf(e.command.name) !== -1)\n            this.sequenceStartTime = Date.now();\n    };\n    this.setKeyboardHandler = function (keyboardHandler, cb) {\n        if (keyboardHandler && typeof keyboardHandler === \"string\" && keyboardHandler != \"ace\") {\n            this.$keybindingId = keyboardHandler;\n            var _self = this;\n            config.loadModule([\"keybinding\", keyboardHandler], function (module) {\n                if (_self.$keybindingId == keyboardHandler)\n                    _self.keyBinding.setKeyboardHandler(module && module.handler);\n                cb && cb();\n            });\n        }\n        else {\n            this.$keybindingId = null;\n            this.keyBinding.setKeyboardHandler(keyboardHandler);\n            cb && cb();\n        }\n    };\n    this.getKeyboardHandler = function () {\n        return this.keyBinding.getKeyboardHandler();\n    };\n    this.setSession = function (session) {\n        if (this.session == session)\n            return;\n        if (this.curOp)\n            this.endOperation();\n        this.curOp = {};\n        var oldSession = this.session;\n        if (oldSession) {\n            this.session.off(\"change\", this.$onDocumentChange);\n            this.session.off(\"changeMode\", this.$onChangeMode);\n            this.session.off(\"tokenizerUpdate\", this.$onTokenizerUpdate);\n            this.session.off(\"changeTabSize\", this.$onChangeTabSize);\n            this.session.off(\"changeWrapLimit\", this.$onChangeWrapLimit);\n            this.session.off(\"changeWrapMode\", this.$onChangeWrapMode);\n            this.session.off(\"changeFold\", this.$onChangeFold);\n            this.session.off(\"changeFrontMarker\", this.$onChangeFrontMarker);\n            this.session.off(\"changeBackMarker\", this.$onChangeBackMarker);\n            this.session.off(\"changeBreakpoint\", this.$onChangeBreakpoint);\n            this.session.off(\"changeAnnotation\", this.$onChangeAnnotation);\n            this.session.off(\"changeOverwrite\", this.$onCursorChange);\n            this.session.off(\"changeScrollTop\", this.$onScrollTopChange);\n            this.session.off(\"changeScrollLeft\", this.$onScrollLeftChange);\n            var selection = this.session.getSelection();\n            selection.off(\"changeCursor\", this.$onCursorChange);\n            selection.off(\"changeSelection\", this.$onSelectionChange);\n        }\n        this.session = session;\n        if (session) {\n            this.$onDocumentChange = this.onDocumentChange.bind(this);\n            session.on(\"change\", this.$onDocumentChange);\n            this.renderer.setSession(session);\n            this.$onChangeMode = this.onChangeMode.bind(this);\n            session.on(\"changeMode\", this.$onChangeMode);\n            this.$onTokenizerUpdate = this.onTokenizerUpdate.bind(this);\n            session.on(\"tokenizerUpdate\", this.$onTokenizerUpdate);\n            this.$onChangeTabSize = this.renderer.onChangeTabSize.bind(this.renderer);\n            session.on(\"changeTabSize\", this.$onChangeTabSize);\n            this.$onChangeWrapLimit = this.onChangeWrapLimit.bind(this);\n            session.on(\"changeWrapLimit\", this.$onChangeWrapLimit);\n            this.$onChangeWrapMode = this.onChangeWrapMode.bind(this);\n            session.on(\"changeWrapMode\", this.$onChangeWrapMode);\n            this.$onChangeFold = this.onChangeFold.bind(this);\n            session.on(\"changeFold\", this.$onChangeFold);\n            this.$onChangeFrontMarker = this.onChangeFrontMarker.bind(this);\n            this.session.on(\"changeFrontMarker\", this.$onChangeFrontMarker);\n            this.$onChangeBackMarker = this.onChangeBackMarker.bind(this);\n            this.session.on(\"changeBackMarker\", this.$onChangeBackMarker);\n            this.$onChangeBreakpoint = this.onChangeBreakpoint.bind(this);\n            this.session.on(\"changeBreakpoint\", this.$onChangeBreakpoint);\n            this.$onChangeAnnotation = this.onChangeAnnotation.bind(this);\n            this.session.on(\"changeAnnotation\", this.$onChangeAnnotation);\n            this.$onCursorChange = this.onCursorChange.bind(this);\n            this.session.on(\"changeOverwrite\", this.$onCursorChange);\n            this.$onScrollTopChange = this.onScrollTopChange.bind(this);\n            this.session.on(\"changeScrollTop\", this.$onScrollTopChange);\n            this.$onScrollLeftChange = this.onScrollLeftChange.bind(this);\n            this.session.on(\"changeScrollLeft\", this.$onScrollLeftChange);\n            this.selection = session.getSelection();\n            this.selection.on(\"changeCursor\", this.$onCursorChange);\n            this.$onSelectionChange = this.onSelectionChange.bind(this);\n            this.selection.on(\"changeSelection\", this.$onSelectionChange);\n            this.onChangeMode();\n            this.onCursorChange();\n            this.onScrollTopChange();\n            this.onScrollLeftChange();\n            this.onSelectionChange();\n            this.onChangeFrontMarker();\n            this.onChangeBackMarker();\n            this.onChangeBreakpoint();\n            this.onChangeAnnotation();\n            this.session.getUseWrapMode() && this.renderer.adjustWrapLimit();\n            this.renderer.updateFull();\n        }\n        else {\n            this.selection = null;\n            this.renderer.setSession(session);\n        }\n        this._signal(\"changeSession\", {\n            session: session,\n            oldSession: oldSession\n        });\n        this.curOp = null;\n        oldSession && oldSession._signal(\"changeEditor\", { oldEditor: this });\n        session && session._signal(\"changeEditor\", { editor: this });\n        if (session && !session.destroyed)\n            session.bgTokenizer.scheduleStart();\n    };\n    this.getSession = function () {\n        return this.session;\n    };\n    this.setValue = function (val, cursorPos) {\n        this.session.doc.setValue(val);\n        if (!cursorPos)\n            this.selectAll();\n        else if (cursorPos == 1)\n            this.navigateFileEnd();\n        else if (cursorPos == -1)\n            this.navigateFileStart();\n        return val;\n    };\n    this.getValue = function () {\n        return this.session.getValue();\n    };\n    this.getSelection = function () {\n        return this.selection;\n    };\n    this.resize = function (force) {\n        this.renderer.onResize(force);\n    };\n    this.setTheme = function (theme, cb) {\n        this.renderer.setTheme(theme, cb);\n    };\n    this.getTheme = function () {\n        return this.renderer.getTheme();\n    };\n    this.setStyle = function (style) {\n        this.renderer.setStyle(style);\n    };\n    this.unsetStyle = function (style) {\n        this.renderer.unsetStyle(style);\n    };\n    this.getFontSize = function () {\n        return this.getOption(\"fontSize\") ||\n            dom.computedStyle(this.container).fontSize;\n    };\n    this.setFontSize = function (size) {\n        this.setOption(\"fontSize\", size);\n    };\n    this.$highlightBrackets = function () {\n        if (this.$highlightPending) {\n            return;\n        }\n        var self = this;\n        this.$highlightPending = true;\n        setTimeout(function () {\n            self.$highlightPending = false;\n            var session = self.session;\n            if (!session || session.destroyed)\n                return;\n            if (session.$bracketHighlight) {\n                session.$bracketHighlight.markerIds.forEach(function (id) {\n                    session.removeMarker(id);\n                });\n                session.$bracketHighlight = null;\n            }\n            var ranges = session.getMatchingBracketRanges(self.getCursorPosition());\n            if (!ranges && session.$mode.getMatching)\n                ranges = session.$mode.getMatching(self.session);\n            if (!ranges) {\n                if (self.getHighlightIndentGuides())\n                    self.renderer.$textLayer.$highlightIndentGuide();\n                return;\n            }\n            var markerType = \"ace_bracket\";\n            if (!Array.isArray(ranges)) {\n                ranges = [ranges];\n            }\n            else if (ranges.length == 1) {\n                markerType = \"ace_error_bracket\";\n            }\n            if (ranges.length == 2) {\n                if (Range.comparePoints(ranges[0].end, ranges[1].start) == 0)\n                    ranges = [Range.fromPoints(ranges[0].start, ranges[1].end)];\n                else if (Range.comparePoints(ranges[0].start, ranges[1].end) == 0)\n                    ranges = [Range.fromPoints(ranges[1].start, ranges[0].end)];\n            }\n            session.$bracketHighlight = {\n                ranges: ranges,\n                markerIds: ranges.map(function (range) {\n                    return session.addMarker(range, markerType, \"text\");\n                })\n            };\n            if (self.getHighlightIndentGuides())\n                self.renderer.$textLayer.$highlightIndentGuide();\n        }, 50);\n    };\n    this.$highlightTags = function () {\n        if (this.$highlightTagPending)\n            return;\n        var self = this;\n        this.$highlightTagPending = true;\n        setTimeout(function () {\n            self.$highlightTagPending = false;\n            var session = self.session;\n            if (!session || session.destroyed)\n                return;\n            var pos = self.getCursorPosition();\n            var iterator = new TokenIterator(self.session, pos.row, pos.column);\n            var token = iterator.getCurrentToken();\n            if (!token || !/\\b(?:tag-open|tag-name)/.test(token.type)) {\n                session.removeMarker(session.$tagHighlight);\n                session.$tagHighlight = null;\n                return;\n            }\n            if (token.type.indexOf(\"tag-open\") !== -1) {\n                token = iterator.stepForward();\n                if (!token)\n                    return;\n            }\n            var tag = token.value;\n            var currentTag = token.value;\n            var depth = 0;\n            var prevToken = iterator.stepBackward();\n            if (prevToken.value === '<') {\n                do {\n                    prevToken = token;\n                    token = iterator.stepForward();\n                    if (token) {\n                        if (token.type.indexOf('tag-name') !== -1) {\n                            currentTag = token.value;\n                            if (tag === currentTag) {\n                                if (prevToken.value === '<') {\n                                    depth++;\n                                }\n                                else if (prevToken.value === '</') {\n                                    depth--;\n                                }\n                            }\n                        }\n                        else if (tag === currentTag && token.value === '/>') { // self closing tag\n                            depth--;\n                        }\n                    }\n                } while (token && depth >= 0);\n            }\n            else {\n                do {\n                    token = prevToken;\n                    prevToken = iterator.stepBackward();\n                    if (token) {\n                        if (token.type.indexOf('tag-name') !== -1) {\n                            if (tag === token.value) {\n                                if (prevToken.value === '<') {\n                                    depth++;\n                                }\n                                else if (prevToken.value === '</') {\n                                    depth--;\n                                }\n                            }\n                        }\n                        else if (token.value === '/>') { // self closing tag\n                            var stepCount = 0;\n                            var tmpToken = prevToken;\n                            while (tmpToken) {\n                                if (tmpToken.type.indexOf('tag-name') !== -1 && tmpToken.value === tag) {\n                                    depth--;\n                                    break;\n                                }\n                                else if (tmpToken.value === '<') {\n                                    break;\n                                }\n                                tmpToken = iterator.stepBackward();\n                                stepCount++;\n                            }\n                            for (var i = 0; i < stepCount; i++) {\n                                iterator.stepForward();\n                            }\n                        }\n                    }\n                } while (prevToken && depth <= 0);\n                iterator.stepForward();\n            }\n            if (!token) {\n                session.removeMarker(session.$tagHighlight);\n                session.$tagHighlight = null;\n                return;\n            }\n            var row = iterator.getCurrentTokenRow();\n            var column = iterator.getCurrentTokenColumn();\n            var range = new Range(row, column, row, column + token.value.length);\n            var sbm = session.$backMarkers[session.$tagHighlight];\n            if (session.$tagHighlight && sbm != undefined && range.compareRange(sbm.range) !== 0) {\n                session.removeMarker(session.$tagHighlight);\n                session.$tagHighlight = null;\n            }\n            if (!session.$tagHighlight)\n                session.$tagHighlight = session.addMarker(range, \"ace_bracket\", \"text\");\n        }, 50);\n    };\n    this.focus = function () {\n        this.textInput.focus();\n    };\n    this.isFocused = function () {\n        return this.textInput.isFocused();\n    };\n    this.blur = function () {\n        this.textInput.blur();\n    };\n    this.onFocus = function (e) {\n        if (this.$isFocused)\n            return;\n        this.$isFocused = true;\n        this.renderer.showCursor();\n        this.renderer.visualizeFocus();\n        this._emit(\"focus\", e);\n    };\n    this.onBlur = function (e) {\n        if (!this.$isFocused)\n            return;\n        this.$isFocused = false;\n        this.renderer.hideCursor();\n        this.renderer.visualizeBlur();\n        this._emit(\"blur\", e);\n    };\n    this.$cursorChange = function () {\n        this.renderer.updateCursor();\n        this.$highlightBrackets();\n        this.$highlightTags();\n        this.$updateHighlightActiveLine();\n    };\n    this.onDocumentChange = function (delta) {\n        var wrap = this.session.$useWrapMode;\n        var lastRow = (delta.start.row == delta.end.row ? delta.end.row : Infinity);\n        this.renderer.updateLines(delta.start.row, lastRow, wrap);\n        this._signal(\"change\", delta);\n        this.$cursorChange();\n    };\n    this.onTokenizerUpdate = function (e) {\n        var rows = e.data;\n        this.renderer.updateLines(rows.first, rows.last);\n    };\n    this.onScrollTopChange = function () {\n        this.renderer.scrollToY(this.session.getScrollTop());\n    };\n    this.onScrollLeftChange = function () {\n        this.renderer.scrollToX(this.session.getScrollLeft());\n    };\n    this.onCursorChange = function () {\n        this.$cursorChange();\n        this._signal(\"changeSelection\");\n    };\n    this.$updateHighlightActiveLine = function () {\n        var session = this.getSession();\n        var highlight;\n        if (this.$highlightActiveLine) {\n            if (this.$selectionStyle != \"line\" || !this.selection.isMultiLine())\n                highlight = this.getCursorPosition();\n            if (this.renderer.theme && this.renderer.theme.$selectionColorConflict && !this.selection.isEmpty())\n                highlight = false;\n            if (this.renderer.$maxLines && this.session.getLength() === 1 && !(this.renderer.$minLines > 1))\n                highlight = false;\n        }\n        if (session.$highlightLineMarker && !highlight) {\n            session.removeMarker(session.$highlightLineMarker.id);\n            session.$highlightLineMarker = null;\n        }\n        else if (!session.$highlightLineMarker && highlight) {\n            var range = new Range(highlight.row, highlight.column, highlight.row, Infinity);\n            range.id = session.addMarker(range, \"ace_active-line\", \"screenLine\");\n            session.$highlightLineMarker = range;\n        }\n        else if (highlight) {\n            session.$highlightLineMarker.start.row = highlight.row;\n            session.$highlightLineMarker.end.row = highlight.row;\n            session.$highlightLineMarker.start.column = highlight.column;\n            session._signal(\"changeBackMarker\");\n        }\n    };\n    this.onSelectionChange = function (e) {\n        var session = this.session;\n        if (session.$selectionMarker) {\n            session.removeMarker(session.$selectionMarker);\n        }\n        session.$selectionMarker = null;\n        if (!this.selection.isEmpty()) {\n            var range = this.selection.getRange();\n            var style = this.getSelectionStyle();\n            session.$selectionMarker = session.addMarker(range, \"ace_selection\", style);\n        }\n        else {\n            this.$updateHighlightActiveLine();\n        }\n        var re = this.$highlightSelectedWord && this.$getSelectionHighLightRegexp();\n        this.session.highlight(re);\n        this._signal(\"changeSelection\");\n    };\n    this.$getSelectionHighLightRegexp = function () {\n        var session = this.session;\n        var selection = this.getSelectionRange();\n        if (selection.isEmpty() || selection.isMultiLine())\n            return;\n        var startColumn = selection.start.column;\n        var endColumn = selection.end.column;\n        var line = session.getLine(selection.start.row);\n        var needle = line.substring(startColumn, endColumn);\n        if (needle.length > 5000 || !/[\\w\\d]/.test(needle))\n            return;\n        var re = this.$search.$assembleRegExp({\n            wholeWord: true,\n            caseSensitive: true,\n            needle: needle\n        });\n        var wordWithBoundary = line.substring(startColumn - 1, endColumn + 1);\n        if (!re.test(wordWithBoundary))\n            return;\n        return re;\n    };\n    this.onChangeFrontMarker = function () {\n        this.renderer.updateFrontMarkers();\n    };\n    this.onChangeBackMarker = function () {\n        this.renderer.updateBackMarkers();\n    };\n    this.onChangeBreakpoint = function () {\n        this.renderer.updateBreakpoints();\n    };\n    this.onChangeAnnotation = function () {\n        this.renderer.setAnnotations(this.session.getAnnotations());\n    };\n    this.onChangeMode = function (e) {\n        this.renderer.updateText();\n        this._emit(\"changeMode\", e);\n    };\n    this.onChangeWrapLimit = function () {\n        this.renderer.updateFull();\n    };\n    this.onChangeWrapMode = function () {\n        this.renderer.onResize(true);\n    };\n    this.onChangeFold = function () {\n        this.$updateHighlightActiveLine();\n        this.renderer.updateFull();\n    };\n    this.getSelectedText = function () {\n        return this.session.getTextRange(this.getSelectionRange());\n    };\n    this.getCopyText = function () {\n        var text = this.getSelectedText();\n        var nl = this.session.doc.getNewLineCharacter();\n        var copyLine = false;\n        if (!text && this.$copyWithEmptySelection) {\n            copyLine = true;\n            var ranges = this.selection.getAllRanges();\n            for (var i = 0; i < ranges.length; i++) {\n                var range = ranges[i];\n                if (i && ranges[i - 1].start.row == range.start.row)\n                    continue;\n                text += this.session.getLine(range.start.row) + nl;\n            }\n        }\n        var e = { text: text };\n        this._signal(\"copy\", e);\n        clipboard.lineMode = copyLine ? e.text : false;\n        return e.text;\n    };\n    this.onCopy = function () {\n        this.commands.exec(\"copy\", this);\n    };\n    this.onCut = function () {\n        this.commands.exec(\"cut\", this);\n    };\n    this.onPaste = function (text, event) {\n        var e = { text: text, event: event };\n        this.commands.exec(\"paste\", this, e);\n    };\n    this.$handlePaste = function (e) {\n        if (typeof e == \"string\")\n            e = { text: e };\n        this._signal(\"paste\", e);\n        var text = e.text;\n        var lineMode = text === clipboard.lineMode;\n        var session = this.session;\n        if (!this.inMultiSelectMode || this.inVirtualSelectionMode) {\n            if (lineMode)\n                session.insert({ row: this.selection.lead.row, column: 0 }, text);\n            else\n                this.insert(text);\n        }\n        else if (lineMode) {\n            this.selection.rangeList.ranges.forEach(function (range) {\n                session.insert({ row: range.start.row, column: 0 }, text);\n            });\n        }\n        else {\n            var lines = text.split(/\\r\\n|\\r|\\n/);\n            var ranges = this.selection.rangeList.ranges;\n            var isFullLine = lines.length == 2 && (!lines[0] || !lines[1]);\n            if (lines.length != ranges.length || isFullLine)\n                return this.commands.exec(\"insertstring\", this, text);\n            for (var i = ranges.length; i--;) {\n                var range = ranges[i];\n                if (!range.isEmpty())\n                    session.remove(range);\n                session.insert(range.start, lines[i]);\n            }\n        }\n    };\n    this.execCommand = function (command, args) {\n        return this.commands.exec(command, this, args);\n    };\n    this.insert = function (text, pasted) {\n        var session = this.session;\n        var mode = session.getMode();\n        var cursor = this.getCursorPosition();\n        if (this.getBehavioursEnabled() && !pasted) {\n            var transform = mode.transformAction(session.getState(cursor.row), 'insertion', this, session, text);\n            if (transform) {\n                if (text !== transform.text) {\n                    if (!this.inVirtualSelectionMode) {\n                        this.session.mergeUndoDeltas = false;\n                        this.mergeNextCommand = false;\n                    }\n                }\n                text = transform.text;\n            }\n        }\n        if (text == \"\\t\")\n            text = this.session.getTabString();\n        if (!this.selection.isEmpty()) {\n            var range = this.getSelectionRange();\n            cursor = this.session.remove(range);\n            this.clearSelection();\n        }\n        else if (this.session.getOverwrite() && text.indexOf(\"\\n\") == -1) {\n            var range = new Range.fromPoints(cursor, cursor);\n            range.end.column += text.length;\n            this.session.remove(range);\n        }\n        if (text == \"\\n\" || text == \"\\r\\n\") {\n            var line = session.getLine(cursor.row);\n            if (cursor.column > line.search(/\\S|$/)) {\n                var d = line.substr(cursor.column).search(/\\S|$/);\n                session.doc.removeInLine(cursor.row, cursor.column, cursor.column + d);\n            }\n        }\n        this.clearSelection();\n        var start = cursor.column;\n        var lineState = session.getState(cursor.row);\n        var line = session.getLine(cursor.row);\n        var shouldOutdent = mode.checkOutdent(lineState, line, text);\n        session.insert(cursor, text);\n        if (transform && transform.selection) {\n            if (transform.selection.length == 2) { // Transform relative to the current column\n                this.selection.setSelectionRange(new Range(cursor.row, start + transform.selection[0], cursor.row, start + transform.selection[1]));\n            }\n            else { // Transform relative to the current row.\n                this.selection.setSelectionRange(new Range(cursor.row + transform.selection[0], transform.selection[1], cursor.row + transform.selection[2], transform.selection[3]));\n            }\n        }\n        if (this.$enableAutoIndent) {\n            if (session.getDocument().isNewLine(text)) {\n                var lineIndent = mode.getNextLineIndent(lineState, line.slice(0, cursor.column), session.getTabString());\n                session.insert({ row: cursor.row + 1, column: 0 }, lineIndent);\n            }\n            if (shouldOutdent)\n                mode.autoOutdent(lineState, session, cursor.row);\n        }\n    };\n    this.autoIndent = function () {\n        var session = this.session;\n        var mode = session.getMode();\n        var startRow, endRow;\n        if (this.selection.isEmpty()) {\n            startRow = 0;\n            endRow = session.doc.getLength() - 1;\n        }\n        else {\n            var selectedRange = this.getSelectionRange();\n            startRow = selectedRange.start.row;\n            endRow = selectedRange.end.row;\n        }\n        var prevLineState = \"\";\n        var prevLine = \"\";\n        var lineIndent = \"\";\n        var line, currIndent, range;\n        var tab = session.getTabString();\n        for (var row = startRow; row <= endRow; row++) {\n            if (row > 0) {\n                prevLineState = session.getState(row - 1);\n                prevLine = session.getLine(row - 1);\n                lineIndent = mode.getNextLineIndent(prevLineState, prevLine, tab);\n            }\n            line = session.getLine(row);\n            currIndent = mode.$getIndent(line);\n            if (lineIndent !== currIndent) {\n                if (currIndent.length > 0) {\n                    range = new Range(row, 0, row, currIndent.length);\n                    session.remove(range);\n                }\n                if (lineIndent.length > 0) {\n                    session.insert({ row: row, column: 0 }, lineIndent);\n                }\n            }\n            mode.autoOutdent(prevLineState, session, row);\n        }\n    };\n    this.onTextInput = function (text, composition) {\n        if (!composition)\n            return this.keyBinding.onTextInput(text);\n        this.startOperation({ command: { name: \"insertstring\" } });\n        var applyComposition = this.applyComposition.bind(this, text, composition);\n        if (this.selection.rangeCount)\n            this.forEachSelection(applyComposition);\n        else\n            applyComposition();\n        this.endOperation();\n    };\n    this.applyComposition = function (text, composition) {\n        if (composition.extendLeft || composition.extendRight) {\n            var r = this.selection.getRange();\n            r.start.column -= composition.extendLeft;\n            r.end.column += composition.extendRight;\n            if (r.start.column < 0) {\n                r.start.row--;\n                r.start.column += this.session.getLine(r.start.row).length + 1;\n            }\n            this.selection.setRange(r);\n            if (!text && !r.isEmpty())\n                this.remove();\n        }\n        if (text || !this.selection.isEmpty())\n            this.insert(text, true);\n        if (composition.restoreStart || composition.restoreEnd) {\n            var r = this.selection.getRange();\n            r.start.column -= composition.restoreStart;\n            r.end.column -= composition.restoreEnd;\n            this.selection.setRange(r);\n        }\n    };\n    this.onCommandKey = function (e, hashId, keyCode) {\n        return this.keyBinding.onCommandKey(e, hashId, keyCode);\n    };\n    this.setOverwrite = function (overwrite) {\n        this.session.setOverwrite(overwrite);\n    };\n    this.getOverwrite = function () {\n        return this.session.getOverwrite();\n    };\n    this.toggleOverwrite = function () {\n        this.session.toggleOverwrite();\n    };\n    this.setScrollSpeed = function (speed) {\n        this.setOption(\"scrollSpeed\", speed);\n    };\n    this.getScrollSpeed = function () {\n        return this.getOption(\"scrollSpeed\");\n    };\n    this.setDragDelay = function (dragDelay) {\n        this.setOption(\"dragDelay\", dragDelay);\n    };\n    this.getDragDelay = function () {\n        return this.getOption(\"dragDelay\");\n    };\n    this.setSelectionStyle = function (val) {\n        this.setOption(\"selectionStyle\", val);\n    };\n    this.getSelectionStyle = function () {\n        return this.getOption(\"selectionStyle\");\n    };\n    this.setHighlightActiveLine = function (shouldHighlight) {\n        this.setOption(\"highlightActiveLine\", shouldHighlight);\n    };\n    this.getHighlightActiveLine = function () {\n        return this.getOption(\"highlightActiveLine\");\n    };\n    this.setHighlightGutterLine = function (shouldHighlight) {\n        this.setOption(\"highlightGutterLine\", shouldHighlight);\n    };\n    this.getHighlightGutterLine = function () {\n        return this.getOption(\"highlightGutterLine\");\n    };\n    this.setHighlightSelectedWord = function (shouldHighlight) {\n        this.setOption(\"highlightSelectedWord\", shouldHighlight);\n    };\n    this.getHighlightSelectedWord = function () {\n        return this.$highlightSelectedWord;\n    };\n    this.setAnimatedScroll = function (shouldAnimate) {\n        this.renderer.setAnimatedScroll(shouldAnimate);\n    };\n    this.getAnimatedScroll = function () {\n        return this.renderer.getAnimatedScroll();\n    };\n    this.setShowInvisibles = function (showInvisibles) {\n        this.renderer.setShowInvisibles(showInvisibles);\n    };\n    this.getShowInvisibles = function () {\n        return this.renderer.getShowInvisibles();\n    };\n    this.setDisplayIndentGuides = function (display) {\n        this.renderer.setDisplayIndentGuides(display);\n    };\n    this.getDisplayIndentGuides = function () {\n        return this.renderer.getDisplayIndentGuides();\n    };\n    this.setHighlightIndentGuides = function (highlight) {\n        this.renderer.setHighlightIndentGuides(highlight);\n    };\n    this.getHighlightIndentGuides = function () {\n        return this.renderer.getHighlightIndentGuides();\n    };\n    this.setShowPrintMargin = function (showPrintMargin) {\n        this.renderer.setShowPrintMargin(showPrintMargin);\n    };\n    this.getShowPrintMargin = function () {\n        return this.renderer.getShowPrintMargin();\n    };\n    this.setPrintMarginColumn = function (showPrintMargin) {\n        this.renderer.setPrintMarginColumn(showPrintMargin);\n    };\n    this.getPrintMarginColumn = function () {\n        return this.renderer.getPrintMarginColumn();\n    };\n    this.setReadOnly = function (readOnly) {\n        this.setOption(\"readOnly\", readOnly);\n    };\n    this.getReadOnly = function () {\n        return this.getOption(\"readOnly\");\n    };\n    this.setBehavioursEnabled = function (enabled) {\n        this.setOption(\"behavioursEnabled\", enabled);\n    };\n    this.getBehavioursEnabled = function () {\n        return this.getOption(\"behavioursEnabled\");\n    };\n    this.setWrapBehavioursEnabled = function (enabled) {\n        this.setOption(\"wrapBehavioursEnabled\", enabled);\n    };\n    this.getWrapBehavioursEnabled = function () {\n        return this.getOption(\"wrapBehavioursEnabled\");\n    };\n    this.setShowFoldWidgets = function (show) {\n        this.setOption(\"showFoldWidgets\", show);\n    };\n    this.getShowFoldWidgets = function () {\n        return this.getOption(\"showFoldWidgets\");\n    };\n    this.setFadeFoldWidgets = function (fade) {\n        this.setOption(\"fadeFoldWidgets\", fade);\n    };\n    this.getFadeFoldWidgets = function () {\n        return this.getOption(\"fadeFoldWidgets\");\n    };\n    this.remove = function (dir) {\n        if (this.selection.isEmpty()) {\n            if (dir == \"left\")\n                this.selection.selectLeft();\n            else\n                this.selection.selectRight();\n        }\n        var range = this.getSelectionRange();\n        if (this.getBehavioursEnabled()) {\n            var session = this.session;\n            var state = session.getState(range.start.row);\n            var new_range = session.getMode().transformAction(state, 'deletion', this, session, range);\n            if (range.end.column === 0) {\n                var text = session.getTextRange(range);\n                if (text[text.length - 1] == \"\\n\") {\n                    var line = session.getLine(range.end.row);\n                    if (/^\\s+$/.test(line)) {\n                        range.end.column = line.length;\n                    }\n                }\n            }\n            if (new_range)\n                range = new_range;\n        }\n        this.session.remove(range);\n        this.clearSelection();\n    };\n    this.removeWordRight = function () {\n        if (this.selection.isEmpty())\n            this.selection.selectWordRight();\n        this.session.remove(this.getSelectionRange());\n        this.clearSelection();\n    };\n    this.removeWordLeft = function () {\n        if (this.selection.isEmpty())\n            this.selection.selectWordLeft();\n        this.session.remove(this.getSelectionRange());\n        this.clearSelection();\n    };\n    this.removeToLineStart = function () {\n        if (this.selection.isEmpty())\n            this.selection.selectLineStart();\n        if (this.selection.isEmpty())\n            this.selection.selectLeft();\n        this.session.remove(this.getSelectionRange());\n        this.clearSelection();\n    };\n    this.removeToLineEnd = function () {\n        if (this.selection.isEmpty())\n            this.selection.selectLineEnd();\n        var range = this.getSelectionRange();\n        if (range.start.column == range.end.column && range.start.row == range.end.row) {\n            range.end.column = 0;\n            range.end.row++;\n        }\n        this.session.remove(range);\n        this.clearSelection();\n    };\n    this.splitLine = function () {\n        if (!this.selection.isEmpty()) {\n            this.session.remove(this.getSelectionRange());\n            this.clearSelection();\n        }\n        var cursor = this.getCursorPosition();\n        this.insert(\"\\n\");\n        this.moveCursorToPosition(cursor);\n    };\n    this.transposeLetters = function () {\n        if (!this.selection.isEmpty()) {\n            return;\n        }\n        var cursor = this.getCursorPosition();\n        var column = cursor.column;\n        if (column === 0)\n            return;\n        var line = this.session.getLine(cursor.row);\n        var swap, range;\n        if (column < line.length) {\n            swap = line.charAt(column) + line.charAt(column - 1);\n            range = new Range(cursor.row, column - 1, cursor.row, column + 1);\n        }\n        else {\n            swap = line.charAt(column - 1) + line.charAt(column - 2);\n            range = new Range(cursor.row, column - 2, cursor.row, column);\n        }\n        this.session.replace(range, swap);\n        this.session.selection.moveToPosition(range.end);\n    };\n    this.toLowerCase = function () {\n        var originalRange = this.getSelectionRange();\n        if (this.selection.isEmpty()) {\n            this.selection.selectWord();\n        }\n        var range = this.getSelectionRange();\n        var text = this.session.getTextRange(range);\n        this.session.replace(range, text.toLowerCase());\n        this.selection.setSelectionRange(originalRange);\n    };\n    this.toUpperCase = function () {\n        var originalRange = this.getSelectionRange();\n        if (this.selection.isEmpty()) {\n            this.selection.selectWord();\n        }\n        var range = this.getSelectionRange();\n        var text = this.session.getTextRange(range);\n        this.session.replace(range, text.toUpperCase());\n        this.selection.setSelectionRange(originalRange);\n    };\n    this.indent = function () {\n        var session = this.session;\n        var range = this.getSelectionRange();\n        if (range.start.row < range.end.row) {\n            var rows = this.$getSelectedRows();\n            session.indentRows(rows.first, rows.last, \"\\t\");\n            return;\n        }\n        else if (range.start.column < range.end.column) {\n            var text = session.getTextRange(range);\n            if (!/^\\s+$/.test(text)) {\n                var rows = this.$getSelectedRows();\n                session.indentRows(rows.first, rows.last, \"\\t\");\n                return;\n            }\n        }\n        var line = session.getLine(range.start.row);\n        var position = range.start;\n        var size = session.getTabSize();\n        var column = session.documentToScreenColumn(position.row, position.column);\n        if (this.session.getUseSoftTabs()) {\n            var count = (size - column % size);\n            var indentString = lang.stringRepeat(\" \", count);\n        }\n        else {\n            var count = column % size;\n            while (line[range.start.column - 1] == \" \" && count) {\n                range.start.column--;\n                count--;\n            }\n            this.selection.setSelectionRange(range);\n            indentString = \"\\t\";\n        }\n        return this.insert(indentString);\n    };\n    this.blockIndent = function () {\n        var rows = this.$getSelectedRows();\n        this.session.indentRows(rows.first, rows.last, \"\\t\");\n    };\n    this.blockOutdent = function () {\n        var selection = this.session.getSelection();\n        this.session.outdentRows(selection.getRange());\n    };\n    this.sortLines = function () {\n        var rows = this.$getSelectedRows();\n        var session = this.session;\n        var lines = [];\n        for (var i = rows.first; i <= rows.last; i++)\n            lines.push(session.getLine(i));\n        lines.sort(function (a, b) {\n            if (a.toLowerCase() < b.toLowerCase())\n                return -1;\n            if (a.toLowerCase() > b.toLowerCase())\n                return 1;\n            return 0;\n        });\n        var deleteRange = new Range(0, 0, 0, 0);\n        for (var i = rows.first; i <= rows.last; i++) {\n            var line = session.getLine(i);\n            deleteRange.start.row = i;\n            deleteRange.end.row = i;\n            deleteRange.end.column = line.length;\n            session.replace(deleteRange, lines[i - rows.first]);\n        }\n    };\n    this.toggleCommentLines = function () {\n        var state = this.session.getState(this.getCursorPosition().row);\n        var rows = this.$getSelectedRows();\n        this.session.getMode().toggleCommentLines(state, this.session, rows.first, rows.last);\n    };\n    this.toggleBlockComment = function () {\n        var cursor = this.getCursorPosition();\n        var state = this.session.getState(cursor.row);\n        var range = this.getSelectionRange();\n        this.session.getMode().toggleBlockComment(state, this.session, range, cursor);\n    };\n    this.getNumberAt = function (row, column) {\n        var _numberRx = /[\\-]?[0-9]+(?:\\.[0-9]+)?/g;\n        _numberRx.lastIndex = 0;\n        var s = this.session.getLine(row);\n        while (_numberRx.lastIndex < column) {\n            var m = _numberRx.exec(s);\n            if (m.index <= column && m.index + m[0].length >= column) {\n                var number = {\n                    value: m[0],\n                    start: m.index,\n                    end: m.index + m[0].length\n                };\n                return number;\n            }\n        }\n        return null;\n    };\n    this.modifyNumber = function (amount) {\n        var row = this.selection.getCursor().row;\n        var column = this.selection.getCursor().column;\n        var charRange = new Range(row, column - 1, row, column);\n        var c = this.session.getTextRange(charRange);\n        if (!isNaN(parseFloat(c)) && isFinite(c)) {\n            var nr = this.getNumberAt(row, column);\n            if (nr) {\n                var fp = nr.value.indexOf(\".\") >= 0 ? nr.start + nr.value.indexOf(\".\") + 1 : nr.end;\n                var decimals = nr.start + nr.value.length - fp;\n                var t = parseFloat(nr.value);\n                t *= Math.pow(10, decimals);\n                if (fp !== nr.end && column < fp) {\n                    amount *= Math.pow(10, nr.end - column - 1);\n                }\n                else {\n                    amount *= Math.pow(10, nr.end - column);\n                }\n                t += amount;\n                t /= Math.pow(10, decimals);\n                var nnr = t.toFixed(decimals);\n                var replaceRange = new Range(row, nr.start, row, nr.end);\n                this.session.replace(replaceRange, nnr);\n                this.moveCursorTo(row, Math.max(nr.start + 1, column + nnr.length - nr.value.length));\n            }\n        }\n        else {\n            this.toggleWord();\n        }\n    };\n    this.$toggleWordPairs = [\n        [\"first\", \"last\"],\n        [\"true\", \"false\"],\n        [\"yes\", \"no\"],\n        [\"width\", \"height\"],\n        [\"top\", \"bottom\"],\n        [\"right\", \"left\"],\n        [\"on\", \"off\"],\n        [\"x\", \"y\"],\n        [\"get\", \"set\"],\n        [\"max\", \"min\"],\n        [\"horizontal\", \"vertical\"],\n        [\"show\", \"hide\"],\n        [\"add\", \"remove\"],\n        [\"up\", \"down\"],\n        [\"before\", \"after\"],\n        [\"even\", \"odd\"],\n        [\"in\", \"out\"],\n        [\"inside\", \"outside\"],\n        [\"next\", \"previous\"],\n        [\"increase\", \"decrease\"],\n        [\"attach\", \"detach\"],\n        [\"&&\", \"||\"],\n        [\"==\", \"!=\"]\n    ];\n    this.toggleWord = function () {\n        var row = this.selection.getCursor().row;\n        var column = this.selection.getCursor().column;\n        this.selection.selectWord();\n        var currentState = this.getSelectedText();\n        var currWordStart = this.selection.getWordRange().start.column;\n        var wordParts = currentState.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g, '$1 ').split(/\\s/);\n        var delta = column - currWordStart - 1;\n        if (delta < 0)\n            delta = 0;\n        var curLength = 0, itLength = 0;\n        var that = this;\n        if (currentState.match(/[A-Za-z0-9_]+/)) {\n            wordParts.forEach(function (item, i) {\n                itLength = curLength + item.length;\n                if (delta >= curLength && delta <= itLength) {\n                    currentState = item;\n                    that.selection.clearSelection();\n                    that.moveCursorTo(row, curLength + currWordStart);\n                    that.selection.selectTo(row, itLength + currWordStart);\n                }\n                curLength = itLength;\n            });\n        }\n        var wordPairs = this.$toggleWordPairs;\n        var reg;\n        for (var i = 0; i < wordPairs.length; i++) {\n            var item = wordPairs[i];\n            for (var j = 0; j <= 1; j++) {\n                var negate = +!j;\n                var firstCondition = currentState.match(new RegExp('^\\\\s?_?(' + lang.escapeRegExp(item[j]) + ')\\\\s?$', 'i'));\n                if (firstCondition) {\n                    var secondCondition = currentState.match(new RegExp('([_]|^|\\\\s)(' + lang.escapeRegExp(firstCondition[1]) + ')($|\\\\s)', 'g'));\n                    if (secondCondition) {\n                        reg = currentState.replace(new RegExp(lang.escapeRegExp(item[j]), 'i'), function (result) {\n                            var res = item[negate];\n                            if (result.toUpperCase() == result) {\n                                res = res.toUpperCase();\n                            }\n                            else if (result.charAt(0).toUpperCase() == result.charAt(0)) {\n                                res = res.substr(0, 0) + item[negate].charAt(0).toUpperCase() + res.substr(1);\n                            }\n                            return res;\n                        });\n                        this.insert(reg);\n                        reg = \"\";\n                    }\n                }\n            }\n        }\n    };\n    this.removeLines = function () {\n        var rows = this.$getSelectedRows();\n        this.session.removeFullLines(rows.first, rows.last);\n        this.clearSelection();\n    };\n    this.duplicateSelection = function () {\n        var sel = this.selection;\n        var doc = this.session;\n        var range = sel.getRange();\n        var reverse = sel.isBackwards();\n        if (range.isEmpty()) {\n            var row = range.start.row;\n            doc.duplicateLines(row, row);\n        }\n        else {\n            var point = reverse ? range.start : range.end;\n            var endPoint = doc.insert(point, doc.getTextRange(range), false);\n            range.start = point;\n            range.end = endPoint;\n            sel.setSelectionRange(range, reverse);\n        }\n    };\n    this.moveLinesDown = function () {\n        this.$moveLines(1, false);\n    };\n    this.moveLinesUp = function () {\n        this.$moveLines(-1, false);\n    };\n    this.moveText = function (range, toPosition, copy) {\n        return this.session.moveText(range, toPosition, copy);\n    };\n    this.copyLinesUp = function () {\n        this.$moveLines(-1, true);\n    };\n    this.copyLinesDown = function () {\n        this.$moveLines(1, true);\n    };\n    this.$moveLines = function (dir, copy) {\n        var rows, moved;\n        var selection = this.selection;\n        if (!selection.inMultiSelectMode || this.inVirtualSelectionMode) {\n            var range = selection.toOrientedRange();\n            rows = this.$getSelectedRows(range);\n            moved = this.session.$moveLines(rows.first, rows.last, copy ? 0 : dir);\n            if (copy && dir == -1)\n                moved = 0;\n            range.moveBy(moved, 0);\n            selection.fromOrientedRange(range);\n        }\n        else {\n            var ranges = selection.rangeList.ranges;\n            selection.rangeList.detach(this.session);\n            this.inVirtualSelectionMode = true;\n            var diff = 0;\n            var totalDiff = 0;\n            var l = ranges.length;\n            for (var i = 0; i < l; i++) {\n                var rangeIndex = i;\n                ranges[i].moveBy(diff, 0);\n                rows = this.$getSelectedRows(ranges[i]);\n                var first = rows.first;\n                var last = rows.last;\n                while (++i < l) {\n                    if (totalDiff)\n                        ranges[i].moveBy(totalDiff, 0);\n                    var subRows = this.$getSelectedRows(ranges[i]);\n                    if (copy && subRows.first != last)\n                        break;\n                    else if (!copy && subRows.first > last + 1)\n                        break;\n                    last = subRows.last;\n                }\n                i--;\n                diff = this.session.$moveLines(first, last, copy ? 0 : dir);\n                if (copy && dir == -1)\n                    rangeIndex = i + 1;\n                while (rangeIndex <= i) {\n                    ranges[rangeIndex].moveBy(diff, 0);\n                    rangeIndex++;\n                }\n                if (!copy)\n                    diff = 0;\n                totalDiff += diff;\n            }\n            selection.fromOrientedRange(selection.ranges[0]);\n            selection.rangeList.attach(this.session);\n            this.inVirtualSelectionMode = false;\n        }\n    };\n    this.$getSelectedRows = function (range) {\n        range = (range || this.getSelectionRange()).collapseRows();\n        return {\n            first: this.session.getRowFoldStart(range.start.row),\n            last: this.session.getRowFoldEnd(range.end.row)\n        };\n    };\n    this.onCompositionStart = function (compositionState) {\n        this.renderer.showComposition(compositionState);\n    };\n    this.onCompositionUpdate = function (text) {\n        this.renderer.setCompositionText(text);\n    };\n    this.onCompositionEnd = function () {\n        this.renderer.hideComposition();\n    };\n    this.getFirstVisibleRow = function () {\n        return this.renderer.getFirstVisibleRow();\n    };\n    this.getLastVisibleRow = function () {\n        return this.renderer.getLastVisibleRow();\n    };\n    this.isRowVisible = function (row) {\n        return (row >= this.getFirstVisibleRow() && row <= this.getLastVisibleRow());\n    };\n    this.isRowFullyVisible = function (row) {\n        return (row >= this.renderer.getFirstFullyVisibleRow() && row <= this.renderer.getLastFullyVisibleRow());\n    };\n    this.$getVisibleRowCount = function () {\n        return this.renderer.getScrollBottomRow() - this.renderer.getScrollTopRow() + 1;\n    };\n    this.$moveByPage = function (dir, select) {\n        var renderer = this.renderer;\n        var config = this.renderer.layerConfig;\n        var rows = dir * Math.floor(config.height / config.lineHeight);\n        if (select === true) {\n            this.selection.$moveSelection(function () {\n                this.moveCursorBy(rows, 0);\n            });\n        }\n        else if (select === false) {\n            this.selection.moveCursorBy(rows, 0);\n            this.selection.clearSelection();\n        }\n        var scrollTop = renderer.scrollTop;\n        renderer.scrollBy(0, rows * config.lineHeight);\n        if (select != null)\n            renderer.scrollCursorIntoView(null, 0.5);\n        renderer.animateScrolling(scrollTop);\n    };\n    this.selectPageDown = function () {\n        this.$moveByPage(1, true);\n    };\n    this.selectPageUp = function () {\n        this.$moveByPage(-1, true);\n    };\n    this.gotoPageDown = function () {\n        this.$moveByPage(1, false);\n    };\n    this.gotoPageUp = function () {\n        this.$moveByPage(-1, false);\n    };\n    this.scrollPageDown = function () {\n        this.$moveByPage(1);\n    };\n    this.scrollPageUp = function () {\n        this.$moveByPage(-1);\n    };\n    this.scrollToRow = function (row) {\n        this.renderer.scrollToRow(row);\n    };\n    this.scrollToLine = function (line, center, animate, callback) {\n        this.renderer.scrollToLine(line, center, animate, callback);\n    };\n    this.centerSelection = function () {\n        var range = this.getSelectionRange();\n        var pos = {\n            row: Math.floor(range.start.row + (range.end.row - range.start.row) / 2),\n            column: Math.floor(range.start.column + (range.end.column - range.start.column) / 2)\n        };\n        this.renderer.alignCursor(pos, 0.5);\n    };\n    this.getCursorPosition = function () {\n        return this.selection.getCursor();\n    };\n    this.getCursorPositionScreen = function () {\n        return this.session.documentToScreenPosition(this.getCursorPosition());\n    };\n    this.getSelectionRange = function () {\n        return this.selection.getRange();\n    };\n    this.selectAll = function () {\n        this.selection.selectAll();\n    };\n    this.clearSelection = function () {\n        this.selection.clearSelection();\n    };\n    this.moveCursorTo = function (row, column) {\n        this.selection.moveCursorTo(row, column);\n    };\n    this.moveCursorToPosition = function (pos) {\n        this.selection.moveCursorToPosition(pos);\n    };\n    this.jumpToMatching = function (select, expand) {\n        var cursor = this.getCursorPosition();\n        var iterator = new TokenIterator(this.session, cursor.row, cursor.column);\n        var prevToken = iterator.getCurrentToken();\n        var token = prevToken || iterator.stepForward();\n        if (!token)\n            return;\n        var matchType;\n        var found = false;\n        var depth = {};\n        var i = cursor.column - token.start;\n        var bracketType;\n        var brackets = {\n            \")\": \"(\",\n            \"(\": \"(\",\n            \"]\": \"[\",\n            \"[\": \"[\",\n            \"{\": \"{\",\n            \"}\": \"{\"\n        };\n        do {\n            if (token.value.match(/[{}()\\[\\]]/g)) {\n                for (; i < token.value.length && !found; i++) {\n                    if (!brackets[token.value[i]]) {\n                        continue;\n                    }\n                    bracketType = brackets[token.value[i]] + '.' + token.type.replace(\"rparen\", \"lparen\");\n                    if (isNaN(depth[bracketType])) {\n                        depth[bracketType] = 0;\n                    }\n                    switch (token.value[i]) {\n                        case '(':\n                        case '[':\n                        case '{':\n                            depth[bracketType]++;\n                            break;\n                        case ')':\n                        case ']':\n                        case '}':\n                            depth[bracketType]--;\n                            if (depth[bracketType] === -1) {\n                                matchType = 'bracket';\n                                found = true;\n                            }\n                            break;\n                    }\n                }\n            }\n            else if (token.type.indexOf('tag-name') !== -1) {\n                if (isNaN(depth[token.value])) {\n                    depth[token.value] = 0;\n                }\n                if (prevToken.value === '<') {\n                    depth[token.value]++;\n                }\n                else if (prevToken.value === '</') {\n                    depth[token.value]--;\n                }\n                if (depth[token.value] === -1) {\n                    matchType = 'tag';\n                    found = true;\n                }\n            }\n            if (!found) {\n                prevToken = token;\n                token = iterator.stepForward();\n                i = 0;\n            }\n        } while (token && !found);\n        if (!matchType)\n            return;\n        var range, pos;\n        if (matchType === 'bracket') {\n            range = this.session.getBracketRange(cursor);\n            if (!range) {\n                range = new Range(iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() + i - 1, iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() + i - 1);\n                pos = range.start;\n                if (expand || pos.row === cursor.row && Math.abs(pos.column - cursor.column) < 2)\n                    range = this.session.getBracketRange(pos);\n            }\n        }\n        else if (matchType === 'tag') {\n            if (token && token.type.indexOf('tag-name') !== -1)\n                var tag = token.value;\n            else\n                return;\n            range = new Range(iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() - 2, iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() - 2);\n            if (range.compare(cursor.row, cursor.column) === 0) {\n                found = false;\n                do {\n                    token = prevToken;\n                    prevToken = iterator.stepBackward();\n                    if (prevToken) {\n                        if (prevToken.type.indexOf('tag-close') !== -1) {\n                            range.setEnd(iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() + 1);\n                        }\n                        if (token.value === tag && token.type.indexOf('tag-name') !== -1) {\n                            if (prevToken.value === '<') {\n                                depth[tag]++;\n                            }\n                            else if (prevToken.value === '</') {\n                                depth[tag]--;\n                            }\n                            if (depth[tag] === 0)\n                                found = true;\n                        }\n                    }\n                } while (prevToken && !found);\n            }\n            if (token && token.type.indexOf('tag-name')) {\n                pos = range.start;\n                if (pos.row == cursor.row && Math.abs(pos.column - cursor.column) < 2)\n                    pos = range.end;\n            }\n        }\n        pos = range && range.cursor || pos;\n        if (pos) {\n            if (select) {\n                if (range && expand) {\n                    this.selection.setRange(range);\n                }\n                else if (range && range.isEqual(this.getSelectionRange())) {\n                    this.clearSelection();\n                }\n                else {\n                    this.selection.selectTo(pos.row, pos.column);\n                }\n            }\n            else {\n                this.selection.moveTo(pos.row, pos.column);\n            }\n        }\n    };\n    this.gotoLine = function (lineNumber, column, animate) {\n        this.selection.clearSelection();\n        this.session.unfold({ row: lineNumber - 1, column: column || 0 });\n        this.exitMultiSelectMode && this.exitMultiSelectMode();\n        this.moveCursorTo(lineNumber - 1, column || 0);\n        if (!this.isRowFullyVisible(lineNumber - 1))\n            this.scrollToLine(lineNumber - 1, true, animate);\n    };\n    this.navigateTo = function (row, column) {\n        this.selection.moveTo(row, column);\n    };\n    this.navigateUp = function (times) {\n        if (this.selection.isMultiLine() && !this.selection.isBackwards()) {\n            var selectionStart = this.selection.anchor.getPosition();\n            return this.moveCursorToPosition(selectionStart);\n        }\n        this.selection.clearSelection();\n        this.selection.moveCursorBy(-times || -1, 0);\n    };\n    this.navigateDown = function (times) {\n        if (this.selection.isMultiLine() && this.selection.isBackwards()) {\n            var selectionEnd = this.selection.anchor.getPosition();\n            return this.moveCursorToPosition(selectionEnd);\n        }\n        this.selection.clearSelection();\n        this.selection.moveCursorBy(times || 1, 0);\n    };\n    this.navigateLeft = function (times) {\n        if (!this.selection.isEmpty()) {\n            var selectionStart = this.getSelectionRange().start;\n            this.moveCursorToPosition(selectionStart);\n        }\n        else {\n            times = times || 1;\n            while (times--) {\n                this.selection.moveCursorLeft();\n            }\n        }\n        this.clearSelection();\n    };\n    this.navigateRight = function (times) {\n        if (!this.selection.isEmpty()) {\n            var selectionEnd = this.getSelectionRange().end;\n            this.moveCursorToPosition(selectionEnd);\n        }\n        else {\n            times = times || 1;\n            while (times--) {\n                this.selection.moveCursorRight();\n            }\n        }\n        this.clearSelection();\n    };\n    this.navigateLineStart = function () {\n        this.selection.moveCursorLineStart();\n        this.clearSelection();\n    };\n    this.navigateLineEnd = function () {\n        this.selection.moveCursorLineEnd();\n        this.clearSelection();\n    };\n    this.navigateFileEnd = function () {\n        this.selection.moveCursorFileEnd();\n        this.clearSelection();\n    };\n    this.navigateFileStart = function () {\n        this.selection.moveCursorFileStart();\n        this.clearSelection();\n    };\n    this.navigateWordRight = function () {\n        this.selection.moveCursorWordRight();\n        this.clearSelection();\n    };\n    this.navigateWordLeft = function () {\n        this.selection.moveCursorWordLeft();\n        this.clearSelection();\n    };\n    this.replace = function (replacement, options) {\n        if (options)\n            this.$search.set(options);\n        var range = this.$search.find(this.session);\n        var replaced = 0;\n        if (!range)\n            return replaced;\n        if (this.$tryReplace(range, replacement)) {\n            replaced = 1;\n        }\n        this.selection.setSelectionRange(range);\n        this.renderer.scrollSelectionIntoView(range.start, range.end);\n        return replaced;\n    };\n    this.replaceAll = function (replacement, options) {\n        if (options) {\n            this.$search.set(options);\n        }\n        var ranges = this.$search.findAll(this.session);\n        var replaced = 0;\n        if (!ranges.length)\n            return replaced;\n        var selection = this.getSelectionRange();\n        this.selection.moveTo(0, 0);\n        for (var i = ranges.length - 1; i >= 0; --i) {\n            if (this.$tryReplace(ranges[i], replacement)) {\n                replaced++;\n            }\n        }\n        this.selection.setSelectionRange(selection);\n        return replaced;\n    };\n    this.$tryReplace = function (range, replacement) {\n        var input = this.session.getTextRange(range);\n        replacement = this.$search.replace(input, replacement);\n        if (replacement !== null) {\n            range.end = this.session.replace(range, replacement);\n            return range;\n        }\n        else {\n            return null;\n        }\n    };\n    this.getLastSearchOptions = function () {\n        return this.$search.getOptions();\n    };\n    this.find = function (needle, options, animate) {\n        if (!options)\n            options = {};\n        if (typeof needle == \"string\" || needle instanceof RegExp)\n            options.needle = needle;\n        else if (typeof needle == \"object\")\n            oop.mixin(options, needle);\n        var range = this.selection.getRange();\n        if (options.needle == null) {\n            needle = this.session.getTextRange(range)\n                || this.$search.$options.needle;\n            if (!needle) {\n                range = this.session.getWordRange(range.start.row, range.start.column);\n                needle = this.session.getTextRange(range);\n            }\n            this.$search.set({ needle: needle });\n        }\n        this.$search.set(options);\n        if (!options.start)\n            this.$search.set({ start: range });\n        var newRange = this.$search.find(this.session);\n        if (options.preventScroll)\n            return newRange;\n        if (newRange) {\n            this.revealRange(newRange, animate);\n            return newRange;\n        }\n        if (options.backwards)\n            range.start = range.end;\n        else\n            range.end = range.start;\n        this.selection.setRange(range);\n    };\n    this.findNext = function (options, animate) {\n        this.find({ skipCurrent: true, backwards: false }, options, animate);\n    };\n    this.findPrevious = function (options, animate) {\n        this.find(options, { skipCurrent: true, backwards: true }, animate);\n    };\n    this.revealRange = function (range, animate) {\n        this.session.unfold(range);\n        this.selection.setSelectionRange(range);\n        var scrollTop = this.renderer.scrollTop;\n        this.renderer.scrollSelectionIntoView(range.start, range.end, 0.5);\n        if (animate !== false)\n            this.renderer.animateScrolling(scrollTop);\n    };\n    this.undo = function () {\n        this.session.getUndoManager().undo(this.session);\n        this.renderer.scrollCursorIntoView(null, 0.5);\n    };\n    this.redo = function () {\n        this.session.getUndoManager().redo(this.session);\n        this.renderer.scrollCursorIntoView(null, 0.5);\n    };\n    this.destroy = function () {\n        if (this.$toDestroy) {\n            this.$toDestroy.forEach(function (el) {\n                el.destroy();\n            });\n            this.$toDestroy = null;\n        }\n        if (this.$mouseHandler)\n            this.$mouseHandler.destroy();\n        this.renderer.destroy();\n        this._signal(\"destroy\", this);\n        if (this.session)\n            this.session.destroy();\n        if (this._$emitInputEvent)\n            this._$emitInputEvent.cancel();\n        this.removeAllListeners();\n    };\n    this.setAutoScrollEditorIntoView = function (enable) {\n        if (!enable)\n            return;\n        var rect;\n        var self = this;\n        var shouldScroll = false;\n        if (!this.$scrollAnchor)\n            this.$scrollAnchor = document.createElement(\"div\");\n        var scrollAnchor = this.$scrollAnchor;\n        scrollAnchor.style.cssText = \"position:absolute\";\n        this.container.insertBefore(scrollAnchor, this.container.firstChild);\n        var onChangeSelection = this.on(\"changeSelection\", function () {\n            shouldScroll = true;\n        });\n        var onBeforeRender = this.renderer.on(\"beforeRender\", function () {\n            if (shouldScroll)\n                rect = self.renderer.container.getBoundingClientRect();\n        });\n        var onAfterRender = this.renderer.on(\"afterRender\", function () {\n            if (shouldScroll && rect && (self.isFocused()\n                || self.searchBox && self.searchBox.isFocused())) {\n                var renderer = self.renderer;\n                var pos = renderer.$cursorLayer.$pixelPos;\n                var config = renderer.layerConfig;\n                var top = pos.top - config.offset;\n                if (pos.top >= 0 && top + rect.top < 0) {\n                    shouldScroll = true;\n                }\n                else if (pos.top < config.height &&\n                    pos.top + rect.top + config.lineHeight > window.innerHeight) {\n                    shouldScroll = false;\n                }\n                else {\n                    shouldScroll = null;\n                }\n                if (shouldScroll != null) {\n                    scrollAnchor.style.top = top + \"px\";\n                    scrollAnchor.style.left = pos.left + \"px\";\n                    scrollAnchor.style.height = config.lineHeight + \"px\";\n                    scrollAnchor.scrollIntoView(shouldScroll);\n                }\n                shouldScroll = rect = null;\n            }\n        });\n        this.setAutoScrollEditorIntoView = function (enable) {\n            if (enable)\n                return;\n            delete this.setAutoScrollEditorIntoView;\n            this.off(\"changeSelection\", onChangeSelection);\n            this.renderer.off(\"afterRender\", onAfterRender);\n            this.renderer.off(\"beforeRender\", onBeforeRender);\n        };\n    };\n    this.$resetCursorStyle = function () {\n        var style = this.$cursorStyle || \"ace\";\n        var cursorLayer = this.renderer.$cursorLayer;\n        if (!cursorLayer)\n            return;\n        cursorLayer.setSmoothBlinking(/smooth/.test(style));\n        cursorLayer.isBlinking = !this.$readOnly && style != \"wide\";\n        dom.setCssClass(cursorLayer.element, \"ace_slim-cursors\", /slim/.test(style));\n    };\n    this.prompt = function (message, options, callback) {\n        var editor = this;\n        config.loadModule(\"./ext/prompt\", function (module) {\n            module.prompt(editor, message, options, callback);\n        });\n    };\n}).call(Editor.prototype);\nconfig.defineOptions(Editor.prototype, \"editor\", {\n    selectionStyle: {\n        set: function (style) {\n            this.onSelectionChange();\n            this._signal(\"changeSelectionStyle\", { data: style });\n        },\n        initialValue: \"line\"\n    },\n    highlightActiveLine: {\n        set: function () { this.$updateHighlightActiveLine(); },\n        initialValue: true\n    },\n    highlightSelectedWord: {\n        set: function (shouldHighlight) { this.$onSelectionChange(); },\n        initialValue: true\n    },\n    readOnly: {\n        set: function (readOnly) {\n            this.textInput.setReadOnly(readOnly);\n            this.$resetCursorStyle();\n        },\n        initialValue: false\n    },\n    copyWithEmptySelection: {\n        set: function (value) {\n            this.textInput.setCopyWithEmptySelection(value);\n        },\n        initialValue: false\n    },\n    cursorStyle: {\n        set: function (val) { this.$resetCursorStyle(); },\n        values: [\"ace\", \"slim\", \"smooth\", \"wide\"],\n        initialValue: \"ace\"\n    },\n    mergeUndoDeltas: {\n        values: [false, true, \"always\"],\n        initialValue: true\n    },\n    behavioursEnabled: { initialValue: true },\n    wrapBehavioursEnabled: { initialValue: true },\n    enableAutoIndent: { initialValue: true },\n    autoScrollEditorIntoView: {\n        set: function (val) { this.setAutoScrollEditorIntoView(val); }\n    },\n    keyboardHandler: {\n        set: function (val) { this.setKeyboardHandler(val); },\n        get: function () { return this.$keybindingId; },\n        handlesSet: true\n    },\n    value: {\n        set: function (val) { this.session.setValue(val); },\n        get: function () { return this.getValue(); },\n        handlesSet: true,\n        hidden: true\n    },\n    session: {\n        set: function (val) { this.setSession(val); },\n        get: function () { return this.session; },\n        handlesSet: true,\n        hidden: true\n    },\n    showLineNumbers: {\n        set: function (show) {\n            this.renderer.$gutterLayer.setShowLineNumbers(show);\n            this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER);\n            if (show && this.$relativeLineNumbers)\n                relativeNumberRenderer.attach(this);\n            else\n                relativeNumberRenderer.detach(this);\n        },\n        initialValue: true\n    },\n    relativeLineNumbers: {\n        set: function (value) {\n            if (this.$showLineNumbers && value)\n                relativeNumberRenderer.attach(this);\n            else\n                relativeNumberRenderer.detach(this);\n        }\n    },\n    placeholder: {\n        set: function (message) {\n            if (!this.$updatePlaceholder) {\n                this.$updatePlaceholder = function () {\n                    var value = this.session && (this.renderer.$composition || this.getValue());\n                    if (value && this.renderer.placeholderNode) {\n                        this.renderer.off(\"afterRender\", this.$updatePlaceholder);\n                        dom.removeCssClass(this.container, \"ace_hasPlaceholder\");\n                        this.renderer.placeholderNode.remove();\n                        this.renderer.placeholderNode = null;\n                    }\n                    else if (!value && !this.renderer.placeholderNode) {\n                        this.renderer.on(\"afterRender\", this.$updatePlaceholder);\n                        dom.addCssClass(this.container, \"ace_hasPlaceholder\");\n                        var el = dom.createElement(\"div\");\n                        el.className = \"ace_placeholder\";\n                        el.textContent = this.$placeholder || \"\";\n                        this.renderer.placeholderNode = el;\n                        this.renderer.content.appendChild(this.renderer.placeholderNode);\n                    }\n                    else if (!value && this.renderer.placeholderNode) {\n                        this.renderer.placeholderNode.textContent = this.$placeholder || \"\";\n                    }\n                }.bind(this);\n                this.on(\"input\", this.$updatePlaceholder);\n            }\n            this.$updatePlaceholder();\n        }\n    },\n    hScrollBarAlwaysVisible: \"renderer\",\n    vScrollBarAlwaysVisible: \"renderer\",\n    highlightGutterLine: \"renderer\",\n    animatedScroll: \"renderer\",\n    showInvisibles: \"renderer\",\n    showPrintMargin: \"renderer\",\n    printMarginColumn: \"renderer\",\n    printMargin: \"renderer\",\n    fadeFoldWidgets: \"renderer\",\n    showFoldWidgets: \"renderer\",\n    displayIndentGuides: \"renderer\",\n    highlightIndentGuides: \"renderer\",\n    showGutter: \"renderer\",\n    fontSize: \"renderer\",\n    fontFamily: \"renderer\",\n    maxLines: \"renderer\",\n    minLines: \"renderer\",\n    scrollPastEnd: \"renderer\",\n    fixedWidthGutter: \"renderer\",\n    theme: \"renderer\",\n    hasCssTransforms: \"renderer\",\n    maxPixelHeight: \"renderer\",\n    useTextareaForIME: \"renderer\",\n    scrollSpeed: \"$mouseHandler\",\n    dragDelay: \"$mouseHandler\",\n    dragEnabled: \"$mouseHandler\",\n    focusTimeout: \"$mouseHandler\",\n    tooltipFollowsMouse: \"$mouseHandler\",\n    firstLineNumber: \"session\",\n    overwrite: \"session\",\n    newLineMode: \"session\",\n    useWorker: \"session\",\n    useSoftTabs: \"session\",\n    navigateWithinSoftTabs: \"session\",\n    tabSize: \"session\",\n    wrap: \"session\",\n    indentedSoftWrap: \"session\",\n    foldStyle: \"session\",\n    mode: \"session\"\n});\nvar relativeNumberRenderer = {\n    getText: function (session, row) {\n        return (Math.abs(session.selection.lead.row - row) || (row + 1 + (row < 9 ? \"\\xb7\" : \"\"))) + \"\";\n    },\n    getWidth: function (session, lastLineNumber, config) {\n        return Math.max(lastLineNumber.toString().length, (config.lastRow + 1).toString().length, 2) * config.characterWidth;\n    },\n    update: function (e, editor) {\n        editor.renderer.$loop.schedule(editor.renderer.CHANGE_GUTTER);\n    },\n    attach: function (editor) {\n        editor.renderer.$gutterLayer.$renderer = this;\n        editor.on(\"changeSelection\", this.update);\n        this.update(null, editor);\n    },\n    detach: function (editor) {\n        if (editor.renderer.$gutterLayer.$renderer == this)\n            editor.renderer.$gutterLayer.$renderer = null;\n        editor.off(\"changeSelection\", this.update);\n        this.update(null, editor);\n    }\n};\nexports.Editor = Editor;\n\n});\n\nace.define(\"ace/undomanager\",[\"require\",\"exports\",\"module\",\"ace/range\"], function(require, exports, module){\"use strict\";\nvar UndoManager = function () {\n    this.$maxRev = 0;\n    this.$fromUndo = false;\n    this.$undoDepth = Infinity;\n    this.reset();\n};\n(function () {\n    this.addSession = function (session) {\n        this.$session = session;\n    };\n    this.add = function (delta, allowMerge, session) {\n        if (this.$fromUndo)\n            return;\n        if (delta == this.$lastDelta)\n            return;\n        if (!this.$keepRedoStack)\n            this.$redoStack.length = 0;\n        if (allowMerge === false || !this.lastDeltas) {\n            this.lastDeltas = [];\n            var undoStackLength = this.$undoStack.length;\n            if (undoStackLength > this.$undoDepth - 1) {\n                this.$undoStack.splice(0, undoStackLength - this.$undoDepth + 1);\n            }\n            this.$undoStack.push(this.lastDeltas);\n            delta.id = this.$rev = ++this.$maxRev;\n        }\n        if (delta.action == \"remove\" || delta.action == \"insert\")\n            this.$lastDelta = delta;\n        this.lastDeltas.push(delta);\n    };\n    this.addSelection = function (selection, rev) {\n        this.selections.push({\n            value: selection,\n            rev: rev || this.$rev\n        });\n    };\n    this.startNewGroup = function () {\n        this.lastDeltas = null;\n        return this.$rev;\n    };\n    this.markIgnored = function (from, to) {\n        if (to == null)\n            to = this.$rev + 1;\n        var stack = this.$undoStack;\n        for (var i = stack.length; i--;) {\n            var delta = stack[i][0];\n            if (delta.id <= from)\n                break;\n            if (delta.id < to)\n                delta.ignore = true;\n        }\n        this.lastDeltas = null;\n    };\n    this.getSelection = function (rev, after) {\n        var stack = this.selections;\n        for (var i = stack.length; i--;) {\n            var selection = stack[i];\n            if (selection.rev < rev) {\n                if (after)\n                    selection = stack[i + 1];\n                return selection;\n            }\n        }\n    };\n    this.getRevision = function () {\n        return this.$rev;\n    };\n    this.getDeltas = function (from, to) {\n        if (to == null)\n            to = this.$rev + 1;\n        var stack = this.$undoStack;\n        var end = null, start = 0;\n        for (var i = stack.length; i--;) {\n            var delta = stack[i][0];\n            if (delta.id < to && !end)\n                end = i + 1;\n            if (delta.id <= from) {\n                start = i + 1;\n                break;\n            }\n        }\n        return stack.slice(start, end);\n    };\n    this.getChangedRanges = function (from, to) {\n        if (to == null)\n            to = this.$rev + 1;\n    };\n    this.getChangedLines = function (from, to) {\n        if (to == null)\n            to = this.$rev + 1;\n    };\n    this.undo = function (session, dontSelect) {\n        this.lastDeltas = null;\n        var stack = this.$undoStack;\n        if (!rearrangeUndoStack(stack, stack.length))\n            return;\n        if (!session)\n            session = this.$session;\n        if (this.$redoStackBaseRev !== this.$rev && this.$redoStack.length)\n            this.$redoStack = [];\n        this.$fromUndo = true;\n        var deltaSet = stack.pop();\n        var undoSelectionRange = null;\n        if (deltaSet) {\n            undoSelectionRange = session.undoChanges(deltaSet, dontSelect);\n            this.$redoStack.push(deltaSet);\n            this.$syncRev();\n        }\n        this.$fromUndo = false;\n        return undoSelectionRange;\n    };\n    this.redo = function (session, dontSelect) {\n        this.lastDeltas = null;\n        if (!session)\n            session = this.$session;\n        this.$fromUndo = true;\n        if (this.$redoStackBaseRev != this.$rev) {\n            var diff = this.getDeltas(this.$redoStackBaseRev, this.$rev + 1);\n            rebaseRedoStack(this.$redoStack, diff);\n            this.$redoStackBaseRev = this.$rev;\n            this.$redoStack.forEach(function (x) {\n                x[0].id = ++this.$maxRev;\n            }, this);\n        }\n        var deltaSet = this.$redoStack.pop();\n        var redoSelectionRange = null;\n        if (deltaSet) {\n            redoSelectionRange = session.redoChanges(deltaSet, dontSelect);\n            this.$undoStack.push(deltaSet);\n            this.$syncRev();\n        }\n        this.$fromUndo = false;\n        return redoSelectionRange;\n    };\n    this.$syncRev = function () {\n        var stack = this.$undoStack;\n        var nextDelta = stack[stack.length - 1];\n        var id = nextDelta && nextDelta[0].id || 0;\n        this.$redoStackBaseRev = id;\n        this.$rev = id;\n    };\n    this.reset = function () {\n        this.lastDeltas = null;\n        this.$lastDelta = null;\n        this.$undoStack = [];\n        this.$redoStack = [];\n        this.$rev = 0;\n        this.mark = 0;\n        this.$redoStackBaseRev = this.$rev;\n        this.selections = [];\n    };\n    this.canUndo = function () {\n        return this.$undoStack.length > 0;\n    };\n    this.canRedo = function () {\n        return this.$redoStack.length > 0;\n    };\n    this.bookmark = function (rev) {\n        if (rev == undefined)\n            rev = this.$rev;\n        this.mark = rev;\n    };\n    this.isAtBookmark = function () {\n        return this.$rev === this.mark;\n    };\n    this.toJSON = function () {\n    };\n    this.fromJSON = function () {\n    };\n    this.hasUndo = this.canUndo;\n    this.hasRedo = this.canRedo;\n    this.isClean = this.isAtBookmark;\n    this.markClean = this.bookmark;\n    this.$prettyPrint = function (delta) {\n        if (delta)\n            return stringifyDelta(delta);\n        return stringifyDelta(this.$undoStack) + \"\\n---\\n\" + stringifyDelta(this.$redoStack);\n    };\n}).call(UndoManager.prototype);\nfunction rearrangeUndoStack(stack, pos) {\n    for (var i = pos; i--;) {\n        var deltaSet = stack[i];\n        if (deltaSet && !deltaSet[0].ignore) {\n            while (i < pos - 1) {\n                var swapped = swapGroups(stack[i], stack[i + 1]);\n                stack[i] = swapped[0];\n                stack[i + 1] = swapped[1];\n                i++;\n            }\n            return true;\n        }\n    }\n}\nvar Range = require(\"./range\").Range;\nvar cmp = Range.comparePoints;\nvar comparePoints = Range.comparePoints;\nfunction $updateMarkers(delta) {\n    var isInsert = delta.action == \"insert\";\n    var start = delta.start;\n    var end = delta.end;\n    var rowShift = (end.row - start.row) * (isInsert ? 1 : -1);\n    var colShift = (end.column - start.column) * (isInsert ? 1 : -1);\n    if (isInsert)\n        end = start;\n    for (var i in this.marks) {\n        var point = this.marks[i];\n        var cmp = comparePoints(point, start);\n        if (cmp < 0) {\n            continue; // delta starts after the range\n        }\n        if (cmp === 0) {\n            if (isInsert) {\n                if (point.bias == 1) {\n                    cmp = 1;\n                }\n                else {\n                    point.bias == -1;\n                    continue;\n                }\n            }\n        }\n        var cmp2 = isInsert ? cmp : comparePoints(point, end);\n        if (cmp2 > 0) {\n            point.row += rowShift;\n            point.column += point.row == end.row ? colShift : 0;\n            continue;\n        }\n        if (!isInsert && cmp2 <= 0) {\n            point.row = start.row;\n            point.column = start.column;\n            if (cmp2 === 0)\n                point.bias = 1;\n        }\n    }\n}\nfunction clonePos(pos) {\n    return { row: pos.row, column: pos.column };\n}\nfunction cloneDelta(d) {\n    return {\n        start: clonePos(d.start),\n        end: clonePos(d.end),\n        action: d.action,\n        lines: d.lines.slice()\n    };\n}\nfunction stringifyDelta(d) {\n    d = d || this;\n    if (Array.isArray(d)) {\n        return d.map(stringifyDelta).join(\"\\n\");\n    }\n    var type = \"\";\n    if (d.action) {\n        type = d.action == \"insert\" ? \"+\" : \"-\";\n        type += \"[\" + d.lines + \"]\";\n    }\n    else if (d.value) {\n        if (Array.isArray(d.value)) {\n            type = d.value.map(stringifyRange).join(\"\\n\");\n        }\n        else {\n            type = stringifyRange(d.value);\n        }\n    }\n    if (d.start) {\n        type += stringifyRange(d);\n    }\n    if (d.id || d.rev) {\n        type += \"\\t(\" + (d.id || d.rev) + \")\";\n    }\n    return type;\n}\nfunction stringifyRange(r) {\n    return r.start.row + \":\" + r.start.column\n        + \"=>\" + r.end.row + \":\" + r.end.column;\n}\nfunction swap(d1, d2) {\n    var i1 = d1.action == \"insert\";\n    var i2 = d2.action == \"insert\";\n    if (i1 && i2) {\n        if (cmp(d2.start, d1.end) >= 0) {\n            shift(d2, d1, -1);\n        }\n        else if (cmp(d2.start, d1.start) <= 0) {\n            shift(d1, d2, +1);\n        }\n        else {\n            return null;\n        }\n    }\n    else if (i1 && !i2) {\n        if (cmp(d2.start, d1.end) >= 0) {\n            shift(d2, d1, -1);\n        }\n        else if (cmp(d2.end, d1.start) <= 0) {\n            shift(d1, d2, -1);\n        }\n        else {\n            return null;\n        }\n    }\n    else if (!i1 && i2) {\n        if (cmp(d2.start, d1.start) >= 0) {\n            shift(d2, d1, +1);\n        }\n        else if (cmp(d2.start, d1.start) <= 0) {\n            shift(d1, d2, +1);\n        }\n        else {\n            return null;\n        }\n    }\n    else if (!i1 && !i2) {\n        if (cmp(d2.start, d1.start) >= 0) {\n            shift(d2, d1, +1);\n        }\n        else if (cmp(d2.end, d1.start) <= 0) {\n            shift(d1, d2, -1);\n        }\n        else {\n            return null;\n        }\n    }\n    return [d2, d1];\n}\nfunction swapGroups(ds1, ds2) {\n    for (var i = ds1.length; i--;) {\n        for (var j = 0; j < ds2.length; j++) {\n            if (!swap(ds1[i], ds2[j])) {\n                while (i < ds1.length) {\n                    while (j--) {\n                        swap(ds2[j], ds1[i]);\n                    }\n                    j = ds2.length;\n                    i++;\n                }\n                return [ds1, ds2];\n            }\n        }\n    }\n    ds1.selectionBefore = ds2.selectionBefore =\n        ds1.selectionAfter = ds2.selectionAfter = null;\n    return [ds2, ds1];\n}\nfunction xform(d1, c1) {\n    var i1 = d1.action == \"insert\";\n    var i2 = c1.action == \"insert\";\n    if (i1 && i2) {\n        if (cmp(d1.start, c1.start) < 0) {\n            shift(c1, d1, 1);\n        }\n        else {\n            shift(d1, c1, 1);\n        }\n    }\n    else if (i1 && !i2) {\n        if (cmp(d1.start, c1.end) >= 0) {\n            shift(d1, c1, -1);\n        }\n        else if (cmp(d1.start, c1.start) <= 0) {\n            shift(c1, d1, +1);\n        }\n        else {\n            shift(d1, Range.fromPoints(c1.start, d1.start), -1);\n            shift(c1, d1, +1);\n        }\n    }\n    else if (!i1 && i2) {\n        if (cmp(c1.start, d1.end) >= 0) {\n            shift(c1, d1, -1);\n        }\n        else if (cmp(c1.start, d1.start) <= 0) {\n            shift(d1, c1, +1);\n        }\n        else {\n            shift(c1, Range.fromPoints(d1.start, c1.start), -1);\n            shift(d1, c1, +1);\n        }\n    }\n    else if (!i1 && !i2) {\n        if (cmp(c1.start, d1.end) >= 0) {\n            shift(c1, d1, -1);\n        }\n        else if (cmp(c1.end, d1.start) <= 0) {\n            shift(d1, c1, -1);\n        }\n        else {\n            var before, after;\n            if (cmp(d1.start, c1.start) < 0) {\n                before = d1;\n                d1 = splitDelta(d1, c1.start);\n            }\n            if (cmp(d1.end, c1.end) > 0) {\n                after = splitDelta(d1, c1.end);\n            }\n            shiftPos(c1.end, d1.start, d1.end, -1);\n            if (after && !before) {\n                d1.lines = after.lines;\n                d1.start = after.start;\n                d1.end = after.end;\n                after = d1;\n            }\n            return [c1, before, after].filter(Boolean);\n        }\n    }\n    return [c1, d1];\n}\nfunction shift(d1, d2, dir) {\n    shiftPos(d1.start, d2.start, d2.end, dir);\n    shiftPos(d1.end, d2.start, d2.end, dir);\n}\nfunction shiftPos(pos, start, end, dir) {\n    if (pos.row == (dir == 1 ? start : end).row) {\n        pos.column += dir * (end.column - start.column);\n    }\n    pos.row += dir * (end.row - start.row);\n}\nfunction splitDelta(c, pos) {\n    var lines = c.lines;\n    var end = c.end;\n    c.end = clonePos(pos);\n    var rowsBefore = c.end.row - c.start.row;\n    var otherLines = lines.splice(rowsBefore, lines.length);\n    var col = rowsBefore ? pos.column : pos.column - c.start.column;\n    lines.push(otherLines[0].substring(0, col));\n    otherLines[0] = otherLines[0].substr(col);\n    var rest = {\n        start: clonePos(pos),\n        end: end,\n        lines: otherLines,\n        action: c.action\n    };\n    return rest;\n}\nfunction moveDeltasByOne(redoStack, d) {\n    d = cloneDelta(d);\n    for (var j = redoStack.length; j--;) {\n        var deltaSet = redoStack[j];\n        for (var i = 0; i < deltaSet.length; i++) {\n            var x = deltaSet[i];\n            var xformed = xform(x, d);\n            d = xformed[0];\n            if (xformed.length != 2) {\n                if (xformed[2]) {\n                    deltaSet.splice(i + 1, 1, xformed[1], xformed[2]);\n                    i++;\n                }\n                else if (!xformed[1]) {\n                    deltaSet.splice(i, 1);\n                    i--;\n                }\n            }\n        }\n        if (!deltaSet.length) {\n            redoStack.splice(j, 1);\n        }\n    }\n    return redoStack;\n}\nfunction rebaseRedoStack(redoStack, deltaSets) {\n    for (var i = 0; i < deltaSets.length; i++) {\n        var deltas = deltaSets[i];\n        for (var j = 0; j < deltas.length; j++) {\n            moveDeltasByOne(redoStack, deltas[j]);\n        }\n    }\n}\nexports.UndoManager = UndoManager;\n\n});\n\nace.define(\"ace/layer/lines\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\"], function(require, exports, module){\"use strict\";\nvar dom = require(\"../lib/dom\");\nvar Lines = function (element, canvasHeight) {\n    this.element = element;\n    this.canvasHeight = canvasHeight || 500000;\n    this.element.style.height = (this.canvasHeight * 2) + \"px\";\n    this.cells = [];\n    this.cellCache = [];\n    this.$offsetCoefficient = 0;\n};\n(function () {\n    this.moveContainer = function (config) {\n        dom.translate(this.element, 0, -((config.firstRowScreen * config.lineHeight) % this.canvasHeight) - config.offset * this.$offsetCoefficient);\n    };\n    this.pageChanged = function (oldConfig, newConfig) {\n        return (Math.floor((oldConfig.firstRowScreen * oldConfig.lineHeight) / this.canvasHeight) !==\n            Math.floor((newConfig.firstRowScreen * newConfig.lineHeight) / this.canvasHeight));\n    };\n    this.computeLineTop = function (row, config, session) {\n        var screenTop = config.firstRowScreen * config.lineHeight;\n        var screenPage = Math.floor(screenTop / this.canvasHeight);\n        var lineTop = session.documentToScreenRow(row, 0) * config.lineHeight;\n        return lineTop - (screenPage * this.canvasHeight);\n    };\n    this.computeLineHeight = function (row, config, session) {\n        return config.lineHeight * session.getRowLineCount(row);\n    };\n    this.getLength = function () {\n        return this.cells.length;\n    };\n    this.get = function (index) {\n        return this.cells[index];\n    };\n    this.shift = function () {\n        this.$cacheCell(this.cells.shift());\n    };\n    this.pop = function () {\n        this.$cacheCell(this.cells.pop());\n    };\n    this.push = function (cell) {\n        if (Array.isArray(cell)) {\n            this.cells.push.apply(this.cells, cell);\n            var fragment = dom.createFragment(this.element);\n            for (var i = 0; i < cell.length; i++) {\n                fragment.appendChild(cell[i].element);\n            }\n            this.element.appendChild(fragment);\n        }\n        else {\n            this.cells.push(cell);\n            this.element.appendChild(cell.element);\n        }\n    };\n    this.unshift = function (cell) {\n        if (Array.isArray(cell)) {\n            this.cells.unshift.apply(this.cells, cell);\n            var fragment = dom.createFragment(this.element);\n            for (var i = 0; i < cell.length; i++) {\n                fragment.appendChild(cell[i].element);\n            }\n            if (this.element.firstChild)\n                this.element.insertBefore(fragment, this.element.firstChild);\n            else\n                this.element.appendChild(fragment);\n        }\n        else {\n            this.cells.unshift(cell);\n            this.element.insertAdjacentElement(\"afterbegin\", cell.element);\n        }\n    };\n    this.last = function () {\n        if (this.cells.length)\n            return this.cells[this.cells.length - 1];\n        else\n            return null;\n    };\n    this.$cacheCell = function (cell) {\n        if (!cell)\n            return;\n        cell.element.remove();\n        this.cellCache.push(cell);\n    };\n    this.createCell = function (row, config, session, initElement) {\n        var cell = this.cellCache.pop();\n        if (!cell) {\n            var element = dom.createElement(\"div\");\n            if (initElement)\n                initElement(element);\n            this.element.appendChild(element);\n            cell = {\n                element: element,\n                text: \"\",\n                row: row\n            };\n        }\n        cell.row = row;\n        return cell;\n    };\n}).call(Lines.prototype);\nexports.Lines = Lines;\n\n});\n\nace.define(\"ace/layer/gutter\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\",\"ace/lib/oop\",\"ace/lib/lang\",\"ace/lib/event_emitter\",\"ace/layer/lines\"], function(require, exports, module){\"use strict\";\nvar dom = require(\"../lib/dom\");\nvar oop = require(\"../lib/oop\");\nvar lang = require(\"../lib/lang\");\nvar EventEmitter = require(\"../lib/event_emitter\").EventEmitter;\nvar Lines = require(\"./lines\").Lines;\nvar Gutter = function (parentEl) {\n    this.element = dom.createElement(\"div\");\n    this.element.className = \"ace_layer ace_gutter-layer\";\n    parentEl.appendChild(this.element);\n    this.setShowFoldWidgets(this.$showFoldWidgets);\n    this.gutterWidth = 0;\n    this.$annotations = [];\n    this.$updateAnnotations = this.$updateAnnotations.bind(this);\n    this.$lines = new Lines(this.element);\n    this.$lines.$offsetCoefficient = 1;\n};\n(function () {\n    oop.implement(this, EventEmitter);\n    this.setSession = function (session) {\n        if (this.session)\n            this.session.off(\"change\", this.$updateAnnotations);\n        this.session = session;\n        if (session)\n            session.on(\"change\", this.$updateAnnotations);\n    };\n    this.addGutterDecoration = function (row, className) {\n        if (window.console)\n            console.warn && console.warn(\"deprecated use session.addGutterDecoration\");\n        this.session.addGutterDecoration(row, className);\n    };\n    this.removeGutterDecoration = function (row, className) {\n        if (window.console)\n            console.warn && console.warn(\"deprecated use session.removeGutterDecoration\");\n        this.session.removeGutterDecoration(row, className);\n    };\n    this.setAnnotations = function (annotations) {\n        this.$annotations = [];\n        for (var i = 0; i < annotations.length; i++) {\n            var annotation = annotations[i];\n            var row = annotation.row;\n            var rowInfo = this.$annotations[row];\n            if (!rowInfo)\n                rowInfo = this.$annotations[row] = { text: [] };\n            var annoText = annotation.text;\n            annoText = annoText ? lang.escapeHTML(annoText) : annotation.html || \"\";\n            if (rowInfo.text.indexOf(annoText) === -1)\n                rowInfo.text.push(annoText);\n            var type = annotation.type;\n            var className = annotation.className;\n            if (className)\n                rowInfo.className = className;\n            else if (type == \"error\")\n                rowInfo.className = \" ace_error\";\n            else if (type == \"warning\" && rowInfo.className != \" ace_error\")\n                rowInfo.className = \" ace_warning\";\n            else if (type == \"info\" && (!rowInfo.className))\n                rowInfo.className = \" ace_info\";\n        }\n    };\n    this.$updateAnnotations = function (delta) {\n        if (!this.$annotations.length)\n            return;\n        var firstRow = delta.start.row;\n        var len = delta.end.row - firstRow;\n        if (len === 0) {\n        }\n        else if (delta.action == 'remove') {\n            this.$annotations.splice(firstRow, len + 1, null);\n        }\n        else {\n            var args = new Array(len + 1);\n            args.unshift(firstRow, 1);\n            this.$annotations.splice.apply(this.$annotations, args);\n        }\n    };\n    this.update = function (config) {\n        this.config = config;\n        var session = this.session;\n        var firstRow = config.firstRow;\n        var lastRow = Math.min(config.lastRow + config.gutterOffset, // needed to compensate for hor scollbar\n        session.getLength() - 1);\n        this.oldLastRow = lastRow;\n        this.config = config;\n        this.$lines.moveContainer(config);\n        this.$updateCursorRow();\n        var fold = session.getNextFoldLine(firstRow);\n        var foldStart = fold ? fold.start.row : Infinity;\n        var cell = null;\n        var index = -1;\n        var row = firstRow;\n        while (true) {\n            if (row > foldStart) {\n                row = fold.end.row + 1;\n                fold = session.getNextFoldLine(row, fold);\n                foldStart = fold ? fold.start.row : Infinity;\n            }\n            if (row > lastRow) {\n                while (this.$lines.getLength() > index + 1)\n                    this.$lines.pop();\n                break;\n            }\n            cell = this.$lines.get(++index);\n            if (cell) {\n                cell.row = row;\n            }\n            else {\n                cell = this.$lines.createCell(row, config, this.session, onCreateCell);\n                this.$lines.push(cell);\n            }\n            this.$renderCell(cell, config, fold, row);\n            row++;\n        }\n        this._signal(\"afterRender\");\n        this.$updateGutterWidth(config);\n    };\n    this.$updateGutterWidth = function (config) {\n        var session = this.session;\n        var gutterRenderer = session.gutterRenderer || this.$renderer;\n        var firstLineNumber = session.$firstLineNumber;\n        var lastLineText = this.$lines.last() ? this.$lines.last().text : \"\";\n        if (this.$fixedWidth || session.$useWrapMode)\n            lastLineText = session.getLength() + firstLineNumber - 1;\n        var gutterWidth = gutterRenderer\n            ? gutterRenderer.getWidth(session, lastLineText, config)\n            : lastLineText.toString().length * config.characterWidth;\n        var padding = this.$padding || this.$computePadding();\n        gutterWidth += padding.left + padding.right;\n        if (gutterWidth !== this.gutterWidth && !isNaN(gutterWidth)) {\n            this.gutterWidth = gutterWidth;\n            this.element.parentNode.style.width =\n                this.element.style.width = Math.ceil(this.gutterWidth) + \"px\";\n            this._signal(\"changeGutterWidth\", gutterWidth);\n        }\n    };\n    this.$updateCursorRow = function () {\n        if (!this.$highlightGutterLine)\n            return;\n        var position = this.session.selection.getCursor();\n        if (this.$cursorRow === position.row)\n            return;\n        this.$cursorRow = position.row;\n    };\n    this.updateLineHighlight = function () {\n        if (!this.$highlightGutterLine)\n            return;\n        var row = this.session.selection.cursor.row;\n        this.$cursorRow = row;\n        if (this.$cursorCell && this.$cursorCell.row == row)\n            return;\n        if (this.$cursorCell)\n            this.$cursorCell.element.className = this.$cursorCell.element.className.replace(\"ace_gutter-active-line \", \"\");\n        var cells = this.$lines.cells;\n        this.$cursorCell = null;\n        for (var i = 0; i < cells.length; i++) {\n            var cell = cells[i];\n            if (cell.row >= this.$cursorRow) {\n                if (cell.row > this.$cursorRow) {\n                    var fold = this.session.getFoldLine(this.$cursorRow);\n                    if (i > 0 && fold && fold.start.row == cells[i - 1].row)\n                        cell = cells[i - 1];\n                    else\n                        break;\n                }\n                cell.element.className = \"ace_gutter-active-line \" + cell.element.className;\n                this.$cursorCell = cell;\n                break;\n            }\n        }\n    };\n    this.scrollLines = function (config) {\n        var oldConfig = this.config;\n        this.config = config;\n        this.$updateCursorRow();\n        if (this.$lines.pageChanged(oldConfig, config))\n            return this.update(config);\n        this.$lines.moveContainer(config);\n        var lastRow = Math.min(config.lastRow + config.gutterOffset, // needed to compensate for hor scollbar\n        this.session.getLength() - 1);\n        var oldLastRow = this.oldLastRow;\n        this.oldLastRow = lastRow;\n        if (!oldConfig || oldLastRow < config.firstRow)\n            return this.update(config);\n        if (lastRow < oldConfig.firstRow)\n            return this.update(config);\n        if (oldConfig.firstRow < config.firstRow)\n            for (var row = this.session.getFoldedRowCount(oldConfig.firstRow, config.firstRow - 1); row > 0; row--)\n                this.$lines.shift();\n        if (oldLastRow > lastRow)\n            for (var row = this.session.getFoldedRowCount(lastRow + 1, oldLastRow); row > 0; row--)\n                this.$lines.pop();\n        if (config.firstRow < oldConfig.firstRow) {\n            this.$lines.unshift(this.$renderLines(config, config.firstRow, oldConfig.firstRow - 1));\n        }\n        if (lastRow > oldLastRow) {\n            this.$lines.push(this.$renderLines(config, oldLastRow + 1, lastRow));\n        }\n        this.updateLineHighlight();\n        this._signal(\"afterRender\");\n        this.$updateGutterWidth(config);\n    };\n    this.$renderLines = function (config, firstRow, lastRow) {\n        var fragment = [];\n        var row = firstRow;\n        var foldLine = this.session.getNextFoldLine(row);\n        var foldStart = foldLine ? foldLine.start.row : Infinity;\n        while (true) {\n            if (row > foldStart) {\n                row = foldLine.end.row + 1;\n                foldLine = this.session.getNextFoldLine(row, foldLine);\n                foldStart = foldLine ? foldLine.start.row : Infinity;\n            }\n            if (row > lastRow)\n                break;\n            var cell = this.$lines.createCell(row, config, this.session, onCreateCell);\n            this.$renderCell(cell, config, foldLine, row);\n            fragment.push(cell);\n            row++;\n        }\n        return fragment;\n    };\n    this.$renderCell = function (cell, config, fold, row) {\n        var element = cell.element;\n        var session = this.session;\n        var textNode = element.childNodes[0];\n        var foldWidget = element.childNodes[1];\n        var firstLineNumber = session.$firstLineNumber;\n        var breakpoints = session.$breakpoints;\n        var decorations = session.$decorations;\n        var gutterRenderer = session.gutterRenderer || this.$renderer;\n        var foldWidgets = this.$showFoldWidgets && session.foldWidgets;\n        var foldStart = fold ? fold.start.row : Number.MAX_VALUE;\n        var className = \"ace_gutter-cell \";\n        if (this.$highlightGutterLine) {\n            if (row == this.$cursorRow || (fold && row < this.$cursorRow && row >= foldStart && this.$cursorRow <= fold.end.row)) {\n                className += \"ace_gutter-active-line \";\n                if (this.$cursorCell != cell) {\n                    if (this.$cursorCell)\n                        this.$cursorCell.element.className = this.$cursorCell.element.className.replace(\"ace_gutter-active-line \", \"\");\n                    this.$cursorCell = cell;\n                }\n            }\n        }\n        if (breakpoints[row])\n            className += breakpoints[row];\n        if (decorations[row])\n            className += decorations[row];\n        if (this.$annotations[row])\n            className += this.$annotations[row].className;\n        if (element.className != className)\n            element.className = className;\n        if (foldWidgets) {\n            var c = foldWidgets[row];\n            if (c == null)\n                c = foldWidgets[row] = session.getFoldWidget(row);\n        }\n        if (c) {\n            var className = \"ace_fold-widget ace_\" + c;\n            if (c == \"start\" && row == foldStart && row < fold.end.row)\n                className += \" ace_closed\";\n            else\n                className += \" ace_open\";\n            if (foldWidget.className != className)\n                foldWidget.className = className;\n            var foldHeight = config.lineHeight + \"px\";\n            dom.setStyle(foldWidget.style, \"height\", foldHeight);\n            dom.setStyle(foldWidget.style, \"display\", \"inline-block\");\n        }\n        else {\n            if (foldWidget) {\n                dom.setStyle(foldWidget.style, \"display\", \"none\");\n            }\n        }\n        var text = (gutterRenderer\n            ? gutterRenderer.getText(session, row)\n            : row + firstLineNumber).toString();\n        if (text !== textNode.data) {\n            textNode.data = text;\n        }\n        dom.setStyle(cell.element.style, \"height\", this.$lines.computeLineHeight(row, config, session) + \"px\");\n        dom.setStyle(cell.element.style, \"top\", this.$lines.computeLineTop(row, config, session) + \"px\");\n        cell.text = text;\n        return cell;\n    };\n    this.$fixedWidth = false;\n    this.$highlightGutterLine = true;\n    this.$renderer = \"\";\n    this.setHighlightGutterLine = function (highlightGutterLine) {\n        this.$highlightGutterLine = highlightGutterLine;\n    };\n    this.$showLineNumbers = true;\n    this.$renderer = \"\";\n    this.setShowLineNumbers = function (show) {\n        this.$renderer = !show && {\n            getWidth: function () { return 0; },\n            getText: function () { return \"\"; }\n        };\n    };\n    this.getShowLineNumbers = function () {\n        return this.$showLineNumbers;\n    };\n    this.$showFoldWidgets = true;\n    this.setShowFoldWidgets = function (show) {\n        if (show)\n            dom.addCssClass(this.element, \"ace_folding-enabled\");\n        else\n            dom.removeCssClass(this.element, \"ace_folding-enabled\");\n        this.$showFoldWidgets = show;\n        this.$padding = null;\n    };\n    this.getShowFoldWidgets = function () {\n        return this.$showFoldWidgets;\n    };\n    this.$computePadding = function () {\n        if (!this.element.firstChild)\n            return { left: 0, right: 0 };\n        var style = dom.computedStyle(this.element.firstChild);\n        this.$padding = {};\n        this.$padding.left = (parseInt(style.borderLeftWidth) || 0)\n            + (parseInt(style.paddingLeft) || 0) + 1;\n        this.$padding.right = (parseInt(style.borderRightWidth) || 0)\n            + (parseInt(style.paddingRight) || 0);\n        return this.$padding;\n    };\n    this.getRegion = function (point) {\n        var padding = this.$padding || this.$computePadding();\n        var rect = this.element.getBoundingClientRect();\n        if (point.x < padding.left + rect.left)\n            return \"markers\";\n        if (this.$showFoldWidgets && point.x > rect.right - padding.right)\n            return \"foldWidgets\";\n    };\n}).call(Gutter.prototype);\nfunction onCreateCell(element) {\n    var textNode = document.createTextNode('');\n    element.appendChild(textNode);\n    var foldWidget = dom.createElement(\"span\");\n    element.appendChild(foldWidget);\n    return element;\n}\nexports.Gutter = Gutter;\n\n});\n\nace.define(\"ace/layer/marker\",[\"require\",\"exports\",\"module\",\"ace/range\",\"ace/lib/dom\"], function(require, exports, module){\"use strict\";\nvar Range = require(\"../range\").Range;\nvar dom = require(\"../lib/dom\");\nvar Marker = function (parentEl) {\n    this.element = dom.createElement(\"div\");\n    this.element.className = \"ace_layer ace_marker-layer\";\n    parentEl.appendChild(this.element);\n};\n(function () {\n    this.$padding = 0;\n    this.setPadding = function (padding) {\n        this.$padding = padding;\n    };\n    this.setSession = function (session) {\n        this.session = session;\n    };\n    this.setMarkers = function (markers) {\n        this.markers = markers;\n    };\n    this.elt = function (className, css) {\n        var x = this.i != -1 && this.element.childNodes[this.i];\n        if (!x) {\n            x = document.createElement(\"div\");\n            this.element.appendChild(x);\n            this.i = -1;\n        }\n        else {\n            this.i++;\n        }\n        x.style.cssText = css;\n        x.className = className;\n    };\n    this.update = function (config) {\n        if (!config)\n            return;\n        this.config = config;\n        this.i = 0;\n        var html;\n        for (var key in this.markers) {\n            var marker = this.markers[key];\n            if (!marker.range) {\n                marker.update(html, this, this.session, config);\n                continue;\n            }\n            var range = marker.range.clipRows(config.firstRow, config.lastRow);\n            if (range.isEmpty())\n                continue;\n            range = range.toScreenRange(this.session);\n            if (marker.renderer) {\n                var top = this.$getTop(range.start.row, config);\n                var left = this.$padding + range.start.column * config.characterWidth;\n                marker.renderer(html, range, left, top, config);\n            }\n            else if (marker.type == \"fullLine\") {\n                this.drawFullLineMarker(html, range, marker.clazz, config);\n            }\n            else if (marker.type == \"screenLine\") {\n                this.drawScreenLineMarker(html, range, marker.clazz, config);\n            }\n            else if (range.isMultiLine()) {\n                if (marker.type == \"text\")\n                    this.drawTextMarker(html, range, marker.clazz, config);\n                else\n                    this.drawMultiLineMarker(html, range, marker.clazz, config);\n            }\n            else {\n                this.drawSingleLineMarker(html, range, marker.clazz + \" ace_start\" + \" ace_br15\", config);\n            }\n        }\n        if (this.i != -1) {\n            while (this.i < this.element.childElementCount)\n                this.element.removeChild(this.element.lastChild);\n        }\n    };\n    this.$getTop = function (row, layerConfig) {\n        return (row - layerConfig.firstRowScreen) * layerConfig.lineHeight;\n    };\n    function getBorderClass(tl, tr, br, bl) {\n        return (tl ? 1 : 0) | (tr ? 2 : 0) | (br ? 4 : 0) | (bl ? 8 : 0);\n    }\n    this.drawTextMarker = function (stringBuilder, range, clazz, layerConfig, extraStyle) {\n        var session = this.session;\n        var start = range.start.row;\n        var end = range.end.row;\n        var row = start;\n        var prev = 0;\n        var curr = 0;\n        var next = session.getScreenLastRowColumn(row);\n        var lineRange = new Range(row, range.start.column, row, curr);\n        for (; row <= end; row++) {\n            lineRange.start.row = lineRange.end.row = row;\n            lineRange.start.column = row == start ? range.start.column : session.getRowWrapIndent(row);\n            lineRange.end.column = next;\n            prev = curr;\n            curr = next;\n            next = row + 1 < end ? session.getScreenLastRowColumn(row + 1) : row == end ? 0 : range.end.column;\n            this.drawSingleLineMarker(stringBuilder, lineRange, clazz + (row == start ? \" ace_start\" : \"\") + \" ace_br\"\n                + getBorderClass(row == start || row == start + 1 && range.start.column, prev < curr, curr > next, row == end), layerConfig, row == end ? 0 : 1, extraStyle);\n        }\n    };\n    this.drawMultiLineMarker = function (stringBuilder, range, clazz, config, extraStyle) {\n        var padding = this.$padding;\n        var height = config.lineHeight;\n        var top = this.$getTop(range.start.row, config);\n        var left = padding + range.start.column * config.characterWidth;\n        extraStyle = extraStyle || \"\";\n        if (this.session.$bidiHandler.isBidiRow(range.start.row)) {\n            var range1 = range.clone();\n            range1.end.row = range1.start.row;\n            range1.end.column = this.session.getLine(range1.start.row).length;\n            this.drawBidiSingleLineMarker(stringBuilder, range1, clazz + \" ace_br1 ace_start\", config, null, extraStyle);\n        }\n        else {\n            this.elt(clazz + \" ace_br1 ace_start\", \"height:\" + height + \"px;\" + \"right:0;\" + \"top:\" + top + \"px;left:\" + left + \"px;\" + (extraStyle || \"\"));\n        }\n        if (this.session.$bidiHandler.isBidiRow(range.end.row)) {\n            var range1 = range.clone();\n            range1.start.row = range1.end.row;\n            range1.start.column = 0;\n            this.drawBidiSingleLineMarker(stringBuilder, range1, clazz + \" ace_br12\", config, null, extraStyle);\n        }\n        else {\n            top = this.$getTop(range.end.row, config);\n            var width = range.end.column * config.characterWidth;\n            this.elt(clazz + \" ace_br12\", \"height:\" + height + \"px;\" +\n                \"width:\" + width + \"px;\" +\n                \"top:\" + top + \"px;\" +\n                \"left:\" + padding + \"px;\" + (extraStyle || \"\"));\n        }\n        height = (range.end.row - range.start.row - 1) * config.lineHeight;\n        if (height <= 0)\n            return;\n        top = this.$getTop(range.start.row + 1, config);\n        var radiusClass = (range.start.column ? 1 : 0) | (range.end.column ? 0 : 8);\n        this.elt(clazz + (radiusClass ? \" ace_br\" + radiusClass : \"\"), \"height:\" + height + \"px;\" +\n            \"right:0;\" +\n            \"top:\" + top + \"px;\" +\n            \"left:\" + padding + \"px;\" + (extraStyle || \"\"));\n    };\n    this.drawSingleLineMarker = function (stringBuilder, range, clazz, config, extraLength, extraStyle) {\n        if (this.session.$bidiHandler.isBidiRow(range.start.row))\n            return this.drawBidiSingleLineMarker(stringBuilder, range, clazz, config, extraLength, extraStyle);\n        var height = config.lineHeight;\n        var width = (range.end.column + (extraLength || 0) - range.start.column) * config.characterWidth;\n        var top = this.$getTop(range.start.row, config);\n        var left = this.$padding + range.start.column * config.characterWidth;\n        this.elt(clazz, \"height:\" + height + \"px;\" +\n            \"width:\" + width + \"px;\" +\n            \"top:\" + top + \"px;\" +\n            \"left:\" + left + \"px;\" + (extraStyle || \"\"));\n    };\n    this.drawBidiSingleLineMarker = function (stringBuilder, range, clazz, config, extraLength, extraStyle) {\n        var height = config.lineHeight, top = this.$getTop(range.start.row, config), padding = this.$padding;\n        var selections = this.session.$bidiHandler.getSelections(range.start.column, range.end.column);\n        selections.forEach(function (selection) {\n            this.elt(clazz, \"height:\" + height + \"px;\" +\n                \"width:\" + selection.width + (extraLength || 0) + \"px;\" +\n                \"top:\" + top + \"px;\" +\n                \"left:\" + (padding + selection.left) + \"px;\" + (extraStyle || \"\"));\n        }, this);\n    };\n    this.drawFullLineMarker = function (stringBuilder, range, clazz, config, extraStyle) {\n        var top = this.$getTop(range.start.row, config);\n        var height = config.lineHeight;\n        if (range.start.row != range.end.row)\n            height += this.$getTop(range.end.row, config) - top;\n        this.elt(clazz, \"height:\" + height + \"px;\" +\n            \"top:\" + top + \"px;\" +\n            \"left:0;right:0;\" + (extraStyle || \"\"));\n    };\n    this.drawScreenLineMarker = function (stringBuilder, range, clazz, config, extraStyle) {\n        var top = this.$getTop(range.start.row, config);\n        var height = config.lineHeight;\n        this.elt(clazz, \"height:\" + height + \"px;\" +\n            \"top:\" + top + \"px;\" +\n            \"left:0;right:0;\" + (extraStyle || \"\"));\n    };\n}).call(Marker.prototype);\nexports.Marker = Marker;\n\n});\n\nace.define(\"ace/layer/text\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/dom\",\"ace/lib/lang\",\"ace/layer/lines\",\"ace/lib/event_emitter\"], function(require, exports, module){\"use strict\";\nvar oop = require(\"../lib/oop\");\nvar dom = require(\"../lib/dom\");\nvar lang = require(\"../lib/lang\");\nvar Lines = require(\"./lines\").Lines;\nvar EventEmitter = require(\"../lib/event_emitter\").EventEmitter;\nvar Text = function (parentEl) {\n    this.dom = dom;\n    this.element = this.dom.createElement(\"div\");\n    this.element.className = \"ace_layer ace_text-layer\";\n    parentEl.appendChild(this.element);\n    this.$updateEolChar = this.$updateEolChar.bind(this);\n    this.$lines = new Lines(this.element);\n};\n(function () {\n    oop.implement(this, EventEmitter);\n    this.EOF_CHAR = \"\\xB6\";\n    this.EOL_CHAR_LF = \"\\xAC\";\n    this.EOL_CHAR_CRLF = \"\\xa4\";\n    this.EOL_CHAR = this.EOL_CHAR_LF;\n    this.TAB_CHAR = \"\\u2014\"; //\"\\u21E5\";\n    this.SPACE_CHAR = \"\\xB7\";\n    this.$padding = 0;\n    this.MAX_LINE_LENGTH = 10000;\n    this.$updateEolChar = function () {\n        var doc = this.session.doc;\n        var unixMode = doc.getNewLineCharacter() == \"\\n\" && doc.getNewLineMode() != \"windows\";\n        var EOL_CHAR = unixMode ? this.EOL_CHAR_LF : this.EOL_CHAR_CRLF;\n        if (this.EOL_CHAR != EOL_CHAR) {\n            this.EOL_CHAR = EOL_CHAR;\n            return true;\n        }\n    };\n    this.setPadding = function (padding) {\n        this.$padding = padding;\n        this.element.style.margin = \"0 \" + padding + \"px\";\n    };\n    this.getLineHeight = function () {\n        return this.$fontMetrics.$characterSize.height || 0;\n    };\n    this.getCharacterWidth = function () {\n        return this.$fontMetrics.$characterSize.width || 0;\n    };\n    this.$setFontMetrics = function (measure) {\n        this.$fontMetrics = measure;\n        this.$fontMetrics.on(\"changeCharacterSize\", function (e) {\n            this._signal(\"changeCharacterSize\", e);\n        }.bind(this));\n        this.$pollSizeChanges();\n    };\n    this.checkForSizeChanges = function () {\n        this.$fontMetrics.checkForSizeChanges();\n    };\n    this.$pollSizeChanges = function () {\n        return this.$pollSizeChangesTimer = this.$fontMetrics.$pollSizeChanges();\n    };\n    this.setSession = function (session) {\n        this.session = session;\n        if (session)\n            this.$computeTabString();\n    };\n    this.showInvisibles = false;\n    this.showSpaces = false;\n    this.showTabs = false;\n    this.showEOL = false;\n    this.setShowInvisibles = function (showInvisibles) {\n        if (this.showInvisibles == showInvisibles)\n            return false;\n        this.showInvisibles = showInvisibles;\n        if (typeof showInvisibles == \"string\") {\n            this.showSpaces = /tab/i.test(showInvisibles);\n            this.showTabs = /space/i.test(showInvisibles);\n            this.showEOL = /eol/i.test(showInvisibles);\n        }\n        else {\n            this.showSpaces = this.showTabs = this.showEOL = showInvisibles;\n        }\n        this.$computeTabString();\n        return true;\n    };\n    this.displayIndentGuides = true;\n    this.setDisplayIndentGuides = function (display) {\n        if (this.displayIndentGuides == display)\n            return false;\n        this.displayIndentGuides = display;\n        this.$computeTabString();\n        return true;\n    };\n    this.$highlightIndentGuides = true;\n    this.setHighlightIndentGuides = function (highlight) {\n        if (this.$highlightIndentGuides === highlight)\n            return false;\n        this.$highlightIndentGuides = highlight;\n        return highlight;\n    };\n    this.$tabStrings = [];\n    this.onChangeTabSize =\n        this.$computeTabString = function () {\n            var tabSize = this.session.getTabSize();\n            this.tabSize = tabSize;\n            var tabStr = this.$tabStrings = [0];\n            for (var i = 1; i < tabSize + 1; i++) {\n                if (this.showTabs) {\n                    var span = this.dom.createElement(\"span\");\n                    span.className = \"ace_invisible ace_invisible_tab\";\n                    span.textContent = lang.stringRepeat(this.TAB_CHAR, i);\n                    tabStr.push(span);\n                }\n                else {\n                    tabStr.push(this.dom.createTextNode(lang.stringRepeat(\" \", i), this.element));\n                }\n            }\n            if (this.displayIndentGuides) {\n                this.$indentGuideRe = /\\s\\S| \\t|\\t |\\s$/;\n                var className = \"ace_indent-guide\";\n                var spaceClass = this.showSpaces ? \" ace_invisible ace_invisible_space\" : \"\";\n                var spaceContent = this.showSpaces\n                    ? lang.stringRepeat(this.SPACE_CHAR, this.tabSize)\n                    : lang.stringRepeat(\" \", this.tabSize);\n                var tabClass = this.showTabs ? \" ace_invisible ace_invisible_tab\" : \"\";\n                var tabContent = this.showTabs\n                    ? lang.stringRepeat(this.TAB_CHAR, this.tabSize)\n                    : spaceContent;\n                var span = this.dom.createElement(\"span\");\n                span.className = className + spaceClass;\n                span.textContent = spaceContent;\n                this.$tabStrings[\" \"] = span;\n                var span = this.dom.createElement(\"span\");\n                span.className = className + tabClass;\n                span.textContent = tabContent;\n                this.$tabStrings[\"\\t\"] = span;\n            }\n        };\n    this.updateLines = function (config, firstRow, lastRow) {\n        if (this.config.lastRow != config.lastRow ||\n            this.config.firstRow != config.firstRow) {\n            return this.update(config);\n        }\n        this.config = config;\n        var first = Math.max(firstRow, config.firstRow);\n        var last = Math.min(lastRow, config.lastRow);\n        var lineElements = this.element.childNodes;\n        var lineElementsIdx = 0;\n        for (var row = config.firstRow; row < first; row++) {\n            var foldLine = this.session.getFoldLine(row);\n            if (foldLine) {\n                if (foldLine.containsRow(first)) {\n                    first = foldLine.start.row;\n                    break;\n                }\n                else {\n                    row = foldLine.end.row;\n                }\n            }\n            lineElementsIdx++;\n        }\n        var heightChanged = false;\n        var row = first;\n        var foldLine = this.session.getNextFoldLine(row);\n        var foldStart = foldLine ? foldLine.start.row : Infinity;\n        while (true) {\n            if (row > foldStart) {\n                row = foldLine.end.row + 1;\n                foldLine = this.session.getNextFoldLine(row, foldLine);\n                foldStart = foldLine ? foldLine.start.row : Infinity;\n            }\n            if (row > last)\n                break;\n            var lineElement = lineElements[lineElementsIdx++];\n            if (lineElement) {\n                this.dom.removeChildren(lineElement);\n                this.$renderLine(lineElement, row, row == foldStart ? foldLine : false);\n                if (heightChanged)\n                    lineElement.style.top = this.$lines.computeLineTop(row, config, this.session) + \"px\";\n                var height = (config.lineHeight * this.session.getRowLength(row)) + \"px\";\n                if (lineElement.style.height != height) {\n                    heightChanged = true;\n                    lineElement.style.height = height;\n                }\n            }\n            row++;\n        }\n        if (heightChanged) {\n            while (lineElementsIdx < this.$lines.cells.length) {\n                var cell = this.$lines.cells[lineElementsIdx++];\n                cell.element.style.top = this.$lines.computeLineTop(cell.row, config, this.session) + \"px\";\n            }\n        }\n    };\n    this.scrollLines = function (config) {\n        var oldConfig = this.config;\n        this.config = config;\n        if (this.$lines.pageChanged(oldConfig, config))\n            return this.update(config);\n        this.$lines.moveContainer(config);\n        var lastRow = config.lastRow;\n        var oldLastRow = oldConfig ? oldConfig.lastRow : -1;\n        if (!oldConfig || oldLastRow < config.firstRow)\n            return this.update(config);\n        if (lastRow < oldConfig.firstRow)\n            return this.update(config);\n        if (!oldConfig || oldConfig.lastRow < config.firstRow)\n            return this.update(config);\n        if (config.lastRow < oldConfig.firstRow)\n            return this.update(config);\n        if (oldConfig.firstRow < config.firstRow)\n            for (var row = this.session.getFoldedRowCount(oldConfig.firstRow, config.firstRow - 1); row > 0; row--)\n                this.$lines.shift();\n        if (oldConfig.lastRow > config.lastRow)\n            for (var row = this.session.getFoldedRowCount(config.lastRow + 1, oldConfig.lastRow); row > 0; row--)\n                this.$lines.pop();\n        if (config.firstRow < oldConfig.firstRow) {\n            this.$lines.unshift(this.$renderLinesFragment(config, config.firstRow, oldConfig.firstRow - 1));\n        }\n        if (config.lastRow > oldConfig.lastRow) {\n            this.$lines.push(this.$renderLinesFragment(config, oldConfig.lastRow + 1, config.lastRow));\n        }\n        this.$highlightIndentGuide();\n    };\n    this.$renderLinesFragment = function (config, firstRow, lastRow) {\n        var fragment = [];\n        var row = firstRow;\n        var foldLine = this.session.getNextFoldLine(row);\n        var foldStart = foldLine ? foldLine.start.row : Infinity;\n        while (true) {\n            if (row > foldStart) {\n                row = foldLine.end.row + 1;\n                foldLine = this.session.getNextFoldLine(row, foldLine);\n                foldStart = foldLine ? foldLine.start.row : Infinity;\n            }\n            if (row > lastRow)\n                break;\n            var line = this.$lines.createCell(row, config, this.session);\n            var lineEl = line.element;\n            this.dom.removeChildren(lineEl);\n            dom.setStyle(lineEl.style, \"height\", this.$lines.computeLineHeight(row, config, this.session) + \"px\");\n            dom.setStyle(lineEl.style, \"top\", this.$lines.computeLineTop(row, config, this.session) + \"px\");\n            this.$renderLine(lineEl, row, row == foldStart ? foldLine : false);\n            if (this.$useLineGroups()) {\n                lineEl.className = \"ace_line_group\";\n            }\n            else {\n                lineEl.className = \"ace_line\";\n            }\n            fragment.push(line);\n            row++;\n        }\n        return fragment;\n    };\n    this.update = function (config) {\n        this.$lines.moveContainer(config);\n        this.config = config;\n        var firstRow = config.firstRow;\n        var lastRow = config.lastRow;\n        var lines = this.$lines;\n        while (lines.getLength())\n            lines.pop();\n        lines.push(this.$renderLinesFragment(config, firstRow, lastRow));\n    };\n    this.$textToken = {\n        \"text\": true,\n        \"rparen\": true,\n        \"lparen\": true\n    };\n    this.$renderToken = function (parent, screenColumn, token, value) {\n        var self = this;\n        var re = /(\\t)|( +)|([\\x00-\\x1f\\x80-\\xa0\\xad\\u1680\\u180E\\u2000-\\u200f\\u2028\\u2029\\u202F\\u205F\\uFEFF\\uFFF9-\\uFFFC\\u2066\\u2067\\u2068\\u202A\\u202B\\u202D\\u202E\\u202C\\u2069]+)|(\\u3000)|([\\u1100-\\u115F\\u11A3-\\u11A7\\u11FA-\\u11FF\\u2329-\\u232A\\u2E80-\\u2E99\\u2E9B-\\u2EF3\\u2F00-\\u2FD5\\u2FF0-\\u2FFB\\u3001-\\u303E\\u3041-\\u3096\\u3099-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u3190-\\u31BA\\u31C0-\\u31E3\\u31F0-\\u321E\\u3220-\\u3247\\u3250-\\u32FE\\u3300-\\u4DBF\\u4E00-\\uA48C\\uA490-\\uA4C6\\uA960-\\uA97C\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFAFF\\uFE10-\\uFE19\\uFE30-\\uFE52\\uFE54-\\uFE66\\uFE68-\\uFE6B\\uFF01-\\uFF60\\uFFE0-\\uFFE6]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF])/g;\n        var valueFragment = this.dom.createFragment(this.element);\n        var m;\n        var i = 0;\n        while (m = re.exec(value)) {\n            var tab = m[1];\n            var simpleSpace = m[2];\n            var controlCharacter = m[3];\n            var cjkSpace = m[4];\n            var cjk = m[5];\n            if (!self.showSpaces && simpleSpace)\n                continue;\n            var before = i != m.index ? value.slice(i, m.index) : \"\";\n            i = m.index + m[0].length;\n            if (before) {\n                valueFragment.appendChild(this.dom.createTextNode(before, this.element));\n            }\n            if (tab) {\n                var tabSize = self.session.getScreenTabSize(screenColumn + m.index);\n                valueFragment.appendChild(self.$tabStrings[tabSize].cloneNode(true));\n                screenColumn += tabSize - 1;\n            }\n            else if (simpleSpace) {\n                if (self.showSpaces) {\n                    var span = this.dom.createElement(\"span\");\n                    span.className = \"ace_invisible ace_invisible_space\";\n                    span.textContent = lang.stringRepeat(self.SPACE_CHAR, simpleSpace.length);\n                    valueFragment.appendChild(span);\n                }\n                else {\n                    valueFragment.appendChild(this.com.createTextNode(simpleSpace, this.element));\n                }\n            }\n            else if (controlCharacter) {\n                var span = this.dom.createElement(\"span\");\n                span.className = \"ace_invisible ace_invisible_space ace_invalid\";\n                span.textContent = lang.stringRepeat(self.SPACE_CHAR, controlCharacter.length);\n                valueFragment.appendChild(span);\n            }\n            else if (cjkSpace) {\n                screenColumn += 1;\n                var span = this.dom.createElement(\"span\");\n                span.style.width = (self.config.characterWidth * 2) + \"px\";\n                span.className = self.showSpaces ? \"ace_cjk ace_invisible ace_invisible_space\" : \"ace_cjk\";\n                span.textContent = self.showSpaces ? self.SPACE_CHAR : cjkSpace;\n                valueFragment.appendChild(span);\n            }\n            else if (cjk) {\n                screenColumn += 1;\n                var span = this.dom.createElement(\"span\");\n                span.style.width = (self.config.characterWidth * 2) + \"px\";\n                span.className = \"ace_cjk\";\n                span.textContent = cjk;\n                valueFragment.appendChild(span);\n            }\n        }\n        valueFragment.appendChild(this.dom.createTextNode(i ? value.slice(i) : value, this.element));\n        if (!this.$textToken[token.type]) {\n            var classes = \"ace_\" + token.type.replace(/\\./g, \" ace_\");\n            var span = this.dom.createElement(\"span\");\n            if (token.type == \"fold\")\n                span.style.width = (token.value.length * this.config.characterWidth) + \"px\";\n            span.className = classes;\n            span.appendChild(valueFragment);\n            parent.appendChild(span);\n        }\n        else {\n            parent.appendChild(valueFragment);\n        }\n        return screenColumn + value.length;\n    };\n    this.renderIndentGuide = function (parent, value, max) {\n        var cols = value.search(this.$indentGuideRe);\n        if (cols <= 0 || cols >= max)\n            return value;\n        if (value[0] == \" \") {\n            cols -= cols % this.tabSize;\n            var count = cols / this.tabSize;\n            for (var i = 0; i < count; i++) {\n                parent.appendChild(this.$tabStrings[\" \"].cloneNode(true));\n            }\n            this.$highlightIndentGuide();\n            return value.substr(cols);\n        }\n        else if (value[0] == \"\\t\") {\n            for (var i = 0; i < cols; i++) {\n                parent.appendChild(this.$tabStrings[\"\\t\"].cloneNode(true));\n            }\n            this.$highlightIndentGuide();\n            return value.substr(cols);\n        }\n        this.$highlightIndentGuide();\n        return value;\n    };\n    this.$highlightIndentGuide = function () {\n        if (!this.$highlightIndentGuides || !this.displayIndentGuides)\n            return;\n        this.$highlightIndentGuideMarker = {\n            indentLevel: undefined,\n            start: undefined,\n            end: undefined,\n            dir: undefined\n        };\n        var lines = this.session.doc.$lines;\n        var cursor = this.session.selection.getCursor();\n        var initialIndent = /^\\s*/.exec(this.session.doc.getLine(cursor.row))[0].length;\n        var elementIndentLevel = Math.floor(initialIndent / this.tabSize);\n        this.$highlightIndentGuideMarker = {\n            indentLevel: elementIndentLevel,\n            start: cursor.row\n        };\n        var bracketHighlight = this.session.$bracketHighlight;\n        if (bracketHighlight) {\n            var ranges = this.session.$bracketHighlight.ranges;\n            for (var i = 0; i < ranges.length; i++) {\n                if (cursor.row !== ranges[i].start.row) {\n                    this.$highlightIndentGuideMarker.end = ranges[i].start.row;\n                    if (cursor.row > ranges[i].start.row) {\n                        this.$highlightIndentGuideMarker.dir = -1;\n                    }\n                    else {\n                        this.$highlightIndentGuideMarker.dir = 1;\n                    }\n                    break;\n                }\n            }\n        }\n        if (!this.$highlightIndentGuideMarker.end) {\n            if (lines[cursor.row] !== '' && cursor.column === lines[cursor.row].length) {\n                this.$highlightIndentGuideMarker.dir = 1;\n                for (var i = cursor.row + 1; i < lines.length; i++) {\n                    var line = lines[i];\n                    var currentIndent = /^\\s*/.exec(line)[0].length;\n                    if (line !== '') {\n                        this.$highlightIndentGuideMarker.end = i;\n                        if (currentIndent <= initialIndent)\n                            break;\n                    }\n                }\n            }\n        }\n        this.$renderHighlightIndentGuide();\n    };\n    this.$clearActiveIndentGuide = function () {\n        var cells = this.$lines.cells;\n        for (var i = 0; i < cells.length; i++) {\n            var cell = cells[i];\n            var childNodes = cell.element.childNodes;\n            if (childNodes.length > 0) {\n                for (var j = 0; j < childNodes.length; j++) {\n                    if (childNodes[j].classList && childNodes[j].classList.contains(\"ace_indent-guide-active\")) {\n                        childNodes[j].classList.remove(\"ace_indent-guide-active\");\n                        break;\n                    }\n                }\n            }\n        }\n    };\n    this.$setIndentGuideActive = function (cell, indentLevel) {\n        var line = this.session.doc.getLine(cell.row);\n        if (line !== \"\") {\n            var childNodes = cell.element.childNodes;\n            if (childNodes && childNodes[indentLevel - 1] && childNodes[indentLevel - 1].classList) {\n                childNodes[indentLevel - 1].classList.add(\"ace_indent-guide-active\");\n            }\n        }\n    };\n    this.$renderHighlightIndentGuide = function () {\n        if (!this.$lines)\n            return;\n        var cells = this.$lines.cells;\n        this.$clearActiveIndentGuide();\n        var indentLevel = this.$highlightIndentGuideMarker.indentLevel;\n        if (indentLevel !== 0) {\n            if (this.$highlightIndentGuideMarker.dir === 1) {\n                for (var i = 0; i < cells.length; i++) {\n                    var cell = cells[i];\n                    if (this.$highlightIndentGuideMarker.end && cell.row >= this.$highlightIndentGuideMarker.start\n                        + 1) {\n                        if (cell.row >= this.$highlightIndentGuideMarker.end)\n                            break;\n                        this.$setIndentGuideActive(cell, indentLevel);\n                    }\n                }\n            }\n            else {\n                for (var i = cells.length - 1; i >= 0; i--) {\n                    var cell = cells[i];\n                    if (this.$highlightIndentGuideMarker.end && cell.row < this.$highlightIndentGuideMarker.start) {\n                        if (cell.row <= this.$highlightIndentGuideMarker.end)\n                            break;\n                        this.$setIndentGuideActive(cell, indentLevel);\n                    }\n                }\n            }\n        }\n    };\n    this.$createLineElement = function (parent) {\n        var lineEl = this.dom.createElement(\"div\");\n        lineEl.className = \"ace_line\";\n        lineEl.style.height = this.config.lineHeight + \"px\";\n        return lineEl;\n    };\n    this.$renderWrappedLine = function (parent, tokens, splits) {\n        var chars = 0;\n        var split = 0;\n        var splitChars = splits[0];\n        var screenColumn = 0;\n        var lineEl = this.$createLineElement();\n        parent.appendChild(lineEl);\n        for (var i = 0; i < tokens.length; i++) {\n            var token = tokens[i];\n            var value = token.value;\n            if (i == 0 && this.displayIndentGuides) {\n                chars = value.length;\n                value = this.renderIndentGuide(lineEl, value, splitChars);\n                if (!value)\n                    continue;\n                chars -= value.length;\n            }\n            if (chars + value.length < splitChars) {\n                screenColumn = this.$renderToken(lineEl, screenColumn, token, value);\n                chars += value.length;\n            }\n            else {\n                while (chars + value.length >= splitChars) {\n                    screenColumn = this.$renderToken(lineEl, screenColumn, token, value.substring(0, splitChars - chars));\n                    value = value.substring(splitChars - chars);\n                    chars = splitChars;\n                    lineEl = this.$createLineElement();\n                    parent.appendChild(lineEl);\n                    lineEl.appendChild(this.dom.createTextNode(lang.stringRepeat(\"\\xa0\", splits.indent), this.element));\n                    split++;\n                    screenColumn = 0;\n                    splitChars = splits[split] || Number.MAX_VALUE;\n                }\n                if (value.length != 0) {\n                    chars += value.length;\n                    screenColumn = this.$renderToken(lineEl, screenColumn, token, value);\n                }\n            }\n        }\n        if (splits[splits.length - 1] > this.MAX_LINE_LENGTH)\n            this.$renderOverflowMessage(lineEl, screenColumn, null, \"\", true);\n    };\n    this.$renderSimpleLine = function (parent, tokens) {\n        var screenColumn = 0;\n        for (var i = 0; i < tokens.length; i++) {\n            var token = tokens[i];\n            var value = token.value;\n            if (i == 0 && this.displayIndentGuides) {\n                value = this.renderIndentGuide(parent, value);\n                if (!value)\n                    continue;\n            }\n            if (screenColumn + value.length > this.MAX_LINE_LENGTH)\n                return this.$renderOverflowMessage(parent, screenColumn, token, value);\n            screenColumn = this.$renderToken(parent, screenColumn, token, value);\n        }\n    };\n    this.$renderOverflowMessage = function (parent, screenColumn, token, value, hide) {\n        token && this.$renderToken(parent, screenColumn, token, value.slice(0, this.MAX_LINE_LENGTH - screenColumn));\n        var overflowEl = this.dom.createElement(\"span\");\n        overflowEl.className = \"ace_inline_button ace_keyword ace_toggle_wrap\";\n        overflowEl.textContent = hide ? \"<hide>\" : \"<click to see more...>\";\n        parent.appendChild(overflowEl);\n    };\n    this.$renderLine = function (parent, row, foldLine) {\n        if (!foldLine && foldLine != false)\n            foldLine = this.session.getFoldLine(row);\n        if (foldLine)\n            var tokens = this.$getFoldLineTokens(row, foldLine);\n        else\n            var tokens = this.session.getTokens(row);\n        var lastLineEl = parent;\n        if (tokens.length) {\n            var splits = this.session.getRowSplitData(row);\n            if (splits && splits.length) {\n                this.$renderWrappedLine(parent, tokens, splits);\n                var lastLineEl = parent.lastChild;\n            }\n            else {\n                var lastLineEl = parent;\n                if (this.$useLineGroups()) {\n                    lastLineEl = this.$createLineElement();\n                    parent.appendChild(lastLineEl);\n                }\n                this.$renderSimpleLine(lastLineEl, tokens);\n            }\n        }\n        else if (this.$useLineGroups()) {\n            lastLineEl = this.$createLineElement();\n            parent.appendChild(lastLineEl);\n        }\n        if (this.showEOL && lastLineEl) {\n            if (foldLine)\n                row = foldLine.end.row;\n            var invisibleEl = this.dom.createElement(\"span\");\n            invisibleEl.className = \"ace_invisible ace_invisible_eol\";\n            invisibleEl.textContent = row == this.session.getLength() - 1 ? this.EOF_CHAR : this.EOL_CHAR;\n            lastLineEl.appendChild(invisibleEl);\n        }\n    };\n    this.$getFoldLineTokens = function (row, foldLine) {\n        var session = this.session;\n        var renderTokens = [];\n        function addTokens(tokens, from, to) {\n            var idx = 0, col = 0;\n            while ((col + tokens[idx].value.length) < from) {\n                col += tokens[idx].value.length;\n                idx++;\n                if (idx == tokens.length)\n                    return;\n            }\n            if (col != from) {\n                var value = tokens[idx].value.substring(from - col);\n                if (value.length > (to - from))\n                    value = value.substring(0, to - from);\n                renderTokens.push({\n                    type: tokens[idx].type,\n                    value: value\n                });\n                col = from + value.length;\n                idx += 1;\n            }\n            while (col < to && idx < tokens.length) {\n                var value = tokens[idx].value;\n                if (value.length + col > to) {\n                    renderTokens.push({\n                        type: tokens[idx].type,\n                        value: value.substring(0, to - col)\n                    });\n                }\n                else\n                    renderTokens.push(tokens[idx]);\n                col += value.length;\n                idx += 1;\n            }\n        }\n        var tokens = session.getTokens(row);\n        foldLine.walk(function (placeholder, row, column, lastColumn, isNewRow) {\n            if (placeholder != null) {\n                renderTokens.push({\n                    type: \"fold\",\n                    value: placeholder\n                });\n            }\n            else {\n                if (isNewRow)\n                    tokens = session.getTokens(row);\n                if (tokens.length)\n                    addTokens(tokens, lastColumn, column);\n            }\n        }, foldLine.end.row, this.session.getLine(foldLine.end.row).length);\n        return renderTokens;\n    };\n    this.$useLineGroups = function () {\n        return this.session.getUseWrapMode();\n    };\n    this.destroy = function () { };\n}).call(Text.prototype);\nexports.Text = Text;\n\n});\n\nace.define(\"ace/layer/cursor\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\"], function(require, exports, module){\"use strict\";\nvar dom = require(\"../lib/dom\");\nvar Cursor = function (parentEl) {\n    this.element = dom.createElement(\"div\");\n    this.element.className = \"ace_layer ace_cursor-layer\";\n    parentEl.appendChild(this.element);\n    this.isVisible = false;\n    this.isBlinking = true;\n    this.blinkInterval = 1000;\n    this.smoothBlinking = false;\n    this.cursors = [];\n    this.cursor = this.addCursor();\n    dom.addCssClass(this.element, \"ace_hidden-cursors\");\n    this.$updateCursors = this.$updateOpacity.bind(this);\n};\n(function () {\n    this.$updateOpacity = function (val) {\n        var cursors = this.cursors;\n        for (var i = cursors.length; i--;)\n            dom.setStyle(cursors[i].style, \"opacity\", val ? \"\" : \"0\");\n    };\n    this.$startCssAnimation = function () {\n        var cursors = this.cursors;\n        for (var i = cursors.length; i--;)\n            cursors[i].style.animationDuration = this.blinkInterval + \"ms\";\n        this.$isAnimating = true;\n        setTimeout(function () {\n            if (this.$isAnimating) {\n                dom.addCssClass(this.element, \"ace_animate-blinking\");\n            }\n        }.bind(this));\n    };\n    this.$stopCssAnimation = function () {\n        this.$isAnimating = false;\n        dom.removeCssClass(this.element, \"ace_animate-blinking\");\n    };\n    this.$padding = 0;\n    this.setPadding = function (padding) {\n        this.$padding = padding;\n    };\n    this.setSession = function (session) {\n        this.session = session;\n    };\n    this.setBlinking = function (blinking) {\n        if (blinking != this.isBlinking) {\n            this.isBlinking = blinking;\n            this.restartTimer();\n        }\n    };\n    this.setBlinkInterval = function (blinkInterval) {\n        if (blinkInterval != this.blinkInterval) {\n            this.blinkInterval = blinkInterval;\n            this.restartTimer();\n        }\n    };\n    this.setSmoothBlinking = function (smoothBlinking) {\n        if (smoothBlinking != this.smoothBlinking) {\n            this.smoothBlinking = smoothBlinking;\n            dom.setCssClass(this.element, \"ace_smooth-blinking\", smoothBlinking);\n            this.$updateCursors(true);\n            this.restartTimer();\n        }\n    };\n    this.addCursor = function () {\n        var el = dom.createElement(\"div\");\n        el.className = \"ace_cursor\";\n        this.element.appendChild(el);\n        this.cursors.push(el);\n        return el;\n    };\n    this.removeCursor = function () {\n        if (this.cursors.length > 1) {\n            var el = this.cursors.pop();\n            el.parentNode.removeChild(el);\n            return el;\n        }\n    };\n    this.hideCursor = function () {\n        this.isVisible = false;\n        dom.addCssClass(this.element, \"ace_hidden-cursors\");\n        this.restartTimer();\n    };\n    this.showCursor = function () {\n        this.isVisible = true;\n        dom.removeCssClass(this.element, \"ace_hidden-cursors\");\n        this.restartTimer();\n    };\n    this.restartTimer = function () {\n        var update = this.$updateCursors;\n        clearInterval(this.intervalId);\n        clearTimeout(this.timeoutId);\n        this.$stopCssAnimation();\n        if (this.smoothBlinking) {\n            this.$isSmoothBlinking = false;\n            dom.removeCssClass(this.element, \"ace_smooth-blinking\");\n        }\n        update(true);\n        if (!this.isBlinking || !this.blinkInterval || !this.isVisible) {\n            this.$stopCssAnimation();\n            return;\n        }\n        if (this.smoothBlinking) {\n            this.$isSmoothBlinking = true;\n            setTimeout(function () {\n                if (this.$isSmoothBlinking) {\n                    dom.addCssClass(this.element, \"ace_smooth-blinking\");\n                }\n            }.bind(this));\n        }\n        if (dom.HAS_CSS_ANIMATION) {\n            this.$startCssAnimation();\n        }\n        else {\n            var blink = function () {\n                this.timeoutId = setTimeout(function () {\n                    update(false);\n                }, 0.6 * this.blinkInterval);\n            }.bind(this);\n            this.intervalId = setInterval(function () {\n                update(true);\n                blink();\n            }, this.blinkInterval);\n            blink();\n        }\n    };\n    this.getPixelPosition = function (position, onScreen) {\n        if (!this.config || !this.session)\n            return { left: 0, top: 0 };\n        if (!position)\n            position = this.session.selection.getCursor();\n        var pos = this.session.documentToScreenPosition(position);\n        var cursorLeft = this.$padding + (this.session.$bidiHandler.isBidiRow(pos.row, position.row)\n            ? this.session.$bidiHandler.getPosLeft(pos.column)\n            : pos.column * this.config.characterWidth);\n        var cursorTop = (pos.row - (onScreen ? this.config.firstRowScreen : 0)) *\n            this.config.lineHeight;\n        return { left: cursorLeft, top: cursorTop };\n    };\n    this.isCursorInView = function (pixelPos, config) {\n        return pixelPos.top >= 0 && pixelPos.top < config.maxHeight;\n    };\n    this.update = function (config) {\n        this.config = config;\n        var selections = this.session.$selectionMarkers;\n        var i = 0, cursorIndex = 0;\n        if (selections === undefined || selections.length === 0) {\n            selections = [{ cursor: null }];\n        }\n        for (var i = 0, n = selections.length; i < n; i++) {\n            var pixelPos = this.getPixelPosition(selections[i].cursor, true);\n            if ((pixelPos.top > config.height + config.offset ||\n                pixelPos.top < 0) && i > 1) {\n                continue;\n            }\n            var element = this.cursors[cursorIndex++] || this.addCursor();\n            var style = element.style;\n            if (!this.drawCursor) {\n                if (!this.isCursorInView(pixelPos, config)) {\n                    dom.setStyle(style, \"display\", \"none\");\n                }\n                else {\n                    dom.setStyle(style, \"display\", \"block\");\n                    dom.translate(element, pixelPos.left, pixelPos.top);\n                    dom.setStyle(style, \"width\", Math.round(config.characterWidth) + \"px\");\n                    dom.setStyle(style, \"height\", config.lineHeight + \"px\");\n                }\n            }\n            else {\n                this.drawCursor(element, pixelPos, config, selections[i], this.session);\n            }\n        }\n        while (this.cursors.length > cursorIndex)\n            this.removeCursor();\n        var overwrite = this.session.getOverwrite();\n        this.$setOverwrite(overwrite);\n        this.$pixelPos = pixelPos;\n        this.restartTimer();\n    };\n    this.drawCursor = null;\n    this.$setOverwrite = function (overwrite) {\n        if (overwrite != this.overwrite) {\n            this.overwrite = overwrite;\n            if (overwrite)\n                dom.addCssClass(this.element, \"ace_overwrite-cursors\");\n            else\n                dom.removeCssClass(this.element, \"ace_overwrite-cursors\");\n        }\n    };\n    this.destroy = function () {\n        clearInterval(this.intervalId);\n        clearTimeout(this.timeoutId);\n    };\n}).call(Cursor.prototype);\nexports.Cursor = Cursor;\n\n});\n\nace.define(\"ace/scrollbar\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/dom\",\"ace/lib/event\",\"ace/lib/event_emitter\"], function(require, exports, module){\"use strict\";\nvar oop = require(\"./lib/oop\");\nvar dom = require(\"./lib/dom\");\nvar event = require(\"./lib/event\");\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar MAX_SCROLL_H = 0x8000;\nvar ScrollBar = function (parent) {\n    this.element = dom.createElement(\"div\");\n    this.element.className = \"ace_scrollbar ace_scrollbar\" + this.classSuffix;\n    this.inner = dom.createElement(\"div\");\n    this.inner.className = \"ace_scrollbar-inner\";\n    this.inner.textContent = \"\\xa0\";\n    this.element.appendChild(this.inner);\n    parent.appendChild(this.element);\n    this.setVisible(false);\n    this.skipEvent = false;\n    event.addListener(this.element, \"scroll\", this.onScroll.bind(this));\n    event.addListener(this.element, \"mousedown\", event.preventDefault);\n};\n(function () {\n    oop.implement(this, EventEmitter);\n    this.setVisible = function (isVisible) {\n        this.element.style.display = isVisible ? \"\" : \"none\";\n        this.isVisible = isVisible;\n        this.coeff = 1;\n    };\n}).call(ScrollBar.prototype);\nvar VScrollBar = function (parent, renderer) {\n    ScrollBar.call(this, parent);\n    this.scrollTop = 0;\n    this.scrollHeight = 0;\n    renderer.$scrollbarWidth =\n        this.width = dom.scrollbarWidth(parent.ownerDocument);\n    this.inner.style.width =\n        this.element.style.width = (this.width || 15) + 5 + \"px\";\n    this.$minWidth = 0;\n};\noop.inherits(VScrollBar, ScrollBar);\n(function () {\n    this.classSuffix = '-v';\n    this.onScroll = function () {\n        if (!this.skipEvent) {\n            this.scrollTop = this.element.scrollTop;\n            if (this.coeff != 1) {\n                var h = this.element.clientHeight / this.scrollHeight;\n                this.scrollTop = this.scrollTop * (1 - h) / (this.coeff - h);\n            }\n            this._emit(\"scroll\", { data: this.scrollTop });\n        }\n        this.skipEvent = false;\n    };\n    this.getWidth = function () {\n        return Math.max(this.isVisible ? this.width : 0, this.$minWidth || 0);\n    };\n    this.setHeight = function (height) {\n        this.element.style.height = height + \"px\";\n    };\n    this.setInnerHeight =\n        this.setScrollHeight = function (height) {\n            this.scrollHeight = height;\n            if (height > MAX_SCROLL_H) {\n                this.coeff = MAX_SCROLL_H / height;\n                height = MAX_SCROLL_H;\n            }\n            else if (this.coeff != 1) {\n                this.coeff = 1;\n            }\n            this.inner.style.height = height + \"px\";\n        };\n    this.setScrollTop = function (scrollTop) {\n        if (this.scrollTop != scrollTop) {\n            this.skipEvent = true;\n            this.scrollTop = scrollTop;\n            this.element.scrollTop = scrollTop * this.coeff;\n        }\n    };\n}).call(VScrollBar.prototype);\nvar HScrollBar = function (parent, renderer) {\n    ScrollBar.call(this, parent);\n    this.scrollLeft = 0;\n    this.height = renderer.$scrollbarWidth;\n    this.inner.style.height =\n        this.element.style.height = (this.height || 15) + 5 + \"px\";\n};\noop.inherits(HScrollBar, ScrollBar);\n(function () {\n    this.classSuffix = '-h';\n    this.onScroll = function () {\n        if (!this.skipEvent) {\n            this.scrollLeft = this.element.scrollLeft;\n            this._emit(\"scroll\", { data: this.scrollLeft });\n        }\n        this.skipEvent = false;\n    };\n    this.getHeight = function () {\n        return this.isVisible ? this.height : 0;\n    };\n    this.setWidth = function (width) {\n        this.element.style.width = width + \"px\";\n    };\n    this.setInnerWidth = function (width) {\n        this.inner.style.width = width + \"px\";\n    };\n    this.setScrollWidth = function (width) {\n        this.inner.style.width = width + \"px\";\n    };\n    this.setScrollLeft = function (scrollLeft) {\n        if (this.scrollLeft != scrollLeft) {\n            this.skipEvent = true;\n            this.scrollLeft = this.element.scrollLeft = scrollLeft;\n        }\n    };\n}).call(HScrollBar.prototype);\nexports.ScrollBar = VScrollBar; // backward compatibility\nexports.ScrollBarV = VScrollBar; // backward compatibility\nexports.ScrollBarH = HScrollBar; // backward compatibility\nexports.VScrollBar = VScrollBar;\nexports.HScrollBar = HScrollBar;\n\n});\n\nace.define(\"ace/renderloop\",[\"require\",\"exports\",\"module\",\"ace/lib/event\"], function(require, exports, module){\"use strict\";\nvar event = require(\"./lib/event\");\nvar RenderLoop = function (onRender, win) {\n    this.onRender = onRender;\n    this.pending = false;\n    this.changes = 0;\n    this.$recursionLimit = 2;\n    this.window = win || window;\n    var _self = this;\n    this._flush = function (ts) {\n        _self.pending = false;\n        var changes = _self.changes;\n        if (changes) {\n            event.blockIdle(100);\n            _self.changes = 0;\n            _self.onRender(changes);\n        }\n        if (_self.changes) {\n            if (_self.$recursionLimit-- < 0)\n                return;\n            _self.schedule();\n        }\n        else {\n            _self.$recursionLimit = 2;\n        }\n    };\n};\n(function () {\n    this.schedule = function (change) {\n        this.changes = this.changes | change;\n        if (this.changes && !this.pending) {\n            event.nextFrame(this._flush);\n            this.pending = true;\n        }\n    };\n    this.clear = function (change) {\n        var changes = this.changes;\n        this.changes = 0;\n        return changes;\n    };\n}).call(RenderLoop.prototype);\nexports.RenderLoop = RenderLoop;\n\n});\n\nace.define(\"ace/layer/font_metrics\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/dom\",\"ace/lib/lang\",\"ace/lib/event\",\"ace/lib/useragent\",\"ace/lib/event_emitter\"], function(require, exports, module){var oop = require(\"../lib/oop\");\nvar dom = require(\"../lib/dom\");\nvar lang = require(\"../lib/lang\");\nvar event = require(\"../lib/event\");\nvar useragent = require(\"../lib/useragent\");\nvar EventEmitter = require(\"../lib/event_emitter\").EventEmitter;\nvar CHAR_COUNT = 256;\nvar USE_OBSERVER = typeof ResizeObserver == \"function\";\nvar L = 200;\nvar FontMetrics = exports.FontMetrics = function (parentEl) {\n    this.el = dom.createElement(\"div\");\n    this.$setMeasureNodeStyles(this.el.style, true);\n    this.$main = dom.createElement(\"div\");\n    this.$setMeasureNodeStyles(this.$main.style);\n    this.$measureNode = dom.createElement(\"div\");\n    this.$setMeasureNodeStyles(this.$measureNode.style);\n    this.el.appendChild(this.$main);\n    this.el.appendChild(this.$measureNode);\n    parentEl.appendChild(this.el);\n    this.$measureNode.textContent = lang.stringRepeat(\"X\", CHAR_COUNT);\n    this.$characterSize = { width: 0, height: 0 };\n    if (USE_OBSERVER)\n        this.$addObserver();\n    else\n        this.checkForSizeChanges();\n};\n(function () {\n    oop.implement(this, EventEmitter);\n    this.$characterSize = { width: 0, height: 0 };\n    this.$setMeasureNodeStyles = function (style, isRoot) {\n        style.width = style.height = \"auto\";\n        style.left = style.top = \"0px\";\n        style.visibility = \"hidden\";\n        style.position = \"absolute\";\n        style.whiteSpace = \"pre\";\n        if (useragent.isIE < 8) {\n            style[\"font-family\"] = \"inherit\";\n        }\n        else {\n            style.font = \"inherit\";\n        }\n        style.overflow = isRoot ? \"hidden\" : \"visible\";\n    };\n    this.checkForSizeChanges = function (size) {\n        if (size === undefined)\n            size = this.$measureSizes();\n        if (size && (this.$characterSize.width !== size.width || this.$characterSize.height !== size.height)) {\n            this.$measureNode.style.fontWeight = \"bold\";\n            var boldSize = this.$measureSizes();\n            this.$measureNode.style.fontWeight = \"\";\n            this.$characterSize = size;\n            this.charSizes = Object.create(null);\n            this.allowBoldFonts = boldSize && boldSize.width === size.width && boldSize.height === size.height;\n            this._emit(\"changeCharacterSize\", { data: size });\n        }\n    };\n    this.$addObserver = function () {\n        var self = this;\n        this.$observer = new window.ResizeObserver(function (e) {\n            self.checkForSizeChanges();\n        });\n        this.$observer.observe(this.$measureNode);\n    };\n    this.$pollSizeChanges = function () {\n        if (this.$pollSizeChangesTimer || this.$observer)\n            return this.$pollSizeChangesTimer;\n        var self = this;\n        return this.$pollSizeChangesTimer = event.onIdle(function cb() {\n            self.checkForSizeChanges();\n            event.onIdle(cb, 500);\n        }, 500);\n    };\n    this.setPolling = function (val) {\n        if (val) {\n            this.$pollSizeChanges();\n        }\n        else if (this.$pollSizeChangesTimer) {\n            clearInterval(this.$pollSizeChangesTimer);\n            this.$pollSizeChangesTimer = 0;\n        }\n    };\n    this.$measureSizes = function (node) {\n        var size = {\n            height: (node || this.$measureNode).clientHeight,\n            width: (node || this.$measureNode).clientWidth / CHAR_COUNT\n        };\n        if (size.width === 0 || size.height === 0)\n            return null;\n        return size;\n    };\n    this.$measureCharWidth = function (ch) {\n        this.$main.textContent = lang.stringRepeat(ch, CHAR_COUNT);\n        var rect = this.$main.getBoundingClientRect();\n        return rect.width / CHAR_COUNT;\n    };\n    this.getCharacterWidth = function (ch) {\n        var w = this.charSizes[ch];\n        if (w === undefined) {\n            w = this.charSizes[ch] = this.$measureCharWidth(ch) / this.$characterSize.width;\n        }\n        return w;\n    };\n    this.destroy = function () {\n        clearInterval(this.$pollSizeChangesTimer);\n        if (this.$observer)\n            this.$observer.disconnect();\n        if (this.el && this.el.parentNode)\n            this.el.parentNode.removeChild(this.el);\n    };\n    this.$getZoom = function getZoom(element) {\n        if (!element || !element.parentElement)\n            return 1;\n        return (window.getComputedStyle(element).zoom || 1) * getZoom(element.parentElement);\n    };\n    this.$initTransformMeasureNodes = function () {\n        var t = function (t, l) {\n            return [\"div\", {\n                    style: \"position: absolute;top:\" + t + \"px;left:\" + l + \"px;\"\n                }];\n        };\n        this.els = dom.buildDom([t(0, 0), t(L, 0), t(0, L), t(L, L)], this.el);\n    };\n    this.transformCoordinates = function (clientPos, elPos) {\n        if (clientPos) {\n            var zoom = this.$getZoom(this.el);\n            clientPos = mul(1 / zoom, clientPos);\n        }\n        function solve(l1, l2, r) {\n            var det = l1[1] * l2[0] - l1[0] * l2[1];\n            return [\n                (-l2[1] * r[0] + l2[0] * r[1]) / det,\n                (+l1[1] * r[0] - l1[0] * r[1]) / det\n            ];\n        }\n        function sub(a, b) { return [a[0] - b[0], a[1] - b[1]]; }\n        function add(a, b) { return [a[0] + b[0], a[1] + b[1]]; }\n        function mul(a, b) { return [a * b[0], a * b[1]]; }\n        if (!this.els)\n            this.$initTransformMeasureNodes();\n        function p(el) {\n            var r = el.getBoundingClientRect();\n            return [r.left, r.top];\n        }\n        var a = p(this.els[0]);\n        var b = p(this.els[1]);\n        var c = p(this.els[2]);\n        var d = p(this.els[3]);\n        var h = solve(sub(d, b), sub(d, c), sub(add(b, c), add(d, a)));\n        var m1 = mul(1 + h[0], sub(b, a));\n        var m2 = mul(1 + h[1], sub(c, a));\n        if (elPos) {\n            var x = elPos;\n            var k = h[0] * x[0] / L + h[1] * x[1] / L + 1;\n            var ut = add(mul(x[0], m1), mul(x[1], m2));\n            return add(mul(1 / k / L, ut), a);\n        }\n        var u = sub(clientPos, a);\n        var f = solve(sub(m1, mul(h[0], u)), sub(m2, mul(h[1], u)), u);\n        return mul(L, f);\n    };\n}).call(FontMetrics.prototype);\n\n});\n\nace.define(\"ace/css/editor.css\",[\"require\",\"exports\",\"module\"], function(require, exports, module){module.exports = \"/*\\nstyles = []\\nfor (var i = 1; i < 16; i++) {\\n    styles.push(\\\".ace_br\\\" + i + \\\"{\\\" + (\\n        [\\\"top-left\\\", \\\"top-right\\\", \\\"bottom-right\\\", \\\"bottom-left\\\"]\\n    ).map(function(x, j) {\\n        return i & (1<<j) ? \\\"border-\\\" + x + \\\"-radius: 3px;\\\" : \\\"\\\" \\n    }).filter(Boolean).join(\\\" \\\") + \\\"}\\\")\\n}\\nstyles.join(\\\"\\\\n\\\")\\n*/\\n.ace_br1 {border-top-left-radius    : 3px;}\\n.ace_br2 {border-top-right-radius   : 3px;}\\n.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}\\n.ace_br4 {border-bottom-right-radius: 3px;}\\n.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}\\n.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}\\n.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}\\n.ace_br8 {border-bottom-left-radius : 3px;}\\n.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}\\n.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}\\n.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}\\n.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\\n.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\\n.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\\n.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}\\n\\n\\n.ace_editor {\\n    position: relative;\\n    overflow: hidden;\\n    padding: 0;\\n    font: 12px/normal 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'source-code-pro', monospace;\\n    direction: ltr;\\n    text-align: left;\\n    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\\n}\\n\\n.ace_scroller {\\n    position: absolute;\\n    overflow: hidden;\\n    top: 0;\\n    bottom: 0;\\n    background-color: inherit;\\n    -ms-user-select: none;\\n    -moz-user-select: none;\\n    -webkit-user-select: none;\\n    user-select: none;\\n    cursor: text;\\n}\\n\\n.ace_content {\\n    position: absolute;\\n    box-sizing: border-box;\\n    min-width: 100%;\\n    contain: style size layout;\\n    font-variant-ligatures: no-common-ligatures;\\n}\\n\\n.ace_dragging .ace_scroller:before{\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n    right: 0;\\n    bottom: 0;\\n    content: '';\\n    background: rgba(250, 250, 250, 0.01);\\n    z-index: 1000;\\n}\\n.ace_dragging.ace_dark .ace_scroller:before{\\n    background: rgba(0, 0, 0, 0.01);\\n}\\n\\n.ace_gutter {\\n    position: absolute;\\n    overflow : hidden;\\n    width: auto;\\n    top: 0;\\n    bottom: 0;\\n    left: 0;\\n    cursor: default;\\n    z-index: 4;\\n    -ms-user-select: none;\\n    -moz-user-select: none;\\n    -webkit-user-select: none;\\n    user-select: none;\\n    contain: style size layout;\\n}\\n\\n.ace_gutter-active-line {\\n    position: absolute;\\n    left: 0;\\n    right: 0;\\n}\\n\\n.ace_scroller.ace_scroll-left {\\n    box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;\\n}\\n\\n.ace_gutter-cell {\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n    right: 0;\\n    padding-left: 19px;\\n    padding-right: 6px;\\n    background-repeat: no-repeat;\\n}\\n\\n.ace_gutter-cell.ace_error {\\n    background-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==\\\");\\n    background-repeat: no-repeat;\\n    background-position: 2px center;\\n}\\n\\n.ace_gutter-cell.ace_warning {\\n    background-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==\\\");\\n    background-position: 2px center;\\n}\\n\\n.ace_gutter-cell.ace_info {\\n    background-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=\\\");\\n    background-position: 2px center;\\n}\\n.ace_dark .ace_gutter-cell.ace_info {\\n    background-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC\\\");\\n}\\n\\n.ace_scrollbar {\\n    contain: strict;\\n    position: absolute;\\n    right: 0;\\n    bottom: 0;\\n    z-index: 6;\\n}\\n\\n.ace_scrollbar-inner {\\n    position: absolute;\\n    cursor: text;\\n    left: 0;\\n    top: 0;\\n}\\n\\n.ace_scrollbar-v{\\n    overflow-x: hidden;\\n    overflow-y: scroll;\\n    top: 0;\\n}\\n\\n.ace_scrollbar-h {\\n    overflow-x: scroll;\\n    overflow-y: hidden;\\n    left: 0;\\n}\\n\\n.ace_print-margin {\\n    position: absolute;\\n    height: 100%;\\n}\\n\\n.ace_text-input {\\n    position: absolute;\\n    z-index: 0;\\n    width: 0.5em;\\n    height: 1em;\\n    opacity: 0;\\n    background: transparent;\\n    -moz-appearance: none;\\n    appearance: none;\\n    border: none;\\n    resize: none;\\n    outline: none;\\n    overflow: hidden;\\n    font: inherit;\\n    padding: 0 1px;\\n    margin: 0 -1px;\\n    contain: strict;\\n    -ms-user-select: text;\\n    -moz-user-select: text;\\n    -webkit-user-select: text;\\n    user-select: text;\\n    /*with `pre-line` chrome inserts &nbsp; instead of space*/\\n    white-space: pre!important;\\n}\\n.ace_text-input.ace_composition {\\n    background: transparent;\\n    color: inherit;\\n    z-index: 1000;\\n    opacity: 1;\\n}\\n.ace_composition_placeholder { color: transparent }\\n.ace_composition_marker { \\n    border-bottom: 1px solid;\\n    position: absolute;\\n    border-radius: 0;\\n    margin-top: 1px;\\n}\\n\\n[ace_nocontext=true] {\\n    transform: none!important;\\n    filter: none!important;\\n    clip-path: none!important;\\n    mask : none!important;\\n    contain: none!important;\\n    perspective: none!important;\\n    mix-blend-mode: initial!important;\\n    z-index: auto;\\n}\\n\\n.ace_layer {\\n    z-index: 1;\\n    position: absolute;\\n    overflow: hidden;\\n    /* workaround for chrome bug https://github.com/ajaxorg/ace/issues/2312*/\\n    word-wrap: normal;\\n    white-space: pre;\\n    height: 100%;\\n    width: 100%;\\n    box-sizing: border-box;\\n    /* setting pointer-events: auto; on node under the mouse, which changes\\n        during scroll, will break mouse wheel scrolling in Safari */\\n    pointer-events: none;\\n}\\n\\n.ace_gutter-layer {\\n    position: relative;\\n    width: auto;\\n    text-align: right;\\n    pointer-events: auto;\\n    height: 1000000px;\\n    contain: style size layout;\\n}\\n\\n.ace_text-layer {\\n    font: inherit !important;\\n    position: absolute;\\n    height: 1000000px;\\n    width: 1000000px;\\n    contain: style size layout;\\n}\\n\\n.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {\\n    contain: style size layout;\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n    right: 0;\\n}\\n\\n.ace_hidpi .ace_text-layer,\\n.ace_hidpi .ace_gutter-layer,\\n.ace_hidpi .ace_content,\\n.ace_hidpi .ace_gutter {\\n    contain: strict;\\n    will-change: transform;\\n}\\n.ace_hidpi .ace_text-layer > .ace_line, \\n.ace_hidpi .ace_text-layer > .ace_line_group {\\n    contain: strict;\\n}\\n\\n.ace_cjk {\\n    display: inline-block;\\n    text-align: center;\\n}\\n\\n.ace_cursor-layer {\\n    z-index: 4;\\n}\\n\\n.ace_cursor {\\n    z-index: 4;\\n    position: absolute;\\n    box-sizing: border-box;\\n    border-left: 2px solid;\\n    /* workaround for smooth cursor repaintng whole screen in chrome */\\n    transform: translatez(0);\\n}\\n\\n.ace_multiselect .ace_cursor {\\n    border-left-width: 1px;\\n}\\n\\n.ace_slim-cursors .ace_cursor {\\n    border-left-width: 1px;\\n}\\n\\n.ace_overwrite-cursors .ace_cursor {\\n    border-left-width: 0;\\n    border-bottom: 1px solid;\\n}\\n\\n.ace_hidden-cursors .ace_cursor {\\n    opacity: 0.2;\\n}\\n\\n.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {\\n    opacity: 0;\\n}\\n\\n.ace_smooth-blinking .ace_cursor {\\n    transition: opacity 0.18s;\\n}\\n\\n.ace_animate-blinking .ace_cursor {\\n    animation-duration: 1000ms;\\n    animation-timing-function: step-end;\\n    animation-name: blink-ace-animate;\\n    animation-iteration-count: infinite;\\n}\\n\\n.ace_animate-blinking.ace_smooth-blinking .ace_cursor {\\n    animation-duration: 1000ms;\\n    animation-timing-function: ease-in-out;\\n    animation-name: blink-ace-animate-smooth;\\n}\\n    \\n@keyframes blink-ace-animate {\\n    from, to { opacity: 1; }\\n    60% { opacity: 0; }\\n}\\n\\n@keyframes blink-ace-animate-smooth {\\n    from, to { opacity: 1; }\\n    45% { opacity: 1; }\\n    60% { opacity: 0; }\\n    85% { opacity: 0; }\\n}\\n\\n.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {\\n    position: absolute;\\n    z-index: 3;\\n}\\n\\n.ace_marker-layer .ace_selection {\\n    position: absolute;\\n    z-index: 5;\\n}\\n\\n.ace_marker-layer .ace_bracket {\\n    position: absolute;\\n    z-index: 6;\\n}\\n\\n.ace_marker-layer .ace_error_bracket {\\n    position: absolute;\\n    border-bottom: 1px solid #DE5555;\\n    border-radius: 0;\\n}\\n\\n.ace_marker-layer .ace_active-line {\\n    position: absolute;\\n    z-index: 2;\\n}\\n\\n.ace_marker-layer .ace_selected-word {\\n    position: absolute;\\n    z-index: 4;\\n    box-sizing: border-box;\\n}\\n\\n.ace_line .ace_fold {\\n    box-sizing: border-box;\\n\\n    display: inline-block;\\n    height: 11px;\\n    margin-top: -2px;\\n    vertical-align: middle;\\n\\n    background-image:\\n        url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII=\\\"),\\n        url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=\\\");\\n    background-repeat: no-repeat, repeat-x;\\n    background-position: center center, top left;\\n    color: transparent;\\n\\n    border: 1px solid black;\\n    border-radius: 2px;\\n\\n    cursor: pointer;\\n    pointer-events: auto;\\n}\\n\\n.ace_dark .ace_fold {\\n}\\n\\n.ace_fold:hover{\\n    background-image:\\n        url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII=\\\"),\\n        url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC\\\");\\n}\\n\\n.ace_tooltip {\\n    background-color: #FFF;\\n    background-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));\\n    border: 1px solid gray;\\n    border-radius: 1px;\\n    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);\\n    color: black;\\n    max-width: 100%;\\n    padding: 3px 4px;\\n    position: fixed;\\n    z-index: 999999;\\n    box-sizing: border-box;\\n    cursor: default;\\n    white-space: pre;\\n    word-wrap: break-word;\\n    line-height: normal;\\n    font-style: normal;\\n    font-weight: normal;\\n    letter-spacing: normal;\\n    pointer-events: none;\\n}\\n\\n.ace_folding-enabled > .ace_gutter-cell {\\n    padding-right: 13px;\\n}\\n\\n.ace_fold-widget {\\n    box-sizing: border-box;\\n\\n    margin: 0 -12px 0 1px;\\n    display: none;\\n    width: 11px;\\n    vertical-align: top;\\n\\n    background-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==\\\");\\n    background-repeat: no-repeat;\\n    background-position: center;\\n\\n    border-radius: 3px;\\n    \\n    border: 1px solid transparent;\\n    cursor: pointer;\\n}\\n\\n.ace_folding-enabled .ace_fold-widget {\\n    display: inline-block;   \\n}\\n\\n.ace_fold-widget.ace_end {\\n    background-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==\\\");\\n}\\n\\n.ace_fold-widget.ace_closed {\\n    background-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==\\\");\\n}\\n\\n.ace_fold-widget:hover {\\n    border: 1px solid rgba(0, 0, 0, 0.3);\\n    background-color: rgba(255, 255, 255, 0.2);\\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);\\n}\\n\\n.ace_fold-widget:active {\\n    border: 1px solid rgba(0, 0, 0, 0.4);\\n    background-color: rgba(0, 0, 0, 0.05);\\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);\\n}\\n/**\\n * Dark version for fold widgets\\n */\\n.ace_dark .ace_fold-widget {\\n    background-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC\\\");\\n}\\n.ace_dark .ace_fold-widget.ace_end {\\n    background-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==\\\");\\n}\\n.ace_dark .ace_fold-widget.ace_closed {\\n    background-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==\\\");\\n}\\n.ace_dark .ace_fold-widget:hover {\\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\\n    background-color: rgba(255, 255, 255, 0.1);\\n}\\n.ace_dark .ace_fold-widget:active {\\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\\n}\\n\\n.ace_inline_button {\\n    border: 1px solid lightgray;\\n    display: inline-block;\\n    margin: -1px 8px;\\n    padding: 0 5px;\\n    pointer-events: auto;\\n    cursor: pointer;\\n}\\n.ace_inline_button:hover {\\n    border-color: gray;\\n    background: rgba(200,200,200,0.2);\\n    display: inline-block;\\n    pointer-events: auto;\\n}\\n\\n.ace_fold-widget.ace_invalid {\\n    background-color: #FFB4B4;\\n    border-color: #DE5555;\\n}\\n\\n.ace_fade-fold-widgets .ace_fold-widget {\\n    transition: opacity 0.4s ease 0.05s;\\n    opacity: 0;\\n}\\n\\n.ace_fade-fold-widgets:hover .ace_fold-widget {\\n    transition: opacity 0.05s ease 0.05s;\\n    opacity:1;\\n}\\n\\n.ace_underline {\\n    text-decoration: underline;\\n}\\n\\n.ace_bold {\\n    font-weight: bold;\\n}\\n\\n.ace_nobold .ace_bold {\\n    font-weight: normal;\\n}\\n\\n.ace_italic {\\n    font-style: italic;\\n}\\n\\n\\n.ace_error-marker {\\n    background-color: rgba(255, 0, 0,0.2);\\n    position: absolute;\\n    z-index: 9;\\n}\\n\\n.ace_highlight-marker {\\n    background-color: rgba(255, 255, 0,0.2);\\n    position: absolute;\\n    z-index: 8;\\n}\\n\\n.ace_mobile-menu {\\n    position: absolute;\\n    line-height: 1.5;\\n    border-radius: 4px;\\n    -ms-user-select: none;\\n    -moz-user-select: none;\\n    -webkit-user-select: none;\\n    user-select: none;\\n    background: white;\\n    box-shadow: 1px 3px 2px grey;\\n    border: 1px solid #dcdcdc;\\n    color: black;\\n}\\n.ace_dark > .ace_mobile-menu {\\n    background: #333;\\n    color: #ccc;\\n    box-shadow: 1px 3px 2px grey;\\n    border: 1px solid #444;\\n\\n}\\n.ace_mobile-button {\\n    padding: 2px;\\n    cursor: pointer;\\n    overflow: hidden;\\n}\\n.ace_mobile-button:hover {\\n    background-color: #eee;\\n    opacity:1;\\n}\\n.ace_mobile-button:active {\\n    background-color: #ddd;\\n}\\n\\n.ace_placeholder {\\n    font-family: arial;\\n    transform: scale(0.9);\\n    transform-origin: left;\\n    white-space: pre;\\n    opacity: 0.7;\\n    margin: 0 10px;\\n}\";\n\n});\n\nace.define(\"ace/virtual_renderer\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/dom\",\"ace/config\",\"ace/layer/gutter\",\"ace/layer/marker\",\"ace/layer/text\",\"ace/layer/cursor\",\"ace/scrollbar\",\"ace/scrollbar\",\"ace/renderloop\",\"ace/layer/font_metrics\",\"ace/lib/event_emitter\",\"ace/css/editor.css\",\"ace/lib/useragent\"], function(require, exports, module){\"use strict\";\nvar oop = require(\"./lib/oop\");\nvar dom = require(\"./lib/dom\");\nvar config = require(\"./config\");\nvar GutterLayer = require(\"./layer/gutter\").Gutter;\nvar MarkerLayer = require(\"./layer/marker\").Marker;\nvar TextLayer = require(\"./layer/text\").Text;\nvar CursorLayer = require(\"./layer/cursor\").Cursor;\nvar HScrollBar = require(\"./scrollbar\").HScrollBar;\nvar VScrollBar = require(\"./scrollbar\").VScrollBar;\nvar RenderLoop = require(\"./renderloop\").RenderLoop;\nvar FontMetrics = require(\"./layer/font_metrics\").FontMetrics;\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar editorCss = require(\"./css/editor.css\");\nvar useragent = require(\"./lib/useragent\");\nvar HIDE_TEXTAREA = useragent.isIE;\ndom.importCssString(editorCss, \"ace_editor.css\", false);\nvar VirtualRenderer = function (container, theme) {\n    var _self = this;\n    this.container = container || dom.createElement(\"div\");\n    dom.addCssClass(this.container, \"ace_editor\");\n    if (dom.HI_DPI)\n        dom.addCssClass(this.container, \"ace_hidpi\");\n    this.setTheme(theme);\n    if (config.get(\"useStrictCSP\") == null)\n        config.set(\"useStrictCSP\", false);\n    this.$gutter = dom.createElement(\"div\");\n    this.$gutter.className = \"ace_gutter\";\n    this.container.appendChild(this.$gutter);\n    this.$gutter.setAttribute(\"aria-hidden\", true);\n    this.scroller = dom.createElement(\"div\");\n    this.scroller.className = \"ace_scroller\";\n    this.container.appendChild(this.scroller);\n    this.content = dom.createElement(\"div\");\n    this.content.className = \"ace_content\";\n    this.scroller.appendChild(this.content);\n    this.$gutterLayer = new GutterLayer(this.$gutter);\n    this.$gutterLayer.on(\"changeGutterWidth\", this.onGutterResize.bind(this));\n    this.$markerBack = new MarkerLayer(this.content);\n    var textLayer = this.$textLayer = new TextLayer(this.content);\n    this.canvas = textLayer.element;\n    this.$markerFront = new MarkerLayer(this.content);\n    this.$cursorLayer = new CursorLayer(this.content);\n    this.$horizScroll = false;\n    this.$vScroll = false;\n    this.scrollBar =\n        this.scrollBarV = new VScrollBar(this.container, this);\n    this.scrollBarH = new HScrollBar(this.container, this);\n    this.scrollBarV.on(\"scroll\", function (e) {\n        if (!_self.$scrollAnimation)\n            _self.session.setScrollTop(e.data - _self.scrollMargin.top);\n    });\n    this.scrollBarH.on(\"scroll\", function (e) {\n        if (!_self.$scrollAnimation)\n            _self.session.setScrollLeft(e.data - _self.scrollMargin.left);\n    });\n    this.scrollTop = 0;\n    this.scrollLeft = 0;\n    this.cursorPos = {\n        row: 0,\n        column: 0\n    };\n    this.$fontMetrics = new FontMetrics(this.container);\n    this.$textLayer.$setFontMetrics(this.$fontMetrics);\n    this.$textLayer.on(\"changeCharacterSize\", function (e) {\n        _self.updateCharacterSize();\n        _self.onResize(true, _self.gutterWidth, _self.$size.width, _self.$size.height);\n        _self._signal(\"changeCharacterSize\", e);\n    });\n    this.$size = {\n        width: 0,\n        height: 0,\n        scrollerHeight: 0,\n        scrollerWidth: 0,\n        $dirty: true\n    };\n    this.layerConfig = {\n        width: 1,\n        padding: 0,\n        firstRow: 0,\n        firstRowScreen: 0,\n        lastRow: 0,\n        lineHeight: 0,\n        characterWidth: 0,\n        minHeight: 1,\n        maxHeight: 1,\n        offset: 0,\n        height: 1,\n        gutterOffset: 1\n    };\n    this.scrollMargin = {\n        left: 0,\n        right: 0,\n        top: 0,\n        bottom: 0,\n        v: 0,\n        h: 0\n    };\n    this.margin = {\n        left: 0,\n        right: 0,\n        top: 0,\n        bottom: 0,\n        v: 0,\n        h: 0\n    };\n    this.$keepTextAreaAtCursor = !useragent.isIOS;\n    this.$loop = new RenderLoop(this.$renderChanges.bind(this), this.container.ownerDocument.defaultView);\n    this.$loop.schedule(this.CHANGE_FULL);\n    this.updateCharacterSize();\n    this.setPadding(4);\n    config.resetOptions(this);\n    config._signal(\"renderer\", this);\n};\n(function () {\n    this.CHANGE_CURSOR = 1;\n    this.CHANGE_MARKER = 2;\n    this.CHANGE_GUTTER = 4;\n    this.CHANGE_SCROLL = 8;\n    this.CHANGE_LINES = 16;\n    this.CHANGE_TEXT = 32;\n    this.CHANGE_SIZE = 64;\n    this.CHANGE_MARKER_BACK = 128;\n    this.CHANGE_MARKER_FRONT = 256;\n    this.CHANGE_FULL = 512;\n    this.CHANGE_H_SCROLL = 1024;\n    oop.implement(this, EventEmitter);\n    this.updateCharacterSize = function () {\n        if (this.$textLayer.allowBoldFonts != this.$allowBoldFonts) {\n            this.$allowBoldFonts = this.$textLayer.allowBoldFonts;\n            this.setStyle(\"ace_nobold\", !this.$allowBoldFonts);\n        }\n        this.layerConfig.characterWidth =\n            this.characterWidth = this.$textLayer.getCharacterWidth();\n        this.layerConfig.lineHeight =\n            this.lineHeight = this.$textLayer.getLineHeight();\n        this.$updatePrintMargin();\n        dom.setStyle(this.scroller.style, \"line-height\", this.lineHeight + \"px\");\n    };\n    this.setSession = function (session) {\n        if (this.session)\n            this.session.doc.off(\"changeNewLineMode\", this.onChangeNewLineMode);\n        this.session = session;\n        if (session && this.scrollMargin.top && session.getScrollTop() <= 0)\n            session.setScrollTop(-this.scrollMargin.top);\n        this.$cursorLayer.setSession(session);\n        this.$markerBack.setSession(session);\n        this.$markerFront.setSession(session);\n        this.$gutterLayer.setSession(session);\n        this.$textLayer.setSession(session);\n        if (!session)\n            return;\n        this.$loop.schedule(this.CHANGE_FULL);\n        this.session.$setFontMetrics(this.$fontMetrics);\n        this.scrollBarH.scrollLeft = this.scrollBarV.scrollTop = null;\n        this.onChangeNewLineMode = this.onChangeNewLineMode.bind(this);\n        this.onChangeNewLineMode();\n        this.session.doc.on(\"changeNewLineMode\", this.onChangeNewLineMode);\n    };\n    this.updateLines = function (firstRow, lastRow, force) {\n        if (lastRow === undefined)\n            lastRow = Infinity;\n        if (!this.$changedLines) {\n            this.$changedLines = {\n                firstRow: firstRow,\n                lastRow: lastRow\n            };\n        }\n        else {\n            if (this.$changedLines.firstRow > firstRow)\n                this.$changedLines.firstRow = firstRow;\n            if (this.$changedLines.lastRow < lastRow)\n                this.$changedLines.lastRow = lastRow;\n        }\n        if (this.$changedLines.lastRow < this.layerConfig.firstRow) {\n            if (force)\n                this.$changedLines.lastRow = this.layerConfig.lastRow;\n            else\n                return;\n        }\n        if (this.$changedLines.firstRow > this.layerConfig.lastRow)\n            return;\n        this.$loop.schedule(this.CHANGE_LINES);\n    };\n    this.onChangeNewLineMode = function () {\n        this.$loop.schedule(this.CHANGE_TEXT);\n        this.$textLayer.$updateEolChar();\n        this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR);\n    };\n    this.onChangeTabSize = function () {\n        this.$loop.schedule(this.CHANGE_TEXT | this.CHANGE_MARKER);\n        this.$textLayer.onChangeTabSize();\n    };\n    this.updateText = function () {\n        this.$loop.schedule(this.CHANGE_TEXT);\n    };\n    this.updateFull = function (force) {\n        if (force)\n            this.$renderChanges(this.CHANGE_FULL, true);\n        else\n            this.$loop.schedule(this.CHANGE_FULL);\n    };\n    this.updateFontSize = function () {\n        this.$textLayer.checkForSizeChanges();\n    };\n    this.$changes = 0;\n    this.$updateSizeAsync = function () {\n        if (this.$loop.pending)\n            this.$size.$dirty = true;\n        else\n            this.onResize();\n    };\n    this.onResize = function (force, gutterWidth, width, height) {\n        if (this.resizing > 2)\n            return;\n        else if (this.resizing > 0)\n            this.resizing++;\n        else\n            this.resizing = force ? 1 : 0;\n        var el = this.container;\n        if (!height)\n            height = el.clientHeight || el.scrollHeight;\n        if (!width)\n            width = el.clientWidth || el.scrollWidth;\n        var changes = this.$updateCachedSize(force, gutterWidth, width, height);\n        if (!this.$size.scrollerHeight || (!width && !height))\n            return this.resizing = 0;\n        if (force)\n            this.$gutterLayer.$padding = null;\n        if (force)\n            this.$renderChanges(changes | this.$changes, true);\n        else\n            this.$loop.schedule(changes | this.$changes);\n        if (this.resizing)\n            this.resizing = 0;\n        this.scrollBarH.scrollLeft = this.scrollBarV.scrollTop = null;\n    };\n    this.$updateCachedSize = function (force, gutterWidth, width, height) {\n        height -= (this.$extraHeight || 0);\n        var changes = 0;\n        var size = this.$size;\n        var oldSize = {\n            width: size.width,\n            height: size.height,\n            scrollerHeight: size.scrollerHeight,\n            scrollerWidth: size.scrollerWidth\n        };\n        if (height && (force || size.height != height)) {\n            size.height = height;\n            changes |= this.CHANGE_SIZE;\n            size.scrollerHeight = size.height;\n            if (this.$horizScroll)\n                size.scrollerHeight -= this.scrollBarH.getHeight();\n            this.scrollBarV.element.style.bottom = this.scrollBarH.getHeight() + \"px\";\n            changes = changes | this.CHANGE_SCROLL;\n        }\n        if (width && (force || size.width != width)) {\n            changes |= this.CHANGE_SIZE;\n            size.width = width;\n            if (gutterWidth == null)\n                gutterWidth = this.$showGutter ? this.$gutter.offsetWidth : 0;\n            this.gutterWidth = gutterWidth;\n            dom.setStyle(this.scrollBarH.element.style, \"left\", gutterWidth + \"px\");\n            dom.setStyle(this.scroller.style, \"left\", gutterWidth + this.margin.left + \"px\");\n            size.scrollerWidth = Math.max(0, width - gutterWidth - this.scrollBarV.getWidth() - this.margin.h);\n            dom.setStyle(this.$gutter.style, \"left\", this.margin.left + \"px\");\n            var right = this.scrollBarV.getWidth() + \"px\";\n            dom.setStyle(this.scrollBarH.element.style, \"right\", right);\n            dom.setStyle(this.scroller.style, \"right\", right);\n            dom.setStyle(this.scroller.style, \"bottom\", this.scrollBarH.getHeight());\n            if (this.session && this.session.getUseWrapMode() && this.adjustWrapLimit() || force) {\n                changes |= this.CHANGE_FULL;\n            }\n        }\n        size.$dirty = !width || !height;\n        if (changes)\n            this._signal(\"resize\", oldSize);\n        return changes;\n    };\n    this.onGutterResize = function (width) {\n        var gutterWidth = this.$showGutter ? width : 0;\n        if (gutterWidth != this.gutterWidth)\n            this.$changes |= this.$updateCachedSize(true, gutterWidth, this.$size.width, this.$size.height);\n        if (this.session.getUseWrapMode() && this.adjustWrapLimit()) {\n            this.$loop.schedule(this.CHANGE_FULL);\n        }\n        else if (this.$size.$dirty) {\n            this.$loop.schedule(this.CHANGE_FULL);\n        }\n        else {\n            this.$computeLayerConfig();\n        }\n    };\n    this.adjustWrapLimit = function () {\n        var availableWidth = this.$size.scrollerWidth - this.$padding * 2;\n        var limit = Math.floor(availableWidth / this.characterWidth);\n        return this.session.adjustWrapLimit(limit, this.$showPrintMargin && this.$printMarginColumn);\n    };\n    this.setAnimatedScroll = function (shouldAnimate) {\n        this.setOption(\"animatedScroll\", shouldAnimate);\n    };\n    this.getAnimatedScroll = function () {\n        return this.$animatedScroll;\n    };\n    this.setShowInvisibles = function (showInvisibles) {\n        this.setOption(\"showInvisibles\", showInvisibles);\n        this.session.$bidiHandler.setShowInvisibles(showInvisibles);\n    };\n    this.getShowInvisibles = function () {\n        return this.getOption(\"showInvisibles\");\n    };\n    this.getDisplayIndentGuides = function () {\n        return this.getOption(\"displayIndentGuides\");\n    };\n    this.setDisplayIndentGuides = function (display) {\n        this.setOption(\"displayIndentGuides\", display);\n    };\n    this.getHighlightIndentGuides = function () {\n        return this.getOption(\"highlightIndentGuides\");\n    };\n    this.setHighlightIndentGuides = function (highlight) {\n        this.setOption(\"highlightIndentGuides\", highlight);\n    };\n    this.setShowPrintMargin = function (showPrintMargin) {\n        this.setOption(\"showPrintMargin\", showPrintMargin);\n    };\n    this.getShowPrintMargin = function () {\n        return this.getOption(\"showPrintMargin\");\n    };\n    this.setPrintMarginColumn = function (showPrintMargin) {\n        this.setOption(\"printMarginColumn\", showPrintMargin);\n    };\n    this.getPrintMarginColumn = function () {\n        return this.getOption(\"printMarginColumn\");\n    };\n    this.getShowGutter = function () {\n        return this.getOption(\"showGutter\");\n    };\n    this.setShowGutter = function (show) {\n        return this.setOption(\"showGutter\", show);\n    };\n    this.getFadeFoldWidgets = function () {\n        return this.getOption(\"fadeFoldWidgets\");\n    };\n    this.setFadeFoldWidgets = function (show) {\n        this.setOption(\"fadeFoldWidgets\", show);\n    };\n    this.setHighlightGutterLine = function (shouldHighlight) {\n        this.setOption(\"highlightGutterLine\", shouldHighlight);\n    };\n    this.getHighlightGutterLine = function () {\n        return this.getOption(\"highlightGutterLine\");\n    };\n    this.$updatePrintMargin = function () {\n        if (!this.$showPrintMargin && !this.$printMarginEl)\n            return;\n        if (!this.$printMarginEl) {\n            var containerEl = dom.createElement(\"div\");\n            containerEl.className = \"ace_layer ace_print-margin-layer\";\n            this.$printMarginEl = dom.createElement(\"div\");\n            this.$printMarginEl.className = \"ace_print-margin\";\n            containerEl.appendChild(this.$printMarginEl);\n            this.content.insertBefore(containerEl, this.content.firstChild);\n        }\n        var style = this.$printMarginEl.style;\n        style.left = Math.round(this.characterWidth * this.$printMarginColumn + this.$padding) + \"px\";\n        style.visibility = this.$showPrintMargin ? \"visible\" : \"hidden\";\n        if (this.session && this.session.$wrap == -1)\n            this.adjustWrapLimit();\n    };\n    this.getContainerElement = function () {\n        return this.container;\n    };\n    this.getMouseEventTarget = function () {\n        return this.scroller;\n    };\n    this.getTextAreaContainer = function () {\n        return this.container;\n    };\n    this.$moveTextAreaToCursor = function () {\n        if (this.$isMousePressed)\n            return;\n        var style = this.textarea.style;\n        var composition = this.$composition;\n        if (!this.$keepTextAreaAtCursor && !composition) {\n            dom.translate(this.textarea, -100, 0);\n            return;\n        }\n        var pixelPos = this.$cursorLayer.$pixelPos;\n        if (!pixelPos)\n            return;\n        if (composition && composition.markerRange)\n            pixelPos = this.$cursorLayer.getPixelPosition(composition.markerRange.start, true);\n        var config = this.layerConfig;\n        var posTop = pixelPos.top;\n        var posLeft = pixelPos.left;\n        posTop -= config.offset;\n        var h = composition && composition.useTextareaForIME ? this.lineHeight : HIDE_TEXTAREA ? 0 : 1;\n        if (posTop < 0 || posTop > config.height - h) {\n            dom.translate(this.textarea, 0, 0);\n            return;\n        }\n        var w = 1;\n        var maxTop = this.$size.height - h;\n        if (!composition) {\n            posTop += this.lineHeight;\n        }\n        else {\n            if (composition.useTextareaForIME) {\n                var val = this.textarea.value;\n                w = this.characterWidth * (this.session.$getStringScreenWidth(val)[0]);\n            }\n            else {\n                posTop += this.lineHeight + 2;\n            }\n        }\n        posLeft -= this.scrollLeft;\n        if (posLeft > this.$size.scrollerWidth - w)\n            posLeft = this.$size.scrollerWidth - w;\n        posLeft += this.gutterWidth + this.margin.left;\n        dom.setStyle(style, \"height\", h + \"px\");\n        dom.setStyle(style, \"width\", w + \"px\");\n        dom.translate(this.textarea, Math.min(posLeft, this.$size.scrollerWidth - w), Math.min(posTop, maxTop));\n    };\n    this.getFirstVisibleRow = function () {\n        return this.layerConfig.firstRow;\n    };\n    this.getFirstFullyVisibleRow = function () {\n        return this.layerConfig.firstRow + (this.layerConfig.offset === 0 ? 0 : 1);\n    };\n    this.getLastFullyVisibleRow = function () {\n        var config = this.layerConfig;\n        var lastRow = config.lastRow;\n        var top = this.session.documentToScreenRow(lastRow, 0) * config.lineHeight;\n        if (top - this.session.getScrollTop() > config.height - config.lineHeight)\n            return lastRow - 1;\n        return lastRow;\n    };\n    this.getLastVisibleRow = function () {\n        return this.layerConfig.lastRow;\n    };\n    this.$padding = null;\n    this.setPadding = function (padding) {\n        this.$padding = padding;\n        this.$textLayer.setPadding(padding);\n        this.$cursorLayer.setPadding(padding);\n        this.$markerFront.setPadding(padding);\n        this.$markerBack.setPadding(padding);\n        this.$loop.schedule(this.CHANGE_FULL);\n        this.$updatePrintMargin();\n    };\n    this.setScrollMargin = function (top, bottom, left, right) {\n        var sm = this.scrollMargin;\n        sm.top = top | 0;\n        sm.bottom = bottom | 0;\n        sm.right = right | 0;\n        sm.left = left | 0;\n        sm.v = sm.top + sm.bottom;\n        sm.h = sm.left + sm.right;\n        if (sm.top && this.scrollTop <= 0 && this.session)\n            this.session.setScrollTop(-sm.top);\n        this.updateFull();\n    };\n    this.setMargin = function (top, bottom, left, right) {\n        var sm = this.margin;\n        sm.top = top | 0;\n        sm.bottom = bottom | 0;\n        sm.right = right | 0;\n        sm.left = left | 0;\n        sm.v = sm.top + sm.bottom;\n        sm.h = sm.left + sm.right;\n        this.$updateCachedSize(true, this.gutterWidth, this.$size.width, this.$size.height);\n        this.updateFull();\n    };\n    this.getHScrollBarAlwaysVisible = function () {\n        return this.$hScrollBarAlwaysVisible;\n    };\n    this.setHScrollBarAlwaysVisible = function (alwaysVisible) {\n        this.setOption(\"hScrollBarAlwaysVisible\", alwaysVisible);\n    };\n    this.getVScrollBarAlwaysVisible = function () {\n        return this.$vScrollBarAlwaysVisible;\n    };\n    this.setVScrollBarAlwaysVisible = function (alwaysVisible) {\n        this.setOption(\"vScrollBarAlwaysVisible\", alwaysVisible);\n    };\n    this.$updateScrollBarV = function () {\n        var scrollHeight = this.layerConfig.maxHeight;\n        var scrollerHeight = this.$size.scrollerHeight;\n        if (!this.$maxLines && this.$scrollPastEnd) {\n            scrollHeight -= (scrollerHeight - this.lineHeight) * this.$scrollPastEnd;\n            if (this.scrollTop > scrollHeight - scrollerHeight) {\n                scrollHeight = this.scrollTop + scrollerHeight;\n                this.scrollBarV.scrollTop = null;\n            }\n        }\n        this.scrollBarV.setScrollHeight(scrollHeight + this.scrollMargin.v);\n        this.scrollBarV.setScrollTop(this.scrollTop + this.scrollMargin.top);\n    };\n    this.$updateScrollBarH = function () {\n        this.scrollBarH.setScrollWidth(this.layerConfig.width + 2 * this.$padding + this.scrollMargin.h);\n        this.scrollBarH.setScrollLeft(this.scrollLeft + this.scrollMargin.left);\n    };\n    this.$frozen = false;\n    this.freeze = function () {\n        this.$frozen = true;\n    };\n    this.unfreeze = function () {\n        this.$frozen = false;\n    };\n    this.$renderChanges = function (changes, force) {\n        if (this.$changes) {\n            changes |= this.$changes;\n            this.$changes = 0;\n        }\n        if ((!this.session || !this.container.offsetWidth || this.$frozen) || (!changes && !force)) {\n            this.$changes |= changes;\n            return;\n        }\n        if (this.$size.$dirty) {\n            this.$changes |= changes;\n            return this.onResize(true);\n        }\n        if (!this.lineHeight) {\n            this.$textLayer.checkForSizeChanges();\n        }\n        this._signal(\"beforeRender\", changes);\n        if (this.session && this.session.$bidiHandler)\n            this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);\n        var config = this.layerConfig;\n        if (changes & this.CHANGE_FULL ||\n            changes & this.CHANGE_SIZE ||\n            changes & this.CHANGE_TEXT ||\n            changes & this.CHANGE_LINES ||\n            changes & this.CHANGE_SCROLL ||\n            changes & this.CHANGE_H_SCROLL) {\n            changes |= this.$computeLayerConfig() | this.$loop.clear();\n            if (config.firstRow != this.layerConfig.firstRow && config.firstRowScreen == this.layerConfig.firstRowScreen) {\n                var st = this.scrollTop + (config.firstRow - this.layerConfig.firstRow) * this.lineHeight;\n                if (st > 0) {\n                    this.scrollTop = st;\n                    changes = changes | this.CHANGE_SCROLL;\n                    changes |= this.$computeLayerConfig() | this.$loop.clear();\n                }\n            }\n            config = this.layerConfig;\n            this.$updateScrollBarV();\n            if (changes & this.CHANGE_H_SCROLL)\n                this.$updateScrollBarH();\n            dom.translate(this.content, -this.scrollLeft, -config.offset);\n            var width = config.width + 2 * this.$padding + \"px\";\n            var height = config.minHeight + \"px\";\n            dom.setStyle(this.content.style, \"width\", width);\n            dom.setStyle(this.content.style, \"height\", height);\n        }\n        if (changes & this.CHANGE_H_SCROLL) {\n            dom.translate(this.content, -this.scrollLeft, -config.offset);\n            this.scroller.className = this.scrollLeft <= 0 ? \"ace_scroller\" : \"ace_scroller ace_scroll-left\";\n        }\n        if (changes & this.CHANGE_FULL) {\n            this.$changedLines = null;\n            this.$textLayer.update(config);\n            if (this.$showGutter)\n                this.$gutterLayer.update(config);\n            this.$markerBack.update(config);\n            this.$markerFront.update(config);\n            this.$cursorLayer.update(config);\n            this.$moveTextAreaToCursor();\n            this._signal(\"afterRender\", changes);\n            return;\n        }\n        if (changes & this.CHANGE_SCROLL) {\n            this.$changedLines = null;\n            if (changes & this.CHANGE_TEXT || changes & this.CHANGE_LINES)\n                this.$textLayer.update(config);\n            else\n                this.$textLayer.scrollLines(config);\n            if (this.$showGutter) {\n                if (changes & this.CHANGE_GUTTER || changes & this.CHANGE_LINES)\n                    this.$gutterLayer.update(config);\n                else\n                    this.$gutterLayer.scrollLines(config);\n            }\n            this.$markerBack.update(config);\n            this.$markerFront.update(config);\n            this.$cursorLayer.update(config);\n            this.$moveTextAreaToCursor();\n            this._signal(\"afterRender\", changes);\n            return;\n        }\n        if (changes & this.CHANGE_TEXT) {\n            this.$changedLines = null;\n            this.$textLayer.update(config);\n            if (this.$showGutter)\n                this.$gutterLayer.update(config);\n        }\n        else if (changes & this.CHANGE_LINES) {\n            if (this.$updateLines() || (changes & this.CHANGE_GUTTER) && this.$showGutter)\n                this.$gutterLayer.update(config);\n        }\n        else if (changes & this.CHANGE_TEXT || changes & this.CHANGE_GUTTER) {\n            if (this.$showGutter)\n                this.$gutterLayer.update(config);\n        }\n        else if (changes & this.CHANGE_CURSOR) {\n            if (this.$highlightGutterLine)\n                this.$gutterLayer.updateLineHighlight(config);\n        }\n        if (changes & this.CHANGE_CURSOR) {\n            this.$cursorLayer.update(config);\n            this.$moveTextAreaToCursor();\n        }\n        if (changes & (this.CHANGE_MARKER | this.CHANGE_MARKER_FRONT)) {\n            this.$markerFront.update(config);\n        }\n        if (changes & (this.CHANGE_MARKER | this.CHANGE_MARKER_BACK)) {\n            this.$markerBack.update(config);\n        }\n        this._signal(\"afterRender\", changes);\n    };\n    this.$autosize = function () {\n        var height = this.session.getScreenLength() * this.lineHeight;\n        var maxHeight = this.$maxLines * this.lineHeight;\n        var desiredHeight = Math.min(maxHeight, Math.max((this.$minLines || 1) * this.lineHeight, height)) + this.scrollMargin.v + (this.$extraHeight || 0);\n        if (this.$horizScroll)\n            desiredHeight += this.scrollBarH.getHeight();\n        if (this.$maxPixelHeight && desiredHeight > this.$maxPixelHeight)\n            desiredHeight = this.$maxPixelHeight;\n        var hideScrollbars = desiredHeight <= 2 * this.lineHeight;\n        var vScroll = !hideScrollbars && height > maxHeight;\n        if (desiredHeight != this.desiredHeight ||\n            this.$size.height != this.desiredHeight || vScroll != this.$vScroll) {\n            if (vScroll != this.$vScroll) {\n                this.$vScroll = vScroll;\n                this.scrollBarV.setVisible(vScroll);\n            }\n            var w = this.container.clientWidth;\n            this.container.style.height = desiredHeight + \"px\";\n            this.$updateCachedSize(true, this.$gutterWidth, w, desiredHeight);\n            this.desiredHeight = desiredHeight;\n            this._signal(\"autosize\");\n        }\n    };\n    this.$computeLayerConfig = function () {\n        var session = this.session;\n        var size = this.$size;\n        var hideScrollbars = size.height <= 2 * this.lineHeight;\n        var screenLines = this.session.getScreenLength();\n        var maxHeight = screenLines * this.lineHeight;\n        var longestLine = this.$getLongestLine();\n        var horizScroll = !hideScrollbars && (this.$hScrollBarAlwaysVisible ||\n            size.scrollerWidth - longestLine - 2 * this.$padding < 0);\n        var hScrollChanged = this.$horizScroll !== horizScroll;\n        if (hScrollChanged) {\n            this.$horizScroll = horizScroll;\n            this.scrollBarH.setVisible(horizScroll);\n        }\n        var vScrollBefore = this.$vScroll; // autosize can change vscroll value in which case we need to update longestLine\n        if (this.$maxLines && this.lineHeight > 1)\n            this.$autosize();\n        var minHeight = size.scrollerHeight + this.lineHeight;\n        var scrollPastEnd = !this.$maxLines && this.$scrollPastEnd\n            ? (size.scrollerHeight - this.lineHeight) * this.$scrollPastEnd\n            : 0;\n        maxHeight += scrollPastEnd;\n        var sm = this.scrollMargin;\n        this.session.setScrollTop(Math.max(-sm.top, Math.min(this.scrollTop, maxHeight - size.scrollerHeight + sm.bottom)));\n        this.session.setScrollLeft(Math.max(-sm.left, Math.min(this.scrollLeft, longestLine + 2 * this.$padding - size.scrollerWidth + sm.right)));\n        var vScroll = !hideScrollbars && (this.$vScrollBarAlwaysVisible ||\n            size.scrollerHeight - maxHeight + scrollPastEnd < 0 || this.scrollTop > sm.top);\n        var vScrollChanged = vScrollBefore !== vScroll;\n        if (vScrollChanged) {\n            this.$vScroll = vScroll;\n            this.scrollBarV.setVisible(vScroll);\n        }\n        var offset = this.scrollTop % this.lineHeight;\n        var lineCount = Math.ceil(minHeight / this.lineHeight) - 1;\n        var firstRow = Math.max(0, Math.round((this.scrollTop - offset) / this.lineHeight));\n        var lastRow = firstRow + lineCount;\n        var firstRowScreen, firstRowHeight;\n        var lineHeight = this.lineHeight;\n        firstRow = session.screenToDocumentRow(firstRow, 0);\n        var foldLine = session.getFoldLine(firstRow);\n        if (foldLine) {\n            firstRow = foldLine.start.row;\n        }\n        firstRowScreen = session.documentToScreenRow(firstRow, 0);\n        firstRowHeight = session.getRowLength(firstRow) * lineHeight;\n        lastRow = Math.min(session.screenToDocumentRow(lastRow, 0), session.getLength() - 1);\n        minHeight = size.scrollerHeight + session.getRowLength(lastRow) * lineHeight +\n            firstRowHeight;\n        offset = this.scrollTop - firstRowScreen * lineHeight;\n        var changes = 0;\n        if (this.layerConfig.width != longestLine || hScrollChanged)\n            changes = this.CHANGE_H_SCROLL;\n        if (hScrollChanged || vScrollChanged) {\n            changes |= this.$updateCachedSize(true, this.gutterWidth, size.width, size.height);\n            this._signal(\"scrollbarVisibilityChanged\");\n            if (vScrollChanged)\n                longestLine = this.$getLongestLine();\n        }\n        this.layerConfig = {\n            width: longestLine,\n            padding: this.$padding,\n            firstRow: firstRow,\n            firstRowScreen: firstRowScreen,\n            lastRow: lastRow,\n            lineHeight: lineHeight,\n            characterWidth: this.characterWidth,\n            minHeight: minHeight,\n            maxHeight: maxHeight,\n            offset: offset,\n            gutterOffset: lineHeight ? Math.max(0, Math.ceil((offset + size.height - size.scrollerHeight) / lineHeight)) : 0,\n            height: this.$size.scrollerHeight\n        };\n        if (this.session.$bidiHandler)\n            this.session.$bidiHandler.setContentWidth(longestLine - this.$padding);\n        return changes;\n    };\n    this.$updateLines = function () {\n        if (!this.$changedLines)\n            return;\n        var firstRow = this.$changedLines.firstRow;\n        var lastRow = this.$changedLines.lastRow;\n        this.$changedLines = null;\n        var layerConfig = this.layerConfig;\n        if (firstRow > layerConfig.lastRow + 1) {\n            return;\n        }\n        if (lastRow < layerConfig.firstRow) {\n            return;\n        }\n        if (lastRow === Infinity) {\n            if (this.$showGutter)\n                this.$gutterLayer.update(layerConfig);\n            this.$textLayer.update(layerConfig);\n            return;\n        }\n        this.$textLayer.updateLines(layerConfig, firstRow, lastRow);\n        return true;\n    };\n    this.$getLongestLine = function () {\n        var charCount = this.session.getScreenWidth();\n        if (this.showInvisibles && !this.session.$useWrapMode)\n            charCount += 1;\n        if (this.$textLayer && charCount > this.$textLayer.MAX_LINE_LENGTH)\n            charCount = this.$textLayer.MAX_LINE_LENGTH + 30;\n        return Math.max(this.$size.scrollerWidth - 2 * this.$padding, Math.round(charCount * this.characterWidth));\n    };\n    this.updateFrontMarkers = function () {\n        this.$markerFront.setMarkers(this.session.getMarkers(true));\n        this.$loop.schedule(this.CHANGE_MARKER_FRONT);\n    };\n    this.updateBackMarkers = function () {\n        this.$markerBack.setMarkers(this.session.getMarkers());\n        this.$loop.schedule(this.CHANGE_MARKER_BACK);\n    };\n    this.addGutterDecoration = function (row, className) {\n        this.$gutterLayer.addGutterDecoration(row, className);\n    };\n    this.removeGutterDecoration = function (row, className) {\n        this.$gutterLayer.removeGutterDecoration(row, className);\n    };\n    this.updateBreakpoints = function (rows) {\n        this.$loop.schedule(this.CHANGE_GUTTER);\n    };\n    this.setAnnotations = function (annotations) {\n        this.$gutterLayer.setAnnotations(annotations);\n        this.$loop.schedule(this.CHANGE_GUTTER);\n    };\n    this.updateCursor = function () {\n        this.$loop.schedule(this.CHANGE_CURSOR);\n    };\n    this.hideCursor = function () {\n        this.$cursorLayer.hideCursor();\n    };\n    this.showCursor = function () {\n        this.$cursorLayer.showCursor();\n    };\n    this.scrollSelectionIntoView = function (anchor, lead, offset) {\n        this.scrollCursorIntoView(anchor, offset);\n        this.scrollCursorIntoView(lead, offset);\n    };\n    this.scrollCursorIntoView = function (cursor, offset, $viewMargin) {\n        if (this.$size.scrollerHeight === 0)\n            return;\n        var pos = this.$cursorLayer.getPixelPosition(cursor);\n        var left = pos.left;\n        var top = pos.top;\n        var topMargin = $viewMargin && $viewMargin.top || 0;\n        var bottomMargin = $viewMargin && $viewMargin.bottom || 0;\n        var scrollTop = this.$scrollAnimation ? this.session.getScrollTop() : this.scrollTop;\n        if (scrollTop + topMargin > top) {\n            if (offset && scrollTop + topMargin > top + this.lineHeight)\n                top -= offset * this.$size.scrollerHeight;\n            if (top === 0)\n                top = -this.scrollMargin.top;\n            this.session.setScrollTop(top);\n        }\n        else if (scrollTop + this.$size.scrollerHeight - bottomMargin < top + this.lineHeight) {\n            if (offset && scrollTop + this.$size.scrollerHeight - bottomMargin < top - this.lineHeight)\n                top += offset * this.$size.scrollerHeight;\n            this.session.setScrollTop(top + this.lineHeight + bottomMargin - this.$size.scrollerHeight);\n        }\n        var scrollLeft = this.scrollLeft;\n        if (scrollLeft > left) {\n            if (left < this.$padding + 2 * this.layerConfig.characterWidth)\n                left = -this.scrollMargin.left;\n            this.session.setScrollLeft(left);\n        }\n        else if (scrollLeft + this.$size.scrollerWidth < left + this.characterWidth) {\n            this.session.setScrollLeft(Math.round(left + this.characterWidth - this.$size.scrollerWidth));\n        }\n        else if (scrollLeft <= this.$padding && left - scrollLeft < this.characterWidth) {\n            this.session.setScrollLeft(0);\n        }\n    };\n    this.getScrollTop = function () {\n        return this.session.getScrollTop();\n    };\n    this.getScrollLeft = function () {\n        return this.session.getScrollLeft();\n    };\n    this.getScrollTopRow = function () {\n        return this.scrollTop / this.lineHeight;\n    };\n    this.getScrollBottomRow = function () {\n        return Math.max(0, Math.floor((this.scrollTop + this.$size.scrollerHeight) / this.lineHeight) - 1);\n    };\n    this.scrollToRow = function (row) {\n        this.session.setScrollTop(row * this.lineHeight);\n    };\n    this.alignCursor = function (cursor, alignment) {\n        if (typeof cursor == \"number\")\n            cursor = { row: cursor, column: 0 };\n        var pos = this.$cursorLayer.getPixelPosition(cursor);\n        var h = this.$size.scrollerHeight - this.lineHeight;\n        var offset = pos.top - h * (alignment || 0);\n        this.session.setScrollTop(offset);\n        return offset;\n    };\n    this.STEPS = 8;\n    this.$calcSteps = function (fromValue, toValue) {\n        var i = 0;\n        var l = this.STEPS;\n        var steps = [];\n        var func = function (t, x_min, dx) {\n            return dx * (Math.pow(t - 1, 3) + 1) + x_min;\n        };\n        for (i = 0; i < l; ++i)\n            steps.push(func(i / this.STEPS, fromValue, toValue - fromValue));\n        return steps;\n    };\n    this.scrollToLine = function (line, center, animate, callback) {\n        var pos = this.$cursorLayer.getPixelPosition({ row: line, column: 0 });\n        var offset = pos.top;\n        if (center)\n            offset -= this.$size.scrollerHeight / 2;\n        var initialScroll = this.scrollTop;\n        this.session.setScrollTop(offset);\n        if (animate !== false)\n            this.animateScrolling(initialScroll, callback);\n    };\n    this.animateScrolling = function (fromValue, callback) {\n        var toValue = this.scrollTop;\n        if (!this.$animatedScroll)\n            return;\n        var _self = this;\n        if (fromValue == toValue)\n            return;\n        if (this.$scrollAnimation) {\n            var oldSteps = this.$scrollAnimation.steps;\n            if (oldSteps.length) {\n                fromValue = oldSteps[0];\n                if (fromValue == toValue)\n                    return;\n            }\n        }\n        var steps = _self.$calcSteps(fromValue, toValue);\n        this.$scrollAnimation = { from: fromValue, to: toValue, steps: steps };\n        clearInterval(this.$timer);\n        _self.session.setScrollTop(steps.shift());\n        _self.session.$scrollTop = toValue;\n        this.$timer = setInterval(function () {\n            if (!_self.session)\n                return clearInterval(_self.$timer);\n            if (steps.length) {\n                _self.session.setScrollTop(steps.shift());\n                _self.session.$scrollTop = toValue;\n            }\n            else if (toValue != null) {\n                _self.session.$scrollTop = -1;\n                _self.session.setScrollTop(toValue);\n                toValue = null;\n            }\n            else {\n                _self.$timer = clearInterval(_self.$timer);\n                _self.$scrollAnimation = null;\n                callback && callback();\n            }\n        }, 10);\n    };\n    this.scrollToY = function (scrollTop) {\n        if (this.scrollTop !== scrollTop) {\n            this.$loop.schedule(this.CHANGE_SCROLL);\n            this.scrollTop = scrollTop;\n        }\n    };\n    this.scrollToX = function (scrollLeft) {\n        if (this.scrollLeft !== scrollLeft)\n            this.scrollLeft = scrollLeft;\n        this.$loop.schedule(this.CHANGE_H_SCROLL);\n    };\n    this.scrollTo = function (x, y) {\n        this.session.setScrollTop(y);\n        this.session.setScrollLeft(x);\n    };\n    this.scrollBy = function (deltaX, deltaY) {\n        deltaY && this.session.setScrollTop(this.session.getScrollTop() + deltaY);\n        deltaX && this.session.setScrollLeft(this.session.getScrollLeft() + deltaX);\n    };\n    this.isScrollableBy = function (deltaX, deltaY) {\n        if (deltaY < 0 && this.session.getScrollTop() >= 1 - this.scrollMargin.top)\n            return true;\n        if (deltaY > 0 && this.session.getScrollTop() + this.$size.scrollerHeight\n            - this.layerConfig.maxHeight < -1 + this.scrollMargin.bottom)\n            return true;\n        if (deltaX < 0 && this.session.getScrollLeft() >= 1 - this.scrollMargin.left)\n            return true;\n        if (deltaX > 0 && this.session.getScrollLeft() + this.$size.scrollerWidth\n            - this.layerConfig.width < -1 + this.scrollMargin.right)\n            return true;\n    };\n    this.pixelToScreenCoordinates = function (x, y) {\n        var canvasPos;\n        if (this.$hasCssTransforms) {\n            canvasPos = { top: 0, left: 0 };\n            var p = this.$fontMetrics.transformCoordinates([x, y]);\n            x = p[1] - this.gutterWidth - this.margin.left;\n            y = p[0];\n        }\n        else {\n            canvasPos = this.scroller.getBoundingClientRect();\n        }\n        var offsetX = x + this.scrollLeft - canvasPos.left - this.$padding;\n        var offset = offsetX / this.characterWidth;\n        var row = Math.floor((y + this.scrollTop - canvasPos.top) / this.lineHeight);\n        var col = this.$blockCursor ? Math.floor(offset) : Math.round(offset);\n        return { row: row, column: col, side: offset - col > 0 ? 1 : -1, offsetX: offsetX };\n    };\n    this.screenToTextCoordinates = function (x, y) {\n        var canvasPos;\n        if (this.$hasCssTransforms) {\n            canvasPos = { top: 0, left: 0 };\n            var p = this.$fontMetrics.transformCoordinates([x, y]);\n            x = p[1] - this.gutterWidth - this.margin.left;\n            y = p[0];\n        }\n        else {\n            canvasPos = this.scroller.getBoundingClientRect();\n        }\n        var offsetX = x + this.scrollLeft - canvasPos.left - this.$padding;\n        var offset = offsetX / this.characterWidth;\n        var col = this.$blockCursor ? Math.floor(offset) : Math.round(offset);\n        var row = Math.floor((y + this.scrollTop - canvasPos.top) / this.lineHeight);\n        return this.session.screenToDocumentPosition(row, Math.max(col, 0), offsetX);\n    };\n    this.textToScreenCoordinates = function (row, column) {\n        var canvasPos = this.scroller.getBoundingClientRect();\n        var pos = this.session.documentToScreenPosition(row, column);\n        var x = this.$padding + (this.session.$bidiHandler.isBidiRow(pos.row, row)\n            ? this.session.$bidiHandler.getPosLeft(pos.column)\n            : Math.round(pos.column * this.characterWidth));\n        var y = pos.row * this.lineHeight;\n        return {\n            pageX: canvasPos.left + x - this.scrollLeft,\n            pageY: canvasPos.top + y - this.scrollTop\n        };\n    };\n    this.visualizeFocus = function () {\n        dom.addCssClass(this.container, \"ace_focus\");\n    };\n    this.visualizeBlur = function () {\n        dom.removeCssClass(this.container, \"ace_focus\");\n    };\n    this.showComposition = function (composition) {\n        this.$composition = composition;\n        if (!composition.cssText) {\n            composition.cssText = this.textarea.style.cssText;\n        }\n        if (composition.useTextareaForIME == undefined)\n            composition.useTextareaForIME = this.$useTextareaForIME;\n        if (this.$useTextareaForIME) {\n            dom.addCssClass(this.textarea, \"ace_composition\");\n            this.textarea.style.cssText = \"\";\n            this.$moveTextAreaToCursor();\n            this.$cursorLayer.element.style.display = \"none\";\n        }\n        else {\n            composition.markerId = this.session.addMarker(composition.markerRange, \"ace_composition_marker\", \"text\");\n        }\n    };\n    this.setCompositionText = function (text) {\n        var cursor = this.session.selection.cursor;\n        this.addToken(text, \"composition_placeholder\", cursor.row, cursor.column);\n        this.$moveTextAreaToCursor();\n    };\n    this.hideComposition = function () {\n        if (!this.$composition)\n            return;\n        if (this.$composition.markerId)\n            this.session.removeMarker(this.$composition.markerId);\n        dom.removeCssClass(this.textarea, \"ace_composition\");\n        this.textarea.style.cssText = this.$composition.cssText;\n        var cursor = this.session.selection.cursor;\n        this.removeExtraToken(cursor.row, cursor.column);\n        this.$composition = null;\n        this.$cursorLayer.element.style.display = \"\";\n    };\n    this.addToken = function (text, type, row, column) {\n        var session = this.session;\n        session.bgTokenizer.lines[row] = null;\n        var newToken = { type: type, value: text };\n        var tokens = session.getTokens(row);\n        if (column == null) {\n            tokens.push(newToken);\n        }\n        else {\n            var l = 0;\n            for (var i = 0; i < tokens.length; i++) {\n                var token = tokens[i];\n                l += token.value.length;\n                if (column <= l) {\n                    var diff = token.value.length - (l - column);\n                    var before = token.value.slice(0, diff);\n                    var after = token.value.slice(diff);\n                    tokens.splice(i, 1, { type: token.type, value: before }, newToken, { type: token.type, value: after });\n                    break;\n                }\n            }\n        }\n        this.updateLines(row, row);\n    };\n    this.removeExtraToken = function (row, column) {\n        this.updateLines(row, row);\n    };\n    this.setTheme = function (theme, cb) {\n        var _self = this;\n        this.$themeId = theme;\n        _self._dispatchEvent('themeChange', { theme: theme });\n        if (!theme || typeof theme == \"string\") {\n            var moduleName = theme || this.$options.theme.initialValue;\n            config.loadModule([\"theme\", moduleName], afterLoad);\n        }\n        else {\n            afterLoad(theme);\n        }\n        function afterLoad(module) {\n            if (_self.$themeId != theme)\n                return cb && cb();\n            if (!module || !module.cssClass)\n                throw new Error(\"couldn't load module \" + theme + \" or it didn't call define\");\n            if (module.$id)\n                _self.$themeId = module.$id;\n            dom.importCssString(module.cssText, module.cssClass, _self.container);\n            if (_self.theme)\n                dom.removeCssClass(_self.container, _self.theme.cssClass);\n            var padding = \"padding\" in module ? module.padding\n                : \"padding\" in (_self.theme || {}) ? 4 : _self.$padding;\n            if (_self.$padding && padding != _self.$padding)\n                _self.setPadding(padding);\n            _self.$theme = module.cssClass;\n            _self.theme = module;\n            dom.addCssClass(_self.container, module.cssClass);\n            dom.setCssClass(_self.container, \"ace_dark\", module.isDark);\n            if (_self.$size) {\n                _self.$size.width = 0;\n                _self.$updateSizeAsync();\n            }\n            _self._dispatchEvent('themeLoaded', { theme: module });\n            cb && cb();\n        }\n    };\n    this.getTheme = function () {\n        return this.$themeId;\n    };\n    this.setStyle = function (style, include) {\n        dom.setCssClass(this.container, style, include !== false);\n    };\n    this.unsetStyle = function (style) {\n        dom.removeCssClass(this.container, style);\n    };\n    this.setCursorStyle = function (style) {\n        dom.setStyle(this.scroller.style, \"cursor\", style);\n    };\n    this.setMouseCursor = function (cursorStyle) {\n        dom.setStyle(this.scroller.style, \"cursor\", cursorStyle);\n    };\n    this.attachToShadowRoot = function () {\n        dom.importCssString(editorCss, \"ace_editor.css\", this.container);\n    };\n    this.destroy = function () {\n        this.freeze();\n        this.$fontMetrics.destroy();\n        this.$cursorLayer.destroy();\n        this.removeAllListeners();\n        this.container.textContent = \"\";\n    };\n}).call(VirtualRenderer.prototype);\nconfig.defineOptions(VirtualRenderer.prototype, \"renderer\", {\n    animatedScroll: { initialValue: false },\n    showInvisibles: {\n        set: function (value) {\n            if (this.$textLayer.setShowInvisibles(value))\n                this.$loop.schedule(this.CHANGE_TEXT);\n        },\n        initialValue: false\n    },\n    showPrintMargin: {\n        set: function () { this.$updatePrintMargin(); },\n        initialValue: true\n    },\n    printMarginColumn: {\n        set: function () { this.$updatePrintMargin(); },\n        initialValue: 80\n    },\n    printMargin: {\n        set: function (val) {\n            if (typeof val == \"number\")\n                this.$printMarginColumn = val;\n            this.$showPrintMargin = !!val;\n            this.$updatePrintMargin();\n        },\n        get: function () {\n            return this.$showPrintMargin && this.$printMarginColumn;\n        }\n    },\n    showGutter: {\n        set: function (show) {\n            this.$gutter.style.display = show ? \"block\" : \"none\";\n            this.$loop.schedule(this.CHANGE_FULL);\n            this.onGutterResize();\n        },\n        initialValue: true\n    },\n    fadeFoldWidgets: {\n        set: function (show) {\n            dom.setCssClass(this.$gutter, \"ace_fade-fold-widgets\", show);\n        },\n        initialValue: false\n    },\n    showFoldWidgets: {\n        set: function (show) {\n            this.$gutterLayer.setShowFoldWidgets(show);\n            this.$loop.schedule(this.CHANGE_GUTTER);\n        },\n        initialValue: true\n    },\n    displayIndentGuides: {\n        set: function (show) {\n            if (this.$textLayer.setDisplayIndentGuides(show))\n                this.$loop.schedule(this.CHANGE_TEXT);\n        },\n        initialValue: true\n    },\n    highlightIndentGuides: {\n        set: function (show) {\n            if (this.$textLayer.setHighlightIndentGuides(show) == true) {\n                this.$textLayer.$highlightIndentGuide();\n            }\n            else {\n                this.$textLayer.$clearActiveIndentGuide(this.$textLayer.$lines.cells);\n            }\n        },\n        initialValue: true\n    },\n    highlightGutterLine: {\n        set: function (shouldHighlight) {\n            this.$gutterLayer.setHighlightGutterLine(shouldHighlight);\n            this.$loop.schedule(this.CHANGE_GUTTER);\n        },\n        initialValue: true\n    },\n    hScrollBarAlwaysVisible: {\n        set: function (val) {\n            if (!this.$hScrollBarAlwaysVisible || !this.$horizScroll)\n                this.$loop.schedule(this.CHANGE_SCROLL);\n        },\n        initialValue: false\n    },\n    vScrollBarAlwaysVisible: {\n        set: function (val) {\n            if (!this.$vScrollBarAlwaysVisible || !this.$vScroll)\n                this.$loop.schedule(this.CHANGE_SCROLL);\n        },\n        initialValue: false\n    },\n    fontSize: {\n        set: function (size) {\n            if (typeof size == \"number\")\n                size = size + \"px\";\n            this.container.style.fontSize = size;\n            this.updateFontSize();\n        },\n        initialValue: 12\n    },\n    fontFamily: {\n        set: function (name) {\n            this.container.style.fontFamily = name;\n            this.updateFontSize();\n        }\n    },\n    maxLines: {\n        set: function (val) {\n            this.updateFull();\n        }\n    },\n    minLines: {\n        set: function (val) {\n            if (!(this.$minLines < 0x1ffffffffffff))\n                this.$minLines = 0;\n            this.updateFull();\n        }\n    },\n    maxPixelHeight: {\n        set: function (val) {\n            this.updateFull();\n        },\n        initialValue: 0\n    },\n    scrollPastEnd: {\n        set: function (val) {\n            val = +val || 0;\n            if (this.$scrollPastEnd == val)\n                return;\n            this.$scrollPastEnd = val;\n            this.$loop.schedule(this.CHANGE_SCROLL);\n        },\n        initialValue: 0,\n        handlesSet: true\n    },\n    fixedWidthGutter: {\n        set: function (val) {\n            this.$gutterLayer.$fixedWidth = !!val;\n            this.$loop.schedule(this.CHANGE_GUTTER);\n        }\n    },\n    theme: {\n        set: function (val) { this.setTheme(val); },\n        get: function () { return this.$themeId || this.theme; },\n        initialValue: \"./theme/textmate\",\n        handlesSet: true\n    },\n    hasCssTransforms: {},\n    useTextareaForIME: {\n        initialValue: !useragent.isMobile && !useragent.isIE\n    }\n});\nexports.VirtualRenderer = VirtualRenderer;\n\n});\n\nace.define(\"ace/worker/worker_client\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/net\",\"ace/lib/event_emitter\",\"ace/config\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"../lib/oop\");\nvar net = require(\"../lib/net\");\nvar EventEmitter = require(\"../lib/event_emitter\").EventEmitter;\nvar config = require(\"../config\");\n\nfunction $workerBlob(workerUrl) {\n    var script = \"importScripts('\" + net.qualifyURL(workerUrl) + \"');\";\n    try {\n        return new Blob([script], {\"type\": \"application/javascript\"});\n    } catch (e) { // Backwards-compatibility\n        var BlobBuilder = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder;\n        var blobBuilder = new BlobBuilder();\n        blobBuilder.append(script);\n        return blobBuilder.getBlob(\"application/javascript\");\n    }\n}\n\nfunction createWorker(workerUrl) {\n    if (typeof Worker == \"undefined\")\n        return { postMessage: function() {}, terminate: function() {} };\n    if (config.get(\"loadWorkerFromBlob\")) {\n        var blob = $workerBlob(workerUrl);\n        var URL = window.URL || window.webkitURL;\n        var blobURL = URL.createObjectURL(blob);\n        return new Worker(blobURL);\n    }\n    return new Worker(workerUrl);\n}\n\nvar WorkerClient = function(worker) {\n    if (!worker.postMessage)\n        worker = this.$createWorkerFromOldConfig.apply(this, arguments);\n\n    this.$worker = worker;\n    this.$sendDeltaQueue = this.$sendDeltaQueue.bind(this);\n    this.changeListener = this.changeListener.bind(this);\n    this.onMessage = this.onMessage.bind(this);\n\n    this.callbackId = 1;\n    this.callbacks = {};\n\n    this.$worker.onmessage = this.onMessage;\n};\n\n(function(){\n\n    oop.implement(this, EventEmitter);\n\n    this.$createWorkerFromOldConfig = function(topLevelNamespaces, mod, classname, workerUrl, importScripts) {\n        if (require.nameToUrl && !require.toUrl)\n            require.toUrl = require.nameToUrl;\n\n        if (config.get(\"packaged\") || !require.toUrl) {\n            workerUrl = workerUrl || config.moduleUrl(mod, \"worker\");\n        } else {\n            var normalizePath = this.$normalizePath;\n            workerUrl = workerUrl || normalizePath(require.toUrl(\"ace/worker/worker.js\", null, \"_\"));\n\n            var tlns = {};\n            topLevelNamespaces.forEach(function(ns) {\n                tlns[ns] = normalizePath(require.toUrl(ns, null, \"_\").replace(/(\\.js)?(\\?.*)?$/, \"\"));\n            });\n        }\n\n        this.$worker = createWorker(workerUrl);\n        if (importScripts) {\n            this.send(\"importScripts\", importScripts);\n        }\n        this.$worker.postMessage({\n            init : true,\n            tlns : tlns,\n            module : mod,\n            classname : classname\n        });\n        return this.$worker;\n    };\n\n    this.onMessage = function(e) {\n        var msg = e.data;\n        switch (msg.type) {\n            case \"event\":\n                this._signal(msg.name, {data: msg.data});\n                break;\n            case \"call\":\n                var callback = this.callbacks[msg.id];\n                if (callback) {\n                    callback(msg.data);\n                    delete this.callbacks[msg.id];\n                }\n                break;\n            case \"error\":\n                this.reportError(msg.data);\n                break;\n            case \"log\":\n                window.console && console.log && console.log.apply(console, msg.data);\n                break;\n        }\n    };\n    \n    this.reportError = function(err) {\n        window.console && console.error && console.error(err);\n    };\n\n    this.$normalizePath = function(path) {\n        return net.qualifyURL(path);\n    };\n\n    this.terminate = function() {\n        this._signal(\"terminate\", {});\n        this.deltaQueue = null;\n        this.$worker.terminate();\n        this.$worker = null;\n        if (this.$doc)\n            this.$doc.off(\"change\", this.changeListener);\n        this.$doc = null;\n    };\n\n    this.send = function(cmd, args) {\n        this.$worker.postMessage({command: cmd, args: args});\n    };\n\n    this.call = function(cmd, args, callback) {\n        if (callback) {\n            var id = this.callbackId++;\n            this.callbacks[id] = callback;\n            args.push(id);\n        }\n        this.send(cmd, args);\n    };\n\n    this.emit = function(event, data) {\n        try {\n            if (data.data && data.data.err)\n                data.data.err = {message: data.data.err.message, stack: data.data.err.stack, code: data.data.err.code};\n                this.$worker && this.$worker.postMessage({event: event, data: {data: data.data}});\n        }\n        catch(ex) {\n            console.error(ex.stack);\n        }\n    };\n\n    this.attachToDocument = function(doc) {\n        if (this.$doc)\n            this.terminate();\n\n        this.$doc = doc;\n        this.call(\"setValue\", [doc.getValue()]);\n        doc.on(\"change\", this.changeListener, true);\n    };\n\n    this.changeListener = function(delta) {\n        if (!this.deltaQueue) {\n            this.deltaQueue = [];\n            setTimeout(this.$sendDeltaQueue, 0);\n        }\n        if (delta.action == \"insert\")\n            this.deltaQueue.push(delta.start, delta.lines);\n        else\n            this.deltaQueue.push(delta.start, delta.end);\n    };\n\n    this.$sendDeltaQueue = function() {\n        var q = this.deltaQueue;\n        if (!q) return;\n        this.deltaQueue = null;\n        if (q.length > 50 && q.length > this.$doc.getLength() >> 1) {\n            this.call(\"setValue\", [this.$doc.getValue()]);\n        } else\n            this.emit(\"change\", {data: q});\n    };\n\n}).call(WorkerClient.prototype);\n\n\nvar UIWorkerClient = function(topLevelNamespaces, mod, classname) {\n    var main = null;\n    var emitSync = false;\n    var sender = Object.create(EventEmitter);\n\n    var messageBuffer = [];\n    var workerClient = new WorkerClient({\n        messageBuffer: messageBuffer,\n        terminate: function() {},\n        postMessage: function(e) {\n            messageBuffer.push(e);\n            if (!main) return;\n            if (emitSync)\n                setTimeout(processNext);\n            else\n                processNext();\n        }\n    });\n\n    workerClient.setEmitSync = function(val) { emitSync = val; };\n\n    var processNext = function() {\n        var msg = messageBuffer.shift();\n        if (msg.command)\n            main[msg.command].apply(main, msg.args);\n        else if (msg.event)\n            sender._signal(msg.event, msg.data);\n    };\n\n    sender.postMessage = function(msg) {\n        workerClient.onMessage({data: msg});\n    };\n    sender.callback = function(data, callbackId) {\n        this.postMessage({type: \"call\", id: callbackId, data: data});\n    };\n    sender.emit = function(name, data) {\n        this.postMessage({type: \"event\", name: name, data: data});\n    };\n\n    config.loadModule([\"worker\", mod], function(Main) {\n        main = new Main[classname](sender);\n        while (messageBuffer.length)\n            processNext();\n    });\n\n    return workerClient;\n};\n\nexports.UIWorkerClient = UIWorkerClient;\nexports.WorkerClient = WorkerClient;\nexports.createWorker = createWorker;\n\n\n});\n\nace.define(\"ace/placeholder\",[\"require\",\"exports\",\"module\",\"ace/range\",\"ace/lib/event_emitter\",\"ace/lib/oop\"], function(require, exports, module){\"use strict\";\nvar Range = require(\"./range\").Range;\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar oop = require(\"./lib/oop\");\nvar PlaceHolder = function (session, length, pos, others, mainClass, othersClass) {\n    var _self = this;\n    this.length = length;\n    this.session = session;\n    this.doc = session.getDocument();\n    this.mainClass = mainClass;\n    this.othersClass = othersClass;\n    this.$onUpdate = this.onUpdate.bind(this);\n    this.doc.on(\"change\", this.$onUpdate, true);\n    this.$others = others;\n    this.$onCursorChange = function () {\n        setTimeout(function () {\n            _self.onCursorChange();\n        });\n    };\n    this.$pos = pos;\n    var undoStack = session.getUndoManager().$undoStack || session.getUndoManager().$undostack || { length: -1 };\n    this.$undoStackDepth = undoStack.length;\n    this.setup();\n    session.selection.on(\"changeCursor\", this.$onCursorChange);\n};\n(function () {\n    oop.implement(this, EventEmitter);\n    this.setup = function () {\n        var _self = this;\n        var doc = this.doc;\n        var session = this.session;\n        this.selectionBefore = session.selection.toJSON();\n        if (session.selection.inMultiSelectMode)\n            session.selection.toSingleRange();\n        this.pos = doc.createAnchor(this.$pos.row, this.$pos.column);\n        var pos = this.pos;\n        pos.$insertRight = true;\n        pos.detach();\n        pos.markerId = session.addMarker(new Range(pos.row, pos.column, pos.row, pos.column + this.length), this.mainClass, null, false);\n        this.others = [];\n        this.$others.forEach(function (other) {\n            var anchor = doc.createAnchor(other.row, other.column);\n            anchor.$insertRight = true;\n            anchor.detach();\n            _self.others.push(anchor);\n        });\n        session.setUndoSelect(false);\n    };\n    this.showOtherMarkers = function () {\n        if (this.othersActive)\n            return;\n        var session = this.session;\n        var _self = this;\n        this.othersActive = true;\n        this.others.forEach(function (anchor) {\n            anchor.markerId = session.addMarker(new Range(anchor.row, anchor.column, anchor.row, anchor.column + _self.length), _self.othersClass, null, false);\n        });\n    };\n    this.hideOtherMarkers = function () {\n        if (!this.othersActive)\n            return;\n        this.othersActive = false;\n        for (var i = 0; i < this.others.length; i++) {\n            this.session.removeMarker(this.others[i].markerId);\n        }\n    };\n    this.onUpdate = function (delta) {\n        if (this.$updating)\n            return this.updateAnchors(delta);\n        var range = delta;\n        if (range.start.row !== range.end.row)\n            return;\n        if (range.start.row !== this.pos.row)\n            return;\n        this.$updating = true;\n        var lengthDiff = delta.action === \"insert\" ? range.end.column - range.start.column : range.start.column - range.end.column;\n        var inMainRange = range.start.column >= this.pos.column && range.start.column <= this.pos.column + this.length + 1;\n        var distanceFromStart = range.start.column - this.pos.column;\n        this.updateAnchors(delta);\n        if (inMainRange)\n            this.length += lengthDiff;\n        if (inMainRange && !this.session.$fromUndo) {\n            if (delta.action === 'insert') {\n                for (var i = this.others.length - 1; i >= 0; i--) {\n                    var otherPos = this.others[i];\n                    var newPos = { row: otherPos.row, column: otherPos.column + distanceFromStart };\n                    this.doc.insertMergedLines(newPos, delta.lines);\n                }\n            }\n            else if (delta.action === 'remove') {\n                for (var i = this.others.length - 1; i >= 0; i--) {\n                    var otherPos = this.others[i];\n                    var newPos = { row: otherPos.row, column: otherPos.column + distanceFromStart };\n                    this.doc.remove(new Range(newPos.row, newPos.column, newPos.row, newPos.column - lengthDiff));\n                }\n            }\n        }\n        this.$updating = false;\n        this.updateMarkers();\n    };\n    this.updateAnchors = function (delta) {\n        this.pos.onChange(delta);\n        for (var i = this.others.length; i--;)\n            this.others[i].onChange(delta);\n        this.updateMarkers();\n    };\n    this.updateMarkers = function () {\n        if (this.$updating)\n            return;\n        var _self = this;\n        var session = this.session;\n        var updateMarker = function (pos, className) {\n            session.removeMarker(pos.markerId);\n            pos.markerId = session.addMarker(new Range(pos.row, pos.column, pos.row, pos.column + _self.length), className, null, false);\n        };\n        updateMarker(this.pos, this.mainClass);\n        for (var i = this.others.length; i--;)\n            updateMarker(this.others[i], this.othersClass);\n    };\n    this.onCursorChange = function (event) {\n        if (this.$updating || !this.session)\n            return;\n        var pos = this.session.selection.getCursor();\n        if (pos.row === this.pos.row && pos.column >= this.pos.column && pos.column <= this.pos.column + this.length) {\n            this.showOtherMarkers();\n            this._emit(\"cursorEnter\", event);\n        }\n        else {\n            this.hideOtherMarkers();\n            this._emit(\"cursorLeave\", event);\n        }\n    };\n    this.detach = function () {\n        this.session.removeMarker(this.pos && this.pos.markerId);\n        this.hideOtherMarkers();\n        this.doc.off(\"change\", this.$onUpdate);\n        this.session.selection.off(\"changeCursor\", this.$onCursorChange);\n        this.session.setUndoSelect(true);\n        this.session = null;\n    };\n    this.cancel = function () {\n        if (this.$undoStackDepth === -1)\n            return;\n        var undoManager = this.session.getUndoManager();\n        var undosRequired = (undoManager.$undoStack || undoManager.$undostack).length - this.$undoStackDepth;\n        for (var i = 0; i < undosRequired; i++) {\n            undoManager.undo(this.session, true);\n        }\n        if (this.selectionBefore)\n            this.session.selection.fromJSON(this.selectionBefore);\n    };\n}).call(PlaceHolder.prototype);\nexports.PlaceHolder = PlaceHolder;\n\n});\n\nace.define(\"ace/mouse/multi_select_handler\",[\"require\",\"exports\",\"module\",\"ace/lib/event\",\"ace/lib/useragent\"], function(require, exports, module){var event = require(\"../lib/event\");\nvar useragent = require(\"../lib/useragent\");\nfunction isSamePoint(p1, p2) {\n    return p1.row == p2.row && p1.column == p2.column;\n}\nfunction onMouseDown(e) {\n    var ev = e.domEvent;\n    var alt = ev.altKey;\n    var shift = ev.shiftKey;\n    var ctrl = ev.ctrlKey;\n    var accel = e.getAccelKey();\n    var button = e.getButton();\n    if (ctrl && useragent.isMac)\n        button = ev.button;\n    if (e.editor.inMultiSelectMode && button == 2) {\n        e.editor.textInput.onContextMenu(e.domEvent);\n        return;\n    }\n    if (!ctrl && !alt && !accel) {\n        if (button === 0 && e.editor.inMultiSelectMode)\n            e.editor.exitMultiSelectMode();\n        return;\n    }\n    if (button !== 0)\n        return;\n    var editor = e.editor;\n    var selection = editor.selection;\n    var isMultiSelect = editor.inMultiSelectMode;\n    var pos = e.getDocumentPosition();\n    var cursor = selection.getCursor();\n    var inSelection = e.inSelection() || (selection.isEmpty() && isSamePoint(pos, cursor));\n    var mouseX = e.x, mouseY = e.y;\n    var onMouseSelection = function (e) {\n        mouseX = e.clientX;\n        mouseY = e.clientY;\n    };\n    var session = editor.session;\n    var screenAnchor = editor.renderer.pixelToScreenCoordinates(mouseX, mouseY);\n    var screenCursor = screenAnchor;\n    var selectionMode;\n    if (editor.$mouseHandler.$enableJumpToDef) {\n        if (ctrl && alt || accel && alt)\n            selectionMode = shift ? \"block\" : \"add\";\n        else if (alt && editor.$blockSelectEnabled)\n            selectionMode = \"block\";\n    }\n    else {\n        if (accel && !alt) {\n            selectionMode = \"add\";\n            if (!isMultiSelect && shift)\n                return;\n        }\n        else if (alt && editor.$blockSelectEnabled) {\n            selectionMode = \"block\";\n        }\n    }\n    if (selectionMode && useragent.isMac && ev.ctrlKey) {\n        editor.$mouseHandler.cancelContextMenu();\n    }\n    if (selectionMode == \"add\") {\n        if (!isMultiSelect && inSelection)\n            return; // dragging\n        if (!isMultiSelect) {\n            var range = selection.toOrientedRange();\n            editor.addSelectionMarker(range);\n        }\n        var oldRange = selection.rangeList.rangeAtPoint(pos);\n        editor.inVirtualSelectionMode = true;\n        if (shift) {\n            oldRange = null;\n            range = selection.ranges[0] || range;\n            editor.removeSelectionMarker(range);\n        }\n        editor.once(\"mouseup\", function () {\n            var tmpSel = selection.toOrientedRange();\n            if (oldRange && tmpSel.isEmpty() && isSamePoint(oldRange.cursor, tmpSel.cursor))\n                selection.substractPoint(tmpSel.cursor);\n            else {\n                if (shift) {\n                    selection.substractPoint(range.cursor);\n                }\n                else if (range) {\n                    editor.removeSelectionMarker(range);\n                    selection.addRange(range);\n                }\n                selection.addRange(tmpSel);\n            }\n            editor.inVirtualSelectionMode = false;\n        });\n    }\n    else if (selectionMode == \"block\") {\n        e.stop();\n        editor.inVirtualSelectionMode = true;\n        var initialRange;\n        var rectSel = [];\n        var blockSelect = function () {\n            var newCursor = editor.renderer.pixelToScreenCoordinates(mouseX, mouseY);\n            var cursor = session.screenToDocumentPosition(newCursor.row, newCursor.column, newCursor.offsetX);\n            if (isSamePoint(screenCursor, newCursor) && isSamePoint(cursor, selection.lead))\n                return;\n            screenCursor = newCursor;\n            editor.selection.moveToPosition(cursor);\n            editor.renderer.scrollCursorIntoView();\n            editor.removeSelectionMarkers(rectSel);\n            rectSel = selection.rectangularRangeBlock(screenCursor, screenAnchor);\n            if (editor.$mouseHandler.$clickSelection && rectSel.length == 1 && rectSel[0].isEmpty())\n                rectSel[0] = editor.$mouseHandler.$clickSelection.clone();\n            rectSel.forEach(editor.addSelectionMarker, editor);\n            editor.updateSelectionMarkers();\n        };\n        if (isMultiSelect && !accel) {\n            selection.toSingleRange();\n        }\n        else if (!isMultiSelect && accel) {\n            initialRange = selection.toOrientedRange();\n            editor.addSelectionMarker(initialRange);\n        }\n        if (shift)\n            screenAnchor = session.documentToScreenPosition(selection.lead);\n        else\n            selection.moveToPosition(pos);\n        screenCursor = { row: -1, column: -1 };\n        var onMouseSelectionEnd = function (e) {\n            blockSelect();\n            clearInterval(timerId);\n            editor.removeSelectionMarkers(rectSel);\n            if (!rectSel.length)\n                rectSel = [selection.toOrientedRange()];\n            if (initialRange) {\n                editor.removeSelectionMarker(initialRange);\n                selection.toSingleRange(initialRange);\n            }\n            for (var i = 0; i < rectSel.length; i++)\n                selection.addRange(rectSel[i]);\n            editor.inVirtualSelectionMode = false;\n            editor.$mouseHandler.$clickSelection = null;\n        };\n        var onSelectionInterval = blockSelect;\n        event.capture(editor.container, onMouseSelection, onMouseSelectionEnd);\n        var timerId = setInterval(function () { onSelectionInterval(); }, 20);\n        return e.preventDefault();\n    }\n}\nexports.onMouseDown = onMouseDown;\n\n});\n\nace.define(\"ace/commands/multi_select_commands\",[\"require\",\"exports\",\"module\",\"ace/keyboard/hash_handler\"], function(require, exports, module){// commands to enter multiselect mode\nexports.defaultCommands = [{\n        name: \"addCursorAbove\",\n        description: \"Add cursor above\",\n        exec: function (editor) { editor.selectMoreLines(-1); },\n        bindKey: { win: \"Ctrl-Alt-Up\", mac: \"Ctrl-Alt-Up\" },\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"addCursorBelow\",\n        description: \"Add cursor below\",\n        exec: function (editor) { editor.selectMoreLines(1); },\n        bindKey: { win: \"Ctrl-Alt-Down\", mac: \"Ctrl-Alt-Down\" },\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"addCursorAboveSkipCurrent\",\n        description: \"Add cursor above (skip current)\",\n        exec: function (editor) { editor.selectMoreLines(-1, true); },\n        bindKey: { win: \"Ctrl-Alt-Shift-Up\", mac: \"Ctrl-Alt-Shift-Up\" },\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"addCursorBelowSkipCurrent\",\n        description: \"Add cursor below (skip current)\",\n        exec: function (editor) { editor.selectMoreLines(1, true); },\n        bindKey: { win: \"Ctrl-Alt-Shift-Down\", mac: \"Ctrl-Alt-Shift-Down\" },\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"selectMoreBefore\",\n        description: \"Select more before\",\n        exec: function (editor) { editor.selectMore(-1); },\n        bindKey: { win: \"Ctrl-Alt-Left\", mac: \"Ctrl-Alt-Left\" },\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"selectMoreAfter\",\n        description: \"Select more after\",\n        exec: function (editor) { editor.selectMore(1); },\n        bindKey: { win: \"Ctrl-Alt-Right\", mac: \"Ctrl-Alt-Right\" },\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"selectNextBefore\",\n        description: \"Select next before\",\n        exec: function (editor) { editor.selectMore(-1, true); },\n        bindKey: { win: \"Ctrl-Alt-Shift-Left\", mac: \"Ctrl-Alt-Shift-Left\" },\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"selectNextAfter\",\n        description: \"Select next after\",\n        exec: function (editor) { editor.selectMore(1, true); },\n        bindKey: { win: \"Ctrl-Alt-Shift-Right\", mac: \"Ctrl-Alt-Shift-Right\" },\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"toggleSplitSelectionIntoLines\",\n        description: \"Split into lines\",\n        exec: function (editor) {\n            if (editor.multiSelect.rangeCount > 1)\n                editor.multiSelect.joinSelections();\n            else\n                editor.multiSelect.splitIntoLines();\n        },\n        bindKey: { win: \"Ctrl-Alt-L\", mac: \"Ctrl-Alt-L\" },\n        readOnly: true\n    }, {\n        name: \"splitSelectionIntoLines\",\n        description: \"Split into lines\",\n        exec: function (editor) { editor.multiSelect.splitIntoLines(); },\n        readOnly: true\n    }, {\n        name: \"alignCursors\",\n        description: \"Align cursors\",\n        exec: function (editor) { editor.alignCursors(); },\n        bindKey: { win: \"Ctrl-Alt-A\", mac: \"Ctrl-Alt-A\" },\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"findAll\",\n        description: \"Find all\",\n        exec: function (editor) { editor.findAll(); },\n        bindKey: { win: \"Ctrl-Alt-K\", mac: \"Ctrl-Alt-G\" },\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }];\nexports.multiSelectCommands = [{\n        name: \"singleSelection\",\n        description: \"Single selection\",\n        bindKey: \"esc\",\n        exec: function (editor) { editor.exitMultiSelectMode(); },\n        scrollIntoView: \"cursor\",\n        readOnly: true,\n        isAvailable: function (editor) { return editor && editor.inMultiSelectMode; }\n    }];\nvar HashHandler = require(\"../keyboard/hash_handler\").HashHandler;\nexports.keyboardHandler = new HashHandler(exports.multiSelectCommands);\n\n});\n\nace.define(\"ace/multi_select\",[\"require\",\"exports\",\"module\",\"ace/range_list\",\"ace/range\",\"ace/selection\",\"ace/mouse/multi_select_handler\",\"ace/lib/event\",\"ace/lib/lang\",\"ace/commands/multi_select_commands\",\"ace/search\",\"ace/edit_session\",\"ace/editor\",\"ace/config\"], function(require, exports, module){var RangeList = require(\"./range_list\").RangeList;\nvar Range = require(\"./range\").Range;\nvar Selection = require(\"./selection\").Selection;\nvar onMouseDown = require(\"./mouse/multi_select_handler\").onMouseDown;\nvar event = require(\"./lib/event\");\nvar lang = require(\"./lib/lang\");\nvar commands = require(\"./commands/multi_select_commands\");\nexports.commands = commands.defaultCommands.concat(commands.multiSelectCommands);\nvar Search = require(\"./search\").Search;\nvar search = new Search();\nfunction find(session, needle, dir) {\n    search.$options.wrap = true;\n    search.$options.needle = needle;\n    search.$options.backwards = dir == -1;\n    return search.find(session);\n}\nvar EditSession = require(\"./edit_session\").EditSession;\n(function () {\n    this.getSelectionMarkers = function () {\n        return this.$selectionMarkers;\n    };\n}).call(EditSession.prototype);\n(function () {\n    this.ranges = null;\n    this.rangeList = null;\n    this.addRange = function (range, $blockChangeEvents) {\n        if (!range)\n            return;\n        if (!this.inMultiSelectMode && this.rangeCount === 0) {\n            var oldRange = this.toOrientedRange();\n            this.rangeList.add(oldRange);\n            this.rangeList.add(range);\n            if (this.rangeList.ranges.length != 2) {\n                this.rangeList.removeAll();\n                return $blockChangeEvents || this.fromOrientedRange(range);\n            }\n            this.rangeList.removeAll();\n            this.rangeList.add(oldRange);\n            this.$onAddRange(oldRange);\n        }\n        if (!range.cursor)\n            range.cursor = range.end;\n        var removed = this.rangeList.add(range);\n        this.$onAddRange(range);\n        if (removed.length)\n            this.$onRemoveRange(removed);\n        if (this.rangeCount > 1 && !this.inMultiSelectMode) {\n            this._signal(\"multiSelect\");\n            this.inMultiSelectMode = true;\n            this.session.$undoSelect = false;\n            this.rangeList.attach(this.session);\n        }\n        return $blockChangeEvents || this.fromOrientedRange(range);\n    };\n    this.toSingleRange = function (range) {\n        range = range || this.ranges[0];\n        var removed = this.rangeList.removeAll();\n        if (removed.length)\n            this.$onRemoveRange(removed);\n        range && this.fromOrientedRange(range);\n    };\n    this.substractPoint = function (pos) {\n        var removed = this.rangeList.substractPoint(pos);\n        if (removed) {\n            this.$onRemoveRange(removed);\n            return removed[0];\n        }\n    };\n    this.mergeOverlappingRanges = function () {\n        var removed = this.rangeList.merge();\n        if (removed.length)\n            this.$onRemoveRange(removed);\n    };\n    this.$onAddRange = function (range) {\n        this.rangeCount = this.rangeList.ranges.length;\n        this.ranges.unshift(range);\n        this._signal(\"addRange\", { range: range });\n    };\n    this.$onRemoveRange = function (removed) {\n        this.rangeCount = this.rangeList.ranges.length;\n        if (this.rangeCount == 1 && this.inMultiSelectMode) {\n            var lastRange = this.rangeList.ranges.pop();\n            removed.push(lastRange);\n            this.rangeCount = 0;\n        }\n        for (var i = removed.length; i--;) {\n            var index = this.ranges.indexOf(removed[i]);\n            this.ranges.splice(index, 1);\n        }\n        this._signal(\"removeRange\", { ranges: removed });\n        if (this.rangeCount === 0 && this.inMultiSelectMode) {\n            this.inMultiSelectMode = false;\n            this._signal(\"singleSelect\");\n            this.session.$undoSelect = true;\n            this.rangeList.detach(this.session);\n        }\n        lastRange = lastRange || this.ranges[0];\n        if (lastRange && !lastRange.isEqual(this.getRange()))\n            this.fromOrientedRange(lastRange);\n    };\n    this.$initRangeList = function () {\n        if (this.rangeList)\n            return;\n        this.rangeList = new RangeList();\n        this.ranges = [];\n        this.rangeCount = 0;\n    };\n    this.getAllRanges = function () {\n        return this.rangeCount ? this.rangeList.ranges.concat() : [this.getRange()];\n    };\n    this.splitIntoLines = function () {\n        var ranges = this.ranges.length ? this.ranges : [this.getRange()];\n        var newRanges = [];\n        for (var i = 0; i < ranges.length; i++) {\n            var range = ranges[i];\n            var row = range.start.row;\n            var endRow = range.end.row;\n            if (row === endRow) {\n                newRanges.push(range.clone());\n            }\n            else {\n                newRanges.push(new Range(row, range.start.column, row, this.session.getLine(row).length));\n                while (++row < endRow)\n                    newRanges.push(this.getLineRange(row, true));\n                newRanges.push(new Range(endRow, 0, endRow, range.end.column));\n            }\n            if (i == 0 && !this.isBackwards())\n                newRanges = newRanges.reverse();\n        }\n        this.toSingleRange();\n        for (var i = newRanges.length; i--;)\n            this.addRange(newRanges[i]);\n    };\n    this.joinSelections = function () {\n        var ranges = this.rangeList.ranges;\n        var lastRange = ranges[ranges.length - 1];\n        var range = Range.fromPoints(ranges[0].start, lastRange.end);\n        this.toSingleRange();\n        this.setSelectionRange(range, lastRange.cursor == lastRange.start);\n    };\n    this.toggleBlockSelection = function () {\n        if (this.rangeCount > 1) {\n            var ranges = this.rangeList.ranges;\n            var lastRange = ranges[ranges.length - 1];\n            var range = Range.fromPoints(ranges[0].start, lastRange.end);\n            this.toSingleRange();\n            this.setSelectionRange(range, lastRange.cursor == lastRange.start);\n        }\n        else {\n            var cursor = this.session.documentToScreenPosition(this.cursor);\n            var anchor = this.session.documentToScreenPosition(this.anchor);\n            var rectSel = this.rectangularRangeBlock(cursor, anchor);\n            rectSel.forEach(this.addRange, this);\n        }\n    };\n    this.rectangularRangeBlock = function (screenCursor, screenAnchor, includeEmptyLines) {\n        var rectSel = [];\n        var xBackwards = screenCursor.column < screenAnchor.column;\n        if (xBackwards) {\n            var startColumn = screenCursor.column;\n            var endColumn = screenAnchor.column;\n            var startOffsetX = screenCursor.offsetX;\n            var endOffsetX = screenAnchor.offsetX;\n        }\n        else {\n            var startColumn = screenAnchor.column;\n            var endColumn = screenCursor.column;\n            var startOffsetX = screenAnchor.offsetX;\n            var endOffsetX = screenCursor.offsetX;\n        }\n        var yBackwards = screenCursor.row < screenAnchor.row;\n        if (yBackwards) {\n            var startRow = screenCursor.row;\n            var endRow = screenAnchor.row;\n        }\n        else {\n            var startRow = screenAnchor.row;\n            var endRow = screenCursor.row;\n        }\n        if (startColumn < 0)\n            startColumn = 0;\n        if (startRow < 0)\n            startRow = 0;\n        if (startRow == endRow)\n            includeEmptyLines = true;\n        var docEnd;\n        for (var row = startRow; row <= endRow; row++) {\n            var range = Range.fromPoints(this.session.screenToDocumentPosition(row, startColumn, startOffsetX), this.session.screenToDocumentPosition(row, endColumn, endOffsetX));\n            if (range.isEmpty()) {\n                if (docEnd && isSamePoint(range.end, docEnd))\n                    break;\n                docEnd = range.end;\n            }\n            range.cursor = xBackwards ? range.start : range.end;\n            rectSel.push(range);\n        }\n        if (yBackwards)\n            rectSel.reverse();\n        if (!includeEmptyLines) {\n            var end = rectSel.length - 1;\n            while (rectSel[end].isEmpty() && end > 0)\n                end--;\n            if (end > 0) {\n                var start = 0;\n                while (rectSel[start].isEmpty())\n                    start++;\n            }\n            for (var i = end; i >= start; i--) {\n                if (rectSel[i].isEmpty())\n                    rectSel.splice(i, 1);\n            }\n        }\n        return rectSel;\n    };\n}).call(Selection.prototype);\nvar Editor = require(\"./editor\").Editor;\n(function () {\n    this.updateSelectionMarkers = function () {\n        this.renderer.updateCursor();\n        this.renderer.updateBackMarkers();\n    };\n    this.addSelectionMarker = function (orientedRange) {\n        if (!orientedRange.cursor)\n            orientedRange.cursor = orientedRange.end;\n        var style = this.getSelectionStyle();\n        orientedRange.marker = this.session.addMarker(orientedRange, \"ace_selection\", style);\n        this.session.$selectionMarkers.push(orientedRange);\n        this.session.selectionMarkerCount = this.session.$selectionMarkers.length;\n        return orientedRange;\n    };\n    this.removeSelectionMarker = function (range) {\n        if (!range.marker)\n            return;\n        this.session.removeMarker(range.marker);\n        var index = this.session.$selectionMarkers.indexOf(range);\n        if (index != -1)\n            this.session.$selectionMarkers.splice(index, 1);\n        this.session.selectionMarkerCount = this.session.$selectionMarkers.length;\n    };\n    this.removeSelectionMarkers = function (ranges) {\n        var markerList = this.session.$selectionMarkers;\n        for (var i = ranges.length; i--;) {\n            var range = ranges[i];\n            if (!range.marker)\n                continue;\n            this.session.removeMarker(range.marker);\n            var index = markerList.indexOf(range);\n            if (index != -1)\n                markerList.splice(index, 1);\n        }\n        this.session.selectionMarkerCount = markerList.length;\n    };\n    this.$onAddRange = function (e) {\n        this.addSelectionMarker(e.range);\n        this.renderer.updateCursor();\n        this.renderer.updateBackMarkers();\n    };\n    this.$onRemoveRange = function (e) {\n        this.removeSelectionMarkers(e.ranges);\n        this.renderer.updateCursor();\n        this.renderer.updateBackMarkers();\n    };\n    this.$onMultiSelect = function (e) {\n        if (this.inMultiSelectMode)\n            return;\n        this.inMultiSelectMode = true;\n        this.setStyle(\"ace_multiselect\");\n        this.keyBinding.addKeyboardHandler(commands.keyboardHandler);\n        this.commands.setDefaultHandler(\"exec\", this.$onMultiSelectExec);\n        this.renderer.updateCursor();\n        this.renderer.updateBackMarkers();\n    };\n    this.$onSingleSelect = function (e) {\n        if (this.session.multiSelect.inVirtualMode)\n            return;\n        this.inMultiSelectMode = false;\n        this.unsetStyle(\"ace_multiselect\");\n        this.keyBinding.removeKeyboardHandler(commands.keyboardHandler);\n        this.commands.removeDefaultHandler(\"exec\", this.$onMultiSelectExec);\n        this.renderer.updateCursor();\n        this.renderer.updateBackMarkers();\n        this._emit(\"changeSelection\");\n    };\n    this.$onMultiSelectExec = function (e) {\n        var command = e.command;\n        var editor = e.editor;\n        if (!editor.multiSelect)\n            return;\n        if (!command.multiSelectAction) {\n            var result = command.exec(editor, e.args || {});\n            editor.multiSelect.addRange(editor.multiSelect.toOrientedRange());\n            editor.multiSelect.mergeOverlappingRanges();\n        }\n        else if (command.multiSelectAction == \"forEach\") {\n            result = editor.forEachSelection(command, e.args);\n        }\n        else if (command.multiSelectAction == \"forEachLine\") {\n            result = editor.forEachSelection(command, e.args, true);\n        }\n        else if (command.multiSelectAction == \"single\") {\n            editor.exitMultiSelectMode();\n            result = command.exec(editor, e.args || {});\n        }\n        else {\n            result = command.multiSelectAction(editor, e.args || {});\n        }\n        return result;\n    };\n    this.forEachSelection = function (cmd, args, options) {\n        if (this.inVirtualSelectionMode)\n            return;\n        var keepOrder = options && options.keepOrder;\n        var $byLines = options == true || options && options.$byLines;\n        var session = this.session;\n        var selection = this.selection;\n        var rangeList = selection.rangeList;\n        var ranges = (keepOrder ? selection : rangeList).ranges;\n        var result;\n        if (!ranges.length)\n            return cmd.exec ? cmd.exec(this, args || {}) : cmd(this, args || {});\n        var reg = selection._eventRegistry;\n        selection._eventRegistry = {};\n        var tmpSel = new Selection(session);\n        this.inVirtualSelectionMode = true;\n        for (var i = ranges.length; i--;) {\n            if ($byLines) {\n                while (i > 0 && ranges[i].start.row == ranges[i - 1].end.row)\n                    i--;\n            }\n            tmpSel.fromOrientedRange(ranges[i]);\n            tmpSel.index = i;\n            this.selection = session.selection = tmpSel;\n            var cmdResult = cmd.exec ? cmd.exec(this, args || {}) : cmd(this, args || {});\n            if (!result && cmdResult !== undefined)\n                result = cmdResult;\n            tmpSel.toOrientedRange(ranges[i]);\n        }\n        tmpSel.detach();\n        this.selection = session.selection = selection;\n        this.inVirtualSelectionMode = false;\n        selection._eventRegistry = reg;\n        selection.mergeOverlappingRanges();\n        if (selection.ranges[0])\n            selection.fromOrientedRange(selection.ranges[0]);\n        var anim = this.renderer.$scrollAnimation;\n        this.onCursorChange();\n        this.onSelectionChange();\n        if (anim && anim.from == anim.to)\n            this.renderer.animateScrolling(anim.from);\n        return result;\n    };\n    this.exitMultiSelectMode = function () {\n        if (!this.inMultiSelectMode || this.inVirtualSelectionMode)\n            return;\n        this.multiSelect.toSingleRange();\n    };\n    this.getSelectedText = function () {\n        var text = \"\";\n        if (this.inMultiSelectMode && !this.inVirtualSelectionMode) {\n            var ranges = this.multiSelect.rangeList.ranges;\n            var buf = [];\n            for (var i = 0; i < ranges.length; i++) {\n                buf.push(this.session.getTextRange(ranges[i]));\n            }\n            var nl = this.session.getDocument().getNewLineCharacter();\n            text = buf.join(nl);\n            if (text.length == (buf.length - 1) * nl.length)\n                text = \"\";\n        }\n        else if (!this.selection.isEmpty()) {\n            text = this.session.getTextRange(this.getSelectionRange());\n        }\n        return text;\n    };\n    this.$checkMultiselectChange = function (e, anchor) {\n        if (this.inMultiSelectMode && !this.inVirtualSelectionMode) {\n            var range = this.multiSelect.ranges[0];\n            if (this.multiSelect.isEmpty() && anchor == this.multiSelect.anchor)\n                return;\n            var pos = anchor == this.multiSelect.anchor\n                ? range.cursor == range.start ? range.end : range.start\n                : range.cursor;\n            if (pos.row != anchor.row\n                || this.session.$clipPositionToDocument(pos.row, pos.column).column != anchor.column)\n                this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange());\n            else\n                this.multiSelect.mergeOverlappingRanges();\n        }\n    };\n    this.findAll = function (needle, options, additive) {\n        options = options || {};\n        options.needle = needle || options.needle;\n        if (options.needle == undefined) {\n            var range = this.selection.isEmpty()\n                ? this.selection.getWordRange()\n                : this.selection.getRange();\n            options.needle = this.session.getTextRange(range);\n        }\n        this.$search.set(options);\n        var ranges = this.$search.findAll(this.session);\n        if (!ranges.length)\n            return 0;\n        var selection = this.multiSelect;\n        if (!additive)\n            selection.toSingleRange(ranges[0]);\n        for (var i = ranges.length; i--;)\n            selection.addRange(ranges[i], true);\n        if (range && selection.rangeList.rangeAtPoint(range.start))\n            selection.addRange(range, true);\n        return ranges.length;\n    };\n    this.selectMoreLines = function (dir, skip) {\n        var range = this.selection.toOrientedRange();\n        var isBackwards = range.cursor == range.end;\n        var screenLead = this.session.documentToScreenPosition(range.cursor);\n        if (this.selection.$desiredColumn)\n            screenLead.column = this.selection.$desiredColumn;\n        var lead = this.session.screenToDocumentPosition(screenLead.row + dir, screenLead.column);\n        if (!range.isEmpty()) {\n            var screenAnchor = this.session.documentToScreenPosition(isBackwards ? range.end : range.start);\n            var anchor = this.session.screenToDocumentPosition(screenAnchor.row + dir, screenAnchor.column);\n        }\n        else {\n            var anchor = lead;\n        }\n        if (isBackwards) {\n            var newRange = Range.fromPoints(lead, anchor);\n            newRange.cursor = newRange.start;\n        }\n        else {\n            var newRange = Range.fromPoints(anchor, lead);\n            newRange.cursor = newRange.end;\n        }\n        newRange.desiredColumn = screenLead.column;\n        if (!this.selection.inMultiSelectMode) {\n            this.selection.addRange(range);\n        }\n        else {\n            if (skip)\n                var toRemove = range.cursor;\n        }\n        this.selection.addRange(newRange);\n        if (toRemove)\n            this.selection.substractPoint(toRemove);\n    };\n    this.transposeSelections = function (dir) {\n        var session = this.session;\n        var sel = session.multiSelect;\n        var all = sel.ranges;\n        for (var i = all.length; i--;) {\n            var range = all[i];\n            if (range.isEmpty()) {\n                var tmp = session.getWordRange(range.start.row, range.start.column);\n                range.start.row = tmp.start.row;\n                range.start.column = tmp.start.column;\n                range.end.row = tmp.end.row;\n                range.end.column = tmp.end.column;\n            }\n        }\n        sel.mergeOverlappingRanges();\n        var words = [];\n        for (var i = all.length; i--;) {\n            var range = all[i];\n            words.unshift(session.getTextRange(range));\n        }\n        if (dir < 0)\n            words.unshift(words.pop());\n        else\n            words.push(words.shift());\n        for (var i = all.length; i--;) {\n            var range = all[i];\n            var tmp = range.clone();\n            session.replace(range, words[i]);\n            range.start.row = tmp.start.row;\n            range.start.column = tmp.start.column;\n        }\n        sel.fromOrientedRange(sel.ranges[0]);\n    };\n    this.selectMore = function (dir, skip, stopAtFirst) {\n        var session = this.session;\n        var sel = session.multiSelect;\n        var range = sel.toOrientedRange();\n        if (range.isEmpty()) {\n            range = session.getWordRange(range.start.row, range.start.column);\n            range.cursor = dir == -1 ? range.start : range.end;\n            this.multiSelect.addRange(range);\n            if (stopAtFirst)\n                return;\n        }\n        var needle = session.getTextRange(range);\n        var newRange = find(session, needle, dir);\n        if (newRange) {\n            newRange.cursor = dir == -1 ? newRange.start : newRange.end;\n            this.session.unfold(newRange);\n            this.multiSelect.addRange(newRange);\n            this.renderer.scrollCursorIntoView(null, 0.5);\n        }\n        if (skip)\n            this.multiSelect.substractPoint(range.cursor);\n    };\n    this.alignCursors = function () {\n        var session = this.session;\n        var sel = session.multiSelect;\n        var ranges = sel.ranges;\n        var row = -1;\n        var sameRowRanges = ranges.filter(function (r) {\n            if (r.cursor.row == row)\n                return true;\n            row = r.cursor.row;\n        });\n        if (!ranges.length || sameRowRanges.length == ranges.length - 1) {\n            var range = this.selection.getRange();\n            var fr = range.start.row, lr = range.end.row;\n            var guessRange = fr == lr;\n            if (guessRange) {\n                var max = this.session.getLength();\n                var line;\n                do {\n                    line = this.session.getLine(lr);\n                } while (/[=:]/.test(line) && ++lr < max);\n                do {\n                    line = this.session.getLine(fr);\n                } while (/[=:]/.test(line) && --fr > 0);\n                if (fr < 0)\n                    fr = 0;\n                if (lr >= max)\n                    lr = max - 1;\n            }\n            var lines = this.session.removeFullLines(fr, lr);\n            lines = this.$reAlignText(lines, guessRange);\n            this.session.insert({ row: fr, column: 0 }, lines.join(\"\\n\") + \"\\n\");\n            if (!guessRange) {\n                range.start.column = 0;\n                range.end.column = lines[lines.length - 1].length;\n            }\n            this.selection.setRange(range);\n        }\n        else {\n            sameRowRanges.forEach(function (r) {\n                sel.substractPoint(r.cursor);\n            });\n            var maxCol = 0;\n            var minSpace = Infinity;\n            var spaceOffsets = ranges.map(function (r) {\n                var p = r.cursor;\n                var line = session.getLine(p.row);\n                var spaceOffset = line.substr(p.column).search(/\\S/g);\n                if (spaceOffset == -1)\n                    spaceOffset = 0;\n                if (p.column > maxCol)\n                    maxCol = p.column;\n                if (spaceOffset < minSpace)\n                    minSpace = spaceOffset;\n                return spaceOffset;\n            });\n            ranges.forEach(function (r, i) {\n                var p = r.cursor;\n                var l = maxCol - p.column;\n                var d = spaceOffsets[i] - minSpace;\n                if (l > d)\n                    session.insert(p, lang.stringRepeat(\" \", l - d));\n                else\n                    session.remove(new Range(p.row, p.column, p.row, p.column - l + d));\n                r.start.column = r.end.column = maxCol;\n                r.start.row = r.end.row = p.row;\n                r.cursor = r.end;\n            });\n            sel.fromOrientedRange(ranges[0]);\n            this.renderer.updateCursor();\n            this.renderer.updateBackMarkers();\n        }\n    };\n    this.$reAlignText = function (lines, forceLeft) {\n        var isLeftAligned = true, isRightAligned = true;\n        var startW, textW, endW;\n        return lines.map(function (line) {\n            var m = line.match(/(\\s*)(.*?)(\\s*)([=:].*)/);\n            if (!m)\n                return [line];\n            if (startW == null) {\n                startW = m[1].length;\n                textW = m[2].length;\n                endW = m[3].length;\n                return m;\n            }\n            if (startW + textW + endW != m[1].length + m[2].length + m[3].length)\n                isRightAligned = false;\n            if (startW != m[1].length)\n                isLeftAligned = false;\n            if (startW > m[1].length)\n                startW = m[1].length;\n            if (textW < m[2].length)\n                textW = m[2].length;\n            if (endW > m[3].length)\n                endW = m[3].length;\n            return m;\n        }).map(forceLeft ? alignLeft :\n            isLeftAligned ? isRightAligned ? alignRight : alignLeft : unAlign);\n        function spaces(n) {\n            return lang.stringRepeat(\" \", n);\n        }\n        function alignLeft(m) {\n            return !m[2] ? m[0] : spaces(startW) + m[2]\n                + spaces(textW - m[2].length + endW)\n                + m[4].replace(/^([=:])\\s+/, \"$1 \");\n        }\n        function alignRight(m) {\n            return !m[2] ? m[0] : spaces(startW + textW - m[2].length) + m[2]\n                + spaces(endW)\n                + m[4].replace(/^([=:])\\s+/, \"$1 \");\n        }\n        function unAlign(m) {\n            return !m[2] ? m[0] : spaces(startW) + m[2]\n                + spaces(endW)\n                + m[4].replace(/^([=:])\\s+/, \"$1 \");\n        }\n    };\n}).call(Editor.prototype);\nfunction isSamePoint(p1, p2) {\n    return p1.row == p2.row && p1.column == p2.column;\n}\nexports.onSessionChange = function (e) {\n    var session = e.session;\n    if (session && !session.multiSelect) {\n        session.$selectionMarkers = [];\n        session.selection.$initRangeList();\n        session.multiSelect = session.selection;\n    }\n    this.multiSelect = session && session.multiSelect;\n    var oldSession = e.oldSession;\n    if (oldSession) {\n        oldSession.multiSelect.off(\"addRange\", this.$onAddRange);\n        oldSession.multiSelect.off(\"removeRange\", this.$onRemoveRange);\n        oldSession.multiSelect.off(\"multiSelect\", this.$onMultiSelect);\n        oldSession.multiSelect.off(\"singleSelect\", this.$onSingleSelect);\n        oldSession.multiSelect.lead.off(\"change\", this.$checkMultiselectChange);\n        oldSession.multiSelect.anchor.off(\"change\", this.$checkMultiselectChange);\n    }\n    if (session) {\n        session.multiSelect.on(\"addRange\", this.$onAddRange);\n        session.multiSelect.on(\"removeRange\", this.$onRemoveRange);\n        session.multiSelect.on(\"multiSelect\", this.$onMultiSelect);\n        session.multiSelect.on(\"singleSelect\", this.$onSingleSelect);\n        session.multiSelect.lead.on(\"change\", this.$checkMultiselectChange);\n        session.multiSelect.anchor.on(\"change\", this.$checkMultiselectChange);\n    }\n    if (session && this.inMultiSelectMode != session.selection.inMultiSelectMode) {\n        if (session.selection.inMultiSelectMode)\n            this.$onMultiSelect();\n        else\n            this.$onSingleSelect();\n    }\n};\nfunction MultiSelect(editor) {\n    if (editor.$multiselectOnSessionChange)\n        return;\n    editor.$onAddRange = editor.$onAddRange.bind(editor);\n    editor.$onRemoveRange = editor.$onRemoveRange.bind(editor);\n    editor.$onMultiSelect = editor.$onMultiSelect.bind(editor);\n    editor.$onSingleSelect = editor.$onSingleSelect.bind(editor);\n    editor.$multiselectOnSessionChange = exports.onSessionChange.bind(editor);\n    editor.$checkMultiselectChange = editor.$checkMultiselectChange.bind(editor);\n    editor.$multiselectOnSessionChange(editor);\n    editor.on(\"changeSession\", editor.$multiselectOnSessionChange);\n    editor.on(\"mousedown\", onMouseDown);\n    editor.commands.addCommands(commands.defaultCommands);\n    addAltCursorListeners(editor);\n}\nfunction addAltCursorListeners(editor) {\n    if (!editor.textInput)\n        return;\n    var el = editor.textInput.getElement();\n    var altCursor = false;\n    event.addListener(el, \"keydown\", function (e) {\n        var altDown = e.keyCode == 18 && !(e.ctrlKey || e.shiftKey || e.metaKey);\n        if (editor.$blockSelectEnabled && altDown) {\n            if (!altCursor) {\n                editor.renderer.setMouseCursor(\"crosshair\");\n                altCursor = true;\n            }\n        }\n        else if (altCursor) {\n            reset();\n        }\n    }, editor);\n    event.addListener(el, \"keyup\", reset, editor);\n    event.addListener(el, \"blur\", reset, editor);\n    function reset(e) {\n        if (altCursor) {\n            editor.renderer.setMouseCursor(\"\");\n            altCursor = false;\n        }\n    }\n}\nexports.MultiSelect = MultiSelect;\nrequire(\"./config\").defineOptions(Editor.prototype, \"editor\", {\n    enableMultiselect: {\n        set: function (val) {\n            MultiSelect(this);\n            if (val) {\n                this.on(\"changeSession\", this.$multiselectOnSessionChange);\n                this.on(\"mousedown\", onMouseDown);\n            }\n            else {\n                this.off(\"changeSession\", this.$multiselectOnSessionChange);\n                this.off(\"mousedown\", onMouseDown);\n            }\n        },\n        value: true\n    },\n    enableBlockSelect: {\n        set: function (val) {\n            this.$blockSelectEnabled = val;\n        },\n        value: true\n    }\n});\n\n});\n\nace.define(\"ace/mode/folding/fold_mode\",[\"require\",\"exports\",\"module\",\"ace/range\"], function(require, exports, module){\"use strict\";\nvar Range = require(\"../../range\").Range;\nvar FoldMode = exports.FoldMode = function () { };\n(function () {\n    this.foldingStartMarker = null;\n    this.foldingStopMarker = null;\n    this.getFoldWidget = function (session, foldStyle, row) {\n        var line = session.getLine(row);\n        if (this.foldingStartMarker.test(line))\n            return \"start\";\n        if (foldStyle == \"markbeginend\"\n            && this.foldingStopMarker\n            && this.foldingStopMarker.test(line))\n            return \"end\";\n        return \"\";\n    };\n    this.getFoldWidgetRange = function (session, foldStyle, row) {\n        return null;\n    };\n    this.indentationBlock = function (session, row, column) {\n        var re = /\\S/;\n        var line = session.getLine(row);\n        var startLevel = line.search(re);\n        if (startLevel == -1)\n            return;\n        var startColumn = column || line.length;\n        var maxRow = session.getLength();\n        var startRow = row;\n        var endRow = row;\n        while (++row < maxRow) {\n            var level = session.getLine(row).search(re);\n            if (level == -1)\n                continue;\n            if (level <= startLevel) {\n                var token = session.getTokenAt(row, 0);\n                if (!token || token.type !== \"string\")\n                    break;\n            }\n            endRow = row;\n        }\n        if (endRow > startRow) {\n            var endColumn = session.getLine(endRow).length;\n            return new Range(startRow, startColumn, endRow, endColumn);\n        }\n    };\n    this.openingBracketBlock = function (session, bracket, row, column, typeRe) {\n        var start = { row: row, column: column + 1 };\n        var end = session.$findClosingBracket(bracket, start, typeRe);\n        if (!end)\n            return;\n        var fw = session.foldWidgets[end.row];\n        if (fw == null)\n            fw = session.getFoldWidget(end.row);\n        if (fw == \"start\" && end.row > start.row) {\n            end.row--;\n            end.column = session.getLine(end.row).length;\n        }\n        return Range.fromPoints(start, end);\n    };\n    this.closingBracketBlock = function (session, bracket, row, column, typeRe) {\n        var end = { row: row, column: column };\n        var start = session.$findOpeningBracket(bracket, end);\n        if (!start)\n            return;\n        start.column++;\n        end.column--;\n        return Range.fromPoints(start, end);\n    };\n}).call(FoldMode.prototype);\n\n});\n\nace.define(\"ace/line_widgets\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\"], function(require, exports, module){\"use strict\";\nvar dom = require(\"./lib/dom\");\nfunction LineWidgets(session) {\n    this.session = session;\n    this.session.widgetManager = this;\n    this.session.getRowLength = this.getRowLength;\n    this.session.$getWidgetScreenLength = this.$getWidgetScreenLength;\n    this.updateOnChange = this.updateOnChange.bind(this);\n    this.renderWidgets = this.renderWidgets.bind(this);\n    this.measureWidgets = this.measureWidgets.bind(this);\n    this.session._changedWidgets = [];\n    this.$onChangeEditor = this.$onChangeEditor.bind(this);\n    this.session.on(\"change\", this.updateOnChange);\n    this.session.on(\"changeFold\", this.updateOnFold);\n    this.session.on(\"changeEditor\", this.$onChangeEditor);\n}\n(function () {\n    this.getRowLength = function (row) {\n        var h;\n        if (this.lineWidgets)\n            h = this.lineWidgets[row] && this.lineWidgets[row].rowCount || 0;\n        else\n            h = 0;\n        if (!this.$useWrapMode || !this.$wrapData[row]) {\n            return 1 + h;\n        }\n        else {\n            return this.$wrapData[row].length + 1 + h;\n        }\n    };\n    this.$getWidgetScreenLength = function () {\n        var screenRows = 0;\n        this.lineWidgets.forEach(function (w) {\n            if (w && w.rowCount && !w.hidden)\n                screenRows += w.rowCount;\n        });\n        return screenRows;\n    };\n    this.$onChangeEditor = function (e) {\n        this.attach(e.editor);\n    };\n    this.attach = function (editor) {\n        if (editor && editor.widgetManager && editor.widgetManager != this)\n            editor.widgetManager.detach();\n        if (this.editor == editor)\n            return;\n        this.detach();\n        this.editor = editor;\n        if (editor) {\n            editor.widgetManager = this;\n            editor.renderer.on(\"beforeRender\", this.measureWidgets);\n            editor.renderer.on(\"afterRender\", this.renderWidgets);\n        }\n    };\n    this.detach = function (e) {\n        var editor = this.editor;\n        if (!editor)\n            return;\n        this.editor = null;\n        editor.widgetManager = null;\n        editor.renderer.off(\"beforeRender\", this.measureWidgets);\n        editor.renderer.off(\"afterRender\", this.renderWidgets);\n        var lineWidgets = this.session.lineWidgets;\n        lineWidgets && lineWidgets.forEach(function (w) {\n            if (w && w.el && w.el.parentNode) {\n                w._inDocument = false;\n                w.el.parentNode.removeChild(w.el);\n            }\n        });\n    };\n    this.updateOnFold = function (e, session) {\n        var lineWidgets = session.lineWidgets;\n        if (!lineWidgets || !e.action)\n            return;\n        var fold = e.data;\n        var start = fold.start.row;\n        var end = fold.end.row;\n        var hide = e.action == \"add\";\n        for (var i = start + 1; i < end; i++) {\n            if (lineWidgets[i])\n                lineWidgets[i].hidden = hide;\n        }\n        if (lineWidgets[end]) {\n            if (hide) {\n                if (!lineWidgets[start])\n                    lineWidgets[start] = lineWidgets[end];\n                else\n                    lineWidgets[end].hidden = hide;\n            }\n            else {\n                if (lineWidgets[start] == lineWidgets[end])\n                    lineWidgets[start] = undefined;\n                lineWidgets[end].hidden = hide;\n            }\n        }\n    };\n    this.updateOnChange = function (delta) {\n        var lineWidgets = this.session.lineWidgets;\n        if (!lineWidgets)\n            return;\n        var startRow = delta.start.row;\n        var len = delta.end.row - startRow;\n        if (len === 0) {\n        }\n        else if (delta.action == \"remove\") {\n            var removed = lineWidgets.splice(startRow + 1, len);\n            if (!lineWidgets[startRow] && removed[removed.length - 1]) {\n                lineWidgets[startRow] = removed.pop();\n            }\n            removed.forEach(function (w) {\n                w && this.removeLineWidget(w);\n            }, this);\n            this.$updateRows();\n        }\n        else {\n            var args = new Array(len);\n            if (lineWidgets[startRow] && lineWidgets[startRow].column != null) {\n                if (delta.start.column > lineWidgets[startRow].column)\n                    startRow++;\n            }\n            args.unshift(startRow, 0);\n            lineWidgets.splice.apply(lineWidgets, args);\n            this.$updateRows();\n        }\n    };\n    this.$updateRows = function () {\n        var lineWidgets = this.session.lineWidgets;\n        if (!lineWidgets)\n            return;\n        var noWidgets = true;\n        lineWidgets.forEach(function (w, i) {\n            if (w) {\n                noWidgets = false;\n                w.row = i;\n                while (w.$oldWidget) {\n                    w.$oldWidget.row = i;\n                    w = w.$oldWidget;\n                }\n            }\n        });\n        if (noWidgets)\n            this.session.lineWidgets = null;\n    };\n    this.$registerLineWidget = function (w) {\n        if (!this.session.lineWidgets)\n            this.session.lineWidgets = new Array(this.session.getLength());\n        var old = this.session.lineWidgets[w.row];\n        if (old) {\n            w.$oldWidget = old;\n            if (old.el && old.el.parentNode) {\n                old.el.parentNode.removeChild(old.el);\n                old._inDocument = false;\n            }\n        }\n        this.session.lineWidgets[w.row] = w;\n        return w;\n    };\n    this.addLineWidget = function (w) {\n        this.$registerLineWidget(w);\n        w.session = this.session;\n        if (!this.editor)\n            return w;\n        var renderer = this.editor.renderer;\n        if (w.html && !w.el) {\n            w.el = dom.createElement(\"div\");\n            w.el.innerHTML = w.html;\n        }\n        if (w.el) {\n            dom.addCssClass(w.el, \"ace_lineWidgetContainer\");\n            w.el.style.position = \"absolute\";\n            w.el.style.zIndex = 5;\n            renderer.container.appendChild(w.el);\n            w._inDocument = true;\n            if (!w.coverGutter) {\n                w.el.style.zIndex = 3;\n            }\n            if (w.pixelHeight == null) {\n                w.pixelHeight = w.el.offsetHeight;\n            }\n        }\n        if (w.rowCount == null) {\n            w.rowCount = w.pixelHeight / renderer.layerConfig.lineHeight;\n        }\n        var fold = this.session.getFoldAt(w.row, 0);\n        w.$fold = fold;\n        if (fold) {\n            var lineWidgets = this.session.lineWidgets;\n            if (w.row == fold.end.row && !lineWidgets[fold.start.row])\n                lineWidgets[fold.start.row] = w;\n            else\n                w.hidden = true;\n        }\n        this.session._emit(\"changeFold\", { data: { start: { row: w.row } } });\n        this.$updateRows();\n        this.renderWidgets(null, renderer);\n        this.onWidgetChanged(w);\n        return w;\n    };\n    this.removeLineWidget = function (w) {\n        w._inDocument = false;\n        w.session = null;\n        if (w.el && w.el.parentNode)\n            w.el.parentNode.removeChild(w.el);\n        if (w.editor && w.editor.destroy)\n            try {\n                w.editor.destroy();\n            }\n            catch (e) { }\n        if (this.session.lineWidgets) {\n            var w1 = this.session.lineWidgets[w.row];\n            if (w1 == w) {\n                this.session.lineWidgets[w.row] = w.$oldWidget;\n                if (w.$oldWidget)\n                    this.onWidgetChanged(w.$oldWidget);\n            }\n            else {\n                while (w1) {\n                    if (w1.$oldWidget == w) {\n                        w1.$oldWidget = w.$oldWidget;\n                        break;\n                    }\n                    w1 = w1.$oldWidget;\n                }\n            }\n        }\n        this.session._emit(\"changeFold\", { data: { start: { row: w.row } } });\n        this.$updateRows();\n    };\n    this.getWidgetsAtRow = function (row) {\n        var lineWidgets = this.session.lineWidgets;\n        var w = lineWidgets && lineWidgets[row];\n        var list = [];\n        while (w) {\n            list.push(w);\n            w = w.$oldWidget;\n        }\n        return list;\n    };\n    this.onWidgetChanged = function (w) {\n        this.session._changedWidgets.push(w);\n        this.editor && this.editor.renderer.updateFull();\n    };\n    this.measureWidgets = function (e, renderer) {\n        var changedWidgets = this.session._changedWidgets;\n        var config = renderer.layerConfig;\n        if (!changedWidgets || !changedWidgets.length)\n            return;\n        var min = Infinity;\n        for (var i = 0; i < changedWidgets.length; i++) {\n            var w = changedWidgets[i];\n            if (!w || !w.el)\n                continue;\n            if (w.session != this.session)\n                continue;\n            if (!w._inDocument) {\n                if (this.session.lineWidgets[w.row] != w)\n                    continue;\n                w._inDocument = true;\n                renderer.container.appendChild(w.el);\n            }\n            w.h = w.el.offsetHeight;\n            if (!w.fixedWidth) {\n                w.w = w.el.offsetWidth;\n                w.screenWidth = Math.ceil(w.w / config.characterWidth);\n            }\n            var rowCount = w.h / config.lineHeight;\n            if (w.coverLine) {\n                rowCount -= this.session.getRowLineCount(w.row);\n                if (rowCount < 0)\n                    rowCount = 0;\n            }\n            if (w.rowCount != rowCount) {\n                w.rowCount = rowCount;\n                if (w.row < min)\n                    min = w.row;\n            }\n        }\n        if (min != Infinity) {\n            this.session._emit(\"changeFold\", { data: { start: { row: min } } });\n            this.session.lineWidgetWidth = null;\n        }\n        this.session._changedWidgets = [];\n    };\n    this.renderWidgets = function (e, renderer) {\n        var config = renderer.layerConfig;\n        var lineWidgets = this.session.lineWidgets;\n        if (!lineWidgets)\n            return;\n        var first = Math.min(this.firstRow, config.firstRow);\n        var last = Math.max(this.lastRow, config.lastRow, lineWidgets.length);\n        while (first > 0 && !lineWidgets[first])\n            first--;\n        this.firstRow = config.firstRow;\n        this.lastRow = config.lastRow;\n        renderer.$cursorLayer.config = config;\n        for (var i = first; i <= last; i++) {\n            var w = lineWidgets[i];\n            if (!w || !w.el)\n                continue;\n            if (w.hidden) {\n                w.el.style.top = -100 - (w.pixelHeight || 0) + \"px\";\n                continue;\n            }\n            if (!w._inDocument) {\n                w._inDocument = true;\n                renderer.container.appendChild(w.el);\n            }\n            var top = renderer.$cursorLayer.getPixelPosition({ row: i, column: 0 }, true).top;\n            if (!w.coverLine)\n                top += config.lineHeight * this.session.getRowLineCount(w.row);\n            w.el.style.top = top - config.offset + \"px\";\n            var left = w.coverGutter ? 0 : renderer.gutterWidth;\n            if (!w.fixedWidth)\n                left -= renderer.scrollLeft;\n            w.el.style.left = left + \"px\";\n            if (w.fullWidth && w.screenWidth) {\n                w.el.style.minWidth = config.width + 2 * config.padding + \"px\";\n            }\n            if (w.fixedWidth) {\n                w.el.style.right = renderer.scrollBar.getWidth() + \"px\";\n            }\n            else {\n                w.el.style.right = \"\";\n            }\n        }\n    };\n}).call(LineWidgets.prototype);\nexports.LineWidgets = LineWidgets;\n\n});\n\nace.define(\"ace/ext/error_marker\",[\"require\",\"exports\",\"module\",\"ace/line_widgets\",\"ace/lib/dom\",\"ace/range\"], function(require, exports, module){\"use strict\";\nvar LineWidgets = require(\"../line_widgets\").LineWidgets;\nvar dom = require(\"../lib/dom\");\nvar Range = require(\"../range\").Range;\nfunction binarySearch(array, needle, comparator) {\n    var first = 0;\n    var last = array.length - 1;\n    while (first <= last) {\n        var mid = (first + last) >> 1;\n        var c = comparator(needle, array[mid]);\n        if (c > 0)\n            first = mid + 1;\n        else if (c < 0)\n            last = mid - 1;\n        else\n            return mid;\n    }\n    return -(first + 1);\n}\nfunction findAnnotations(session, row, dir) {\n    var annotations = session.getAnnotations().sort(Range.comparePoints);\n    if (!annotations.length)\n        return;\n    var i = binarySearch(annotations, { row: row, column: -1 }, Range.comparePoints);\n    if (i < 0)\n        i = -i - 1;\n    if (i >= annotations.length)\n        i = dir > 0 ? 0 : annotations.length - 1;\n    else if (i === 0 && dir < 0)\n        i = annotations.length - 1;\n    var annotation = annotations[i];\n    if (!annotation || !dir)\n        return;\n    if (annotation.row === row) {\n        do {\n            annotation = annotations[i += dir];\n        } while (annotation && annotation.row === row);\n        if (!annotation)\n            return annotations.slice();\n    }\n    var matched = [];\n    row = annotation.row;\n    do {\n        matched[dir < 0 ? \"unshift\" : \"push\"](annotation);\n        annotation = annotations[i += dir];\n    } while (annotation && annotation.row == row);\n    return matched.length && matched;\n}\nexports.showErrorMarker = function (editor, dir) {\n    var session = editor.session;\n    if (!session.widgetManager) {\n        session.widgetManager = new LineWidgets(session);\n        session.widgetManager.attach(editor);\n    }\n    var pos = editor.getCursorPosition();\n    var row = pos.row;\n    var oldWidget = session.widgetManager.getWidgetsAtRow(row).filter(function (w) {\n        return w.type == \"errorMarker\";\n    })[0];\n    if (oldWidget) {\n        oldWidget.destroy();\n    }\n    else {\n        row -= dir;\n    }\n    var annotations = findAnnotations(session, row, dir);\n    var gutterAnno;\n    if (annotations) {\n        var annotation = annotations[0];\n        pos.column = (annotation.pos && typeof annotation.column != \"number\"\n            ? annotation.pos.sc\n            : annotation.column) || 0;\n        pos.row = annotation.row;\n        gutterAnno = editor.renderer.$gutterLayer.$annotations[pos.row];\n    }\n    else if (oldWidget) {\n        return;\n    }\n    else {\n        gutterAnno = {\n            text: [\"Looks good!\"],\n            className: \"ace_ok\"\n        };\n    }\n    editor.session.unfold(pos.row);\n    editor.selection.moveToPosition(pos);\n    var w = {\n        row: pos.row,\n        fixedWidth: true,\n        coverGutter: true,\n        el: dom.createElement(\"div\"),\n        type: \"errorMarker\"\n    };\n    var el = w.el.appendChild(dom.createElement(\"div\"));\n    var arrow = w.el.appendChild(dom.createElement(\"div\"));\n    arrow.className = \"error_widget_arrow \" + gutterAnno.className;\n    var left = editor.renderer.$cursorLayer\n        .getPixelPosition(pos).left;\n    arrow.style.left = left + editor.renderer.gutterWidth - 5 + \"px\";\n    w.el.className = \"error_widget_wrapper\";\n    el.className = \"error_widget \" + gutterAnno.className;\n    el.innerHTML = gutterAnno.text.join(\"<br>\");\n    el.appendChild(dom.createElement(\"div\"));\n    var kb = function (_, hashId, keyString) {\n        if (hashId === 0 && (keyString === \"esc\" || keyString === \"return\")) {\n            w.destroy();\n            return { command: \"null\" };\n        }\n    };\n    w.destroy = function () {\n        if (editor.$mouseHandler.isMousePressed)\n            return;\n        editor.keyBinding.removeKeyboardHandler(kb);\n        session.widgetManager.removeLineWidget(w);\n        editor.off(\"changeSelection\", w.destroy);\n        editor.off(\"changeSession\", w.destroy);\n        editor.off(\"mouseup\", w.destroy);\n        editor.off(\"change\", w.destroy);\n    };\n    editor.keyBinding.addKeyboardHandler(kb);\n    editor.on(\"changeSelection\", w.destroy);\n    editor.on(\"changeSession\", w.destroy);\n    editor.on(\"mouseup\", w.destroy);\n    editor.on(\"change\", w.destroy);\n    editor.session.widgetManager.addLineWidget(w);\n    w.el.onmousedown = editor.focus.bind(editor);\n    editor.renderer.scrollCursorIntoView(null, 0.5, { bottom: w.el.offsetHeight });\n};\ndom.importCssString(\"\\n    .error_widget_wrapper {\\n        background: inherit;\\n        color: inherit;\\n        border:none\\n    }\\n    .error_widget {\\n        border-top: solid 2px;\\n        border-bottom: solid 2px;\\n        margin: 5px 0;\\n        padding: 10px 40px;\\n        white-space: pre-wrap;\\n    }\\n    .error_widget.ace_error, .error_widget_arrow.ace_error{\\n        border-color: #ff5a5a\\n    }\\n    .error_widget.ace_warning, .error_widget_arrow.ace_warning{\\n        border-color: #F1D817\\n    }\\n    .error_widget.ace_info, .error_widget_arrow.ace_info{\\n        border-color: #5a5a5a\\n    }\\n    .error_widget.ace_ok, .error_widget_arrow.ace_ok{\\n        border-color: #5aaa5a\\n    }\\n    .error_widget_arrow {\\n        position: absolute;\\n        border: solid 5px;\\n        border-top-color: transparent!important;\\n        border-right-color: transparent!important;\\n        border-left-color: transparent!important;\\n        top: -5px;\\n    }\\n\", \"error_marker.css\", false);\n\n});\n\nace.define(\"ace/ace\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\",\"ace/lib/event\",\"ace/range\",\"ace/editor\",\"ace/edit_session\",\"ace/undomanager\",\"ace/virtual_renderer\",\"ace/worker/worker_client\",\"ace/keyboard/hash_handler\",\"ace/placeholder\",\"ace/multi_select\",\"ace/mode/folding/fold_mode\",\"ace/theme/textmate\",\"ace/ext/error_marker\",\"ace/config\",\"ace/loader_build\"], function(require, exports, module){/**\n * The main class required to set up an Ace instance in the browser.\n *\n * @class Ace\n **/\n\"use strict\";\nrequire(\"./loader_build\")(exports)\nvar dom = require(\"./lib/dom\");\nvar event = require(\"./lib/event\");\nvar Range = require(\"./range\").Range;\nvar Editor = require(\"./editor\").Editor;\nvar EditSession = require(\"./edit_session\").EditSession;\nvar UndoManager = require(\"./undomanager\").UndoManager;\nvar Renderer = require(\"./virtual_renderer\").VirtualRenderer;\nrequire(\"./worker/worker_client\");\nrequire(\"./keyboard/hash_handler\");\nrequire(\"./placeholder\");\nrequire(\"./multi_select\");\nrequire(\"./mode/folding/fold_mode\");\nrequire(\"./theme/textmate\");\nrequire(\"./ext/error_marker\");\nexports.config = require(\"./config\");\nexports.edit = function (el, options) {\n    if (typeof el == \"string\") {\n        var _id = el;\n        el = document.getElementById(_id);\n        if (!el)\n            throw new Error(\"ace.edit can't find div #\" + _id);\n    }\n    if (el && el.env && el.env.editor instanceof Editor)\n        return el.env.editor;\n    var value = \"\";\n    if (el && /input|textarea/i.test(el.tagName)) {\n        var oldNode = el;\n        value = oldNode.value;\n        el = dom.createElement(\"pre\");\n        oldNode.parentNode.replaceChild(el, oldNode);\n    }\n    else if (el) {\n        value = el.textContent;\n        el.innerHTML = \"\";\n    }\n    var doc = exports.createEditSession(value);\n    var editor = new Editor(new Renderer(el), doc, options);\n    var env = {\n        document: doc,\n        editor: editor,\n        onResize: editor.resize.bind(editor, null)\n    };\n    if (oldNode)\n        env.textarea = oldNode;\n    event.addListener(window, \"resize\", env.onResize);\n    editor.on(\"destroy\", function () {\n        event.removeListener(window, \"resize\", env.onResize);\n        env.editor.container.env = null; // prevent memory leak on old ie\n    });\n    editor.container.env = editor.env = env;\n    return editor;\n};\nexports.createEditSession = function (text, mode) {\n    var doc = new EditSession(text, mode);\n    doc.setUndoManager(new UndoManager());\n    return doc;\n};\nexports.Range = Range;\nexports.Editor = Editor;\nexports.EditSession = EditSession;\nexports.UndoManager = UndoManager;\nexports.VirtualRenderer = Renderer;\nexports.version = exports.config.version;\n\n});            (function() {\n                ace.require([\"ace/ace\"], function(a) {\n                    if (a) {\n                        a.config.init(true);\n                        a.define = ace.define;\n                    }\n                    if (!window.ace)\n                        window.ace = a;\n                    for (var key in a) if (a.hasOwnProperty(key))\n                        window.ace[key] = a[key];\n                    window.ace[\"default\"] = window.ace;\n                    if (typeof module == \"object\" && typeof exports == \"object\" && module) {\n                        module.exports = window.ace;\n                    }\n                });\n            })();\n        ","ace.define(\"ace/split\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/lang\",\"ace/lib/event_emitter\",\"ace/editor\",\"ace/virtual_renderer\",\"ace/edit_session\"], function(require, exports, module){\"use strict\";\nvar oop = require(\"./lib/oop\");\nvar lang = require(\"./lib/lang\");\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar Editor = require(\"./editor\").Editor;\nvar Renderer = require(\"./virtual_renderer\").VirtualRenderer;\nvar EditSession = require(\"./edit_session\").EditSession;\nvar Split = function (container, theme, splits) {\n    this.BELOW = 1;\n    this.BESIDE = 0;\n    this.$container = container;\n    this.$theme = theme;\n    this.$splits = 0;\n    this.$editorCSS = \"\";\n    this.$editors = [];\n    this.$orientation = this.BESIDE;\n    this.setSplits(splits || 1);\n    this.$cEditor = this.$editors[0];\n    this.on(\"focus\", function (editor) {\n        this.$cEditor = editor;\n    }.bind(this));\n};\n(function () {\n    oop.implement(this, EventEmitter);\n    this.$createEditor = function () {\n        var el = document.createElement(\"div\");\n        el.className = this.$editorCSS;\n        el.style.cssText = \"position: absolute; top:0px; bottom:0px\";\n        this.$container.appendChild(el);\n        var editor = new Editor(new Renderer(el, this.$theme));\n        editor.on(\"focus\", function () {\n            this._emit(\"focus\", editor);\n        }.bind(this));\n        this.$editors.push(editor);\n        editor.setFontSize(this.$fontSize);\n        return editor;\n    };\n    this.setSplits = function (splits) {\n        var editor;\n        if (splits < 1) {\n            throw \"The number of splits have to be > 0!\";\n        }\n        if (splits == this.$splits) {\n            return;\n        }\n        else if (splits > this.$splits) {\n            while (this.$splits < this.$editors.length && this.$splits < splits) {\n                editor = this.$editors[this.$splits];\n                this.$container.appendChild(editor.container);\n                editor.setFontSize(this.$fontSize);\n                this.$splits++;\n            }\n            while (this.$splits < splits) {\n                this.$createEditor();\n                this.$splits++;\n            }\n        }\n        else {\n            while (this.$splits > splits) {\n                editor = this.$editors[this.$splits - 1];\n                this.$container.removeChild(editor.container);\n                this.$splits--;\n            }\n        }\n        this.resize();\n    };\n    this.getSplits = function () {\n        return this.$splits;\n    };\n    this.getEditor = function (idx) {\n        return this.$editors[idx];\n    };\n    this.getCurrentEditor = function () {\n        return this.$cEditor;\n    };\n    this.focus = function () {\n        this.$cEditor.focus();\n    };\n    this.blur = function () {\n        this.$cEditor.blur();\n    };\n    this.setTheme = function (theme) {\n        this.$editors.forEach(function (editor) {\n            editor.setTheme(theme);\n        });\n    };\n    this.setKeyboardHandler = function (keybinding) {\n        this.$editors.forEach(function (editor) {\n            editor.setKeyboardHandler(keybinding);\n        });\n    };\n    this.forEach = function (callback, scope) {\n        this.$editors.forEach(callback, scope);\n    };\n    this.$fontSize = \"\";\n    this.setFontSize = function (size) {\n        this.$fontSize = size;\n        this.forEach(function (editor) {\n            editor.setFontSize(size);\n        });\n    };\n    this.$cloneSession = function (session) {\n        var s = new EditSession(session.getDocument(), session.getMode());\n        var undoManager = session.getUndoManager();\n        s.setUndoManager(undoManager);\n        s.setTabSize(session.getTabSize());\n        s.setUseSoftTabs(session.getUseSoftTabs());\n        s.setOverwrite(session.getOverwrite());\n        s.setBreakpoints(session.getBreakpoints());\n        s.setUseWrapMode(session.getUseWrapMode());\n        s.setUseWorker(session.getUseWorker());\n        s.setWrapLimitRange(session.$wrapLimitRange.min, session.$wrapLimitRange.max);\n        s.$foldData = session.$cloneFoldData();\n        return s;\n    };\n    this.setSession = function (session, idx) {\n        var editor;\n        if (idx == null) {\n            editor = this.$cEditor;\n        }\n        else {\n            editor = this.$editors[idx];\n        }\n        var isUsed = this.$editors.some(function (editor) {\n            return editor.session === session;\n        });\n        if (isUsed) {\n            session = this.$cloneSession(session);\n        }\n        editor.setSession(session);\n        return session;\n    };\n    this.getOrientation = function () {\n        return this.$orientation;\n    };\n    this.setOrientation = function (orientation) {\n        if (this.$orientation == orientation) {\n            return;\n        }\n        this.$orientation = orientation;\n        this.resize();\n    };\n    this.resize = function () {\n        var width = this.$container.clientWidth;\n        var height = this.$container.clientHeight;\n        var editor;\n        if (this.$orientation == this.BESIDE) {\n            var editorWidth = width / this.$splits;\n            for (var i = 0; i < this.$splits; i++) {\n                editor = this.$editors[i];\n                editor.container.style.width = editorWidth + \"px\";\n                editor.container.style.top = \"0px\";\n                editor.container.style.left = i * editorWidth + \"px\";\n                editor.container.style.height = height + \"px\";\n                editor.resize();\n            }\n        }\n        else {\n            var editorHeight = height / this.$splits;\n            for (var i = 0; i < this.$splits; i++) {\n                editor = this.$editors[i];\n                editor.container.style.width = width + \"px\";\n                editor.container.style.top = i * editorHeight + \"px\";\n                editor.container.style.left = \"0px\";\n                editor.container.style.height = editorHeight + \"px\";\n                editor.resize();\n            }\n        }\n    };\n}).call(Split.prototype);\nexports.Split = Split;\n\n});\n\nace.define(\"ace/ext/split\",[\"require\",\"exports\",\"module\",\"ace/split\"], function(require, exports, module){\"use strict\";\nmodule.exports = require(\"../split\");\n\n});                (function() {\n                    ace.require([\"ace/ext/split\"], function(m) {\n                        if (typeof module == \"object\" && typeof exports == \"object\" && module) {\n                            module.exports = m;\n                        }\n                    });\n                })();\n            ","import unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nexport default function _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n\n  if (!it) {\n    if (Array.isArray(o) || (it = unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = it.call(o);\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}","import getPrototypeOf from \"./getPrototypeOf.js\";\nexport default function _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}","import superPropBase from \"./superPropBase.js\";\nexport default function _get() {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get.bind();\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(arguments.length < 3 ? target : receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get.apply(this, arguments);\n}","export default function max(values, valueof) {\n  let max;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null\n          && (max < value || (max === undefined && value >= value))) {\n        max = value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null\n          && (max < value || (max === undefined && value >= value))) {\n        max = value;\n      }\n    }\n  }\n  return max;\n}\n","export default function range(start, stop, step) {\n  start = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n\n  var i = -1,\n      n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n      range = new Array(n);\n\n  while (++i < n) {\n    range[i] = start + i * step;\n  }\n\n  return range;\n}\n","export default function map(values, mapper) {\n  if (typeof values[Symbol.iterator] !== \"function\") throw new TypeError(\"values is not iterable\");\n  if (typeof mapper !== \"function\") throw new TypeError(\"mapper is not a function\");\n  return Array.from(values, (value, index) => mapper(value, index, values));\n}\n","export default function(x) {\n  return x;\n}\n","import identity from \"./identity.js\";\n\nvar top = 1,\n    right = 2,\n    bottom = 3,\n    left = 4,\n    epsilon = 1e-6;\n\nfunction translateX(x) {\n  return \"translate(\" + x + \",0)\";\n}\n\nfunction translateY(y) {\n  return \"translate(0,\" + y + \")\";\n}\n\nfunction number(scale) {\n  return d => +scale(d);\n}\n\nfunction center(scale, offset) {\n  offset = Math.max(0, scale.bandwidth() - offset * 2) / 2;\n  if (scale.round()) offset = Math.round(offset);\n  return d => +scale(d) + offset;\n}\n\nfunction entering() {\n  return !this.__axis;\n}\n\nfunction axis(orient, scale) {\n  var tickArguments = [],\n      tickValues = null,\n      tickFormat = null,\n      tickSizeInner = 6,\n      tickSizeOuter = 6,\n      tickPadding = 3,\n      offset = typeof window !== \"undefined\" && window.devicePixelRatio > 1 ? 0 : 0.5,\n      k = orient === top || orient === left ? -1 : 1,\n      x = orient === left || orient === right ? \"x\" : \"y\",\n      transform = orient === top || orient === bottom ? translateX : translateY;\n\n  function axis(context) {\n    var values = tickValues == null ? (scale.ticks ? scale.ticks.apply(scale, tickArguments) : scale.domain()) : tickValues,\n        format = tickFormat == null ? (scale.tickFormat ? scale.tickFormat.apply(scale, tickArguments) : identity) : tickFormat,\n        spacing = Math.max(tickSizeInner, 0) + tickPadding,\n        range = scale.range(),\n        range0 = +range[0] + offset,\n        range1 = +range[range.length - 1] + offset,\n        position = (scale.bandwidth ? center : number)(scale.copy(), offset),\n        selection = context.selection ? context.selection() : context,\n        path = selection.selectAll(\".domain\").data([null]),\n        tick = selection.selectAll(\".tick\").data(values, scale).order(),\n        tickExit = tick.exit(),\n        tickEnter = tick.enter().append(\"g\").attr(\"class\", \"tick\"),\n        line = tick.select(\"line\"),\n        text = tick.select(\"text\");\n\n    path = path.merge(path.enter().insert(\"path\", \".tick\")\n        .attr(\"class\", \"domain\")\n        .attr(\"stroke\", \"currentColor\"));\n\n    tick = tick.merge(tickEnter);\n\n    line = line.merge(tickEnter.append(\"line\")\n        .attr(\"stroke\", \"currentColor\")\n        .attr(x + \"2\", k * tickSizeInner));\n\n    text = text.merge(tickEnter.append(\"text\")\n        .attr(\"fill\", \"currentColor\")\n        .attr(x, k * spacing)\n        .attr(\"dy\", orient === top ? \"0em\" : orient === bottom ? \"0.71em\" : \"0.32em\"));\n\n    if (context !== selection) {\n      path = path.transition(context);\n      tick = tick.transition(context);\n      line = line.transition(context);\n      text = text.transition(context);\n\n      tickExit = tickExit.transition(context)\n          .attr(\"opacity\", epsilon)\n          .attr(\"transform\", function(d) { return isFinite(d = position(d)) ? transform(d + offset) : this.getAttribute(\"transform\"); });\n\n      tickEnter\n          .attr(\"opacity\", epsilon)\n          .attr(\"transform\", function(d) { var p = this.parentNode.__axis; return transform((p && isFinite(p = p(d)) ? p : position(d)) + offset); });\n    }\n\n    tickExit.remove();\n\n    path\n        .attr(\"d\", orient === left || orient === right\n            ? (tickSizeOuter ? \"M\" + k * tickSizeOuter + \",\" + range0 + \"H\" + offset + \"V\" + range1 + \"H\" + k * tickSizeOuter : \"M\" + offset + \",\" + range0 + \"V\" + range1)\n            : (tickSizeOuter ? \"M\" + range0 + \",\" + k * tickSizeOuter + \"V\" + offset + \"H\" + range1 + \"V\" + k * tickSizeOuter : \"M\" + range0 + \",\" + offset + \"H\" + range1));\n\n    tick\n        .attr(\"opacity\", 1)\n        .attr(\"transform\", function(d) { return transform(position(d) + offset); });\n\n    line\n        .attr(x + \"2\", k * tickSizeInner);\n\n    text\n        .attr(x, k * spacing)\n        .text(format);\n\n    selection.filter(entering)\n        .attr(\"fill\", \"none\")\n        .attr(\"font-size\", 10)\n        .attr(\"font-family\", \"sans-serif\")\n        .attr(\"text-anchor\", orient === right ? \"start\" : orient === left ? \"end\" : \"middle\");\n\n    selection\n        .each(function() { this.__axis = position; });\n  }\n\n  axis.scale = function(_) {\n    return arguments.length ? (scale = _, axis) : scale;\n  };\n\n  axis.ticks = function() {\n    return tickArguments = Array.from(arguments), axis;\n  };\n\n  axis.tickArguments = function(_) {\n    return arguments.length ? (tickArguments = _ == null ? [] : Array.from(_), axis) : tickArguments.slice();\n  };\n\n  axis.tickValues = function(_) {\n    return arguments.length ? (tickValues = _ == null ? null : Array.from(_), axis) : tickValues && tickValues.slice();\n  };\n\n  axis.tickFormat = function(_) {\n    return arguments.length ? (tickFormat = _, axis) : tickFormat;\n  };\n\n  axis.tickSize = function(_) {\n    return arguments.length ? (tickSizeInner = tickSizeOuter = +_, axis) : tickSizeInner;\n  };\n\n  axis.tickSizeInner = function(_) {\n    return arguments.length ? (tickSizeInner = +_, axis) : tickSizeInner;\n  };\n\n  axis.tickSizeOuter = function(_) {\n    return arguments.length ? (tickSizeOuter = +_, axis) : tickSizeOuter;\n  };\n\n  axis.tickPadding = function(_) {\n    return arguments.length ? (tickPadding = +_, axis) : tickPadding;\n  };\n\n  axis.offset = function(_) {\n    return arguments.length ? (offset = +_, axis) : offset;\n  };\n\n  return axis;\n}\n\nexport function axisTop(scale) {\n  return axis(top, scale);\n}\n\nexport function axisRight(scale) {\n  return axis(right, scale);\n}\n\nexport function axisBottom(scale) {\n  return axis(bottom, scale);\n}\n\nexport function axisLeft(scale) {\n  return axis(left, scale);\n}\n","var noop = {value: () => {}};\n\nfunction dispatch() {\n  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n    if (!(t = arguments[i] + \"\") || (t in _) || /[\\s.]/.test(t)) throw new Error(\"illegal type: \" + t);\n    _[t] = [];\n  }\n  return new Dispatch(_);\n}\n\nfunction Dispatch(_) {\n  this._ = _;\n}\n\nfunction parseTypenames(typenames, types) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n    return {type: t, name: name};\n  });\n}\n\nDispatch.prototype = dispatch.prototype = {\n  constructor: Dispatch,\n  on: function(typename, callback) {\n    var _ = this._,\n        T = parseTypenames(typename + \"\", _),\n        t,\n        i = -1,\n        n = T.length;\n\n    // If no callback was specified, return the callback of the given type and name.\n    if (arguments.length < 2) {\n      while (++i < n) if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name))) return t;\n      return;\n    }\n\n    // If a type was specified, set the callback for the given type and name.\n    // Otherwise, if a null callback was specified, remove callbacks of the given name.\n    if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    while (++i < n) {\n      if (t = (typename = T[i]).type) _[t] = set(_[t], typename.name, callback);\n      else if (callback == null) for (t in _) _[t] = set(_[t], typename.name, null);\n    }\n\n    return this;\n  },\n  copy: function() {\n    var copy = {}, _ = this._;\n    for (var t in _) copy[t] = _[t].slice();\n    return new Dispatch(copy);\n  },\n  call: function(type, that) {\n    if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  },\n  apply: function(type, that, args) {\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (var t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  }\n};\n\nfunction get(type, name) {\n  for (var i = 0, n = type.length, c; i < n; ++i) {\n    if ((c = type[i]).name === name) {\n      return c.value;\n    }\n  }\n}\n\nfunction set(type, name, callback) {\n  for (var i = 0, n = type.length; i < n; ++i) {\n    if (type[i].name === name) {\n      type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));\n      break;\n    }\n  }\n  if (callback != null) type.push({name: name, value: callback});\n  return type;\n}\n\nexport default dispatch;\n","function none() {}\n\nexport default function(selector) {\n  return selector == null ? none : function() {\n    return this.querySelector(selector);\n  };\n}\n","// Given something array like (or null), returns something that is strictly an\n// array. This is used to ensure that array-like objects passed to d3.selectAll\n// or selection.selectAll are converted into proper arrays when creating a\n// selection; we don’t ever want to create a selection backed by a live\n// HTMLCollection or NodeList. However, note that selection.selectAll will use a\n// static NodeList as a group, since it safely derived from querySelectorAll.\nexport default function array(x) {\n  return x == null ? [] : Array.isArray(x) ? x : Array.from(x);\n}\n","function empty() {\n  return [];\n}\n\nexport default function(selector) {\n  return selector == null ? empty : function() {\n    return this.querySelectorAll(selector);\n  };\n}\n","export default function(selector) {\n  return function() {\n    return this.matches(selector);\n  };\n}\n\nexport function childMatcher(selector) {\n  return function(node) {\n    return node.matches(selector);\n  };\n}\n\n","import {childMatcher} from \"../matcher.js\";\n\nvar find = Array.prototype.find;\n\nfunction childFind(match) {\n  return function() {\n    return find.call(this.children, match);\n  };\n}\n\nfunction childFirst() {\n  return this.firstElementChild;\n}\n\nexport default function(match) {\n  return this.select(match == null ? childFirst\n      : childFind(typeof match === \"function\" ? match : childMatcher(match)));\n}\n","import {childMatcher} from \"../matcher.js\";\n\nvar filter = Array.prototype.filter;\n\nfunction children() {\n  return Array.from(this.children);\n}\n\nfunction childrenFilter(match) {\n  return function() {\n    return filter.call(this.children, match);\n  };\n}\n\nexport default function(match) {\n  return this.selectAll(match == null ? children\n      : childrenFilter(typeof match === \"function\" ? match : childMatcher(match)));\n}\n","export default function(update) {\n  return new Array(update.length);\n}\n","import sparse from \"./sparse.js\";\nimport {Selection} from \"./index.js\";\n\nexport default function() {\n  return new Selection(this._enter || this._groups.map(sparse), this._parents);\n}\n\nexport function EnterNode(parent, datum) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum;\n}\n\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function(child) { return this._parent.insertBefore(child, this._next); },\n  insertBefore: function(child, next) { return this._parent.insertBefore(child, next); },\n  querySelector: function(selector) { return this._parent.querySelector(selector); },\n  querySelectorAll: function(selector) { return this._parent.querySelectorAll(selector); }\n};\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import {Selection} from \"./index.js\";\nimport {EnterNode} from \"./enter.js\";\nimport constant from \"../constant.js\";\n\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0,\n      node,\n      groupLength = group.length,\n      dataLength = data.length;\n\n  // Put any non-null nodes that fit into update.\n  // Put any null nodes into enter.\n  // Put any remaining data into enter.\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Put any non-null nodes that don’t fit into exit.\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i,\n      node,\n      nodeByKeyValue = new Map,\n      groupLength = group.length,\n      dataLength = data.length,\n      keyValues = new Array(groupLength),\n      keyValue;\n\n  // Compute the key for each node.\n  // If multiple nodes have the same key, the duplicates are added to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = key.call(node, node.__data__, i, group) + \"\";\n      if (nodeByKeyValue.has(keyValue)) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue.set(keyValue, node);\n      }\n    }\n  }\n\n  // Compute the key for each datum.\n  // If there a node associated with this key, join and add it to update.\n  // If there is not (or the key is a duplicate), add it to enter.\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = key.call(parent, data[i], i, data) + \"\";\n    if (node = nodeByKeyValue.get(keyValue)) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue.delete(keyValue);\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Add any remaining nodes that were not bound to data to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && (nodeByKeyValue.get(keyValues[i]) === node)) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction datum(node) {\n  return node.__data__;\n}\n\nexport default function(value, key) {\n  if (!arguments.length) return Array.from(this, datum);\n\n  var bind = key ? bindKey : bindIndex,\n      parents = this._parents,\n      groups = this._groups;\n\n  if (typeof value !== \"function\") value = constant(value);\n\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j],\n        group = groups[j],\n        groupLength = group.length,\n        data = arraylike(value.call(parent, parent && parent.__data__, j, parents)),\n        dataLength = data.length,\n        enterGroup = enter[j] = new Array(dataLength),\n        updateGroup = update[j] = new Array(dataLength),\n        exitGroup = exit[j] = new Array(groupLength);\n\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n\n    // Now connect the enter nodes to their following update node, such that\n    // appendChild can insert the materialized enter node before this node,\n    // rather than at the end of the parent node.\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1) i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength);\n        previous._next = next || null;\n      }\n    }\n  }\n\n  update = new Selection(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n}\n\n// Given some data, this returns an array-like view of it: an object that\n// exposes a length property and allows numeric indexing. Note that unlike\n// selectAll, this isn’t worried about “live” collections because the resulting\n// array will only be used briefly while data is being bound. (It is possible to\n// cause the data to change while iterating by using a key function, but please\n// don’t; we’d rather avoid a gratuitous copy.)\nfunction arraylike(data) {\n  return typeof data === \"object\" && \"length\" in data\n    ? data // Array, TypedArray, NodeList, array-like\n    : Array.from(data); // Map, Set, iterable, string, or anything else\n}\n","import {Selection} from \"./index.js\";\n\nexport default function(compare) {\n  if (!compare) compare = ascending;\n\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n\n  return new Selection(sortgroups, this._parents).order();\n}\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","export var xhtml = \"http://www.w3.org/1999/xhtml\";\n\nexport default {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\n","import namespaces from \"./namespaces.js\";\n\nexport default function(name) {\n  var prefix = name += \"\", i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? {space: namespaces[prefix], local: name} : name; // eslint-disable-line no-prototype-builtins\n}\n","import namespace from \"../namespace.js\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, value) {\n  return function() {\n    this.setAttribute(name, value);\n  };\n}\n\nfunction attrConstantNS(fullname, value) {\n  return function() {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\n\nfunction attrFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttribute(name);\n    else this.setAttribute(name, v);\n  };\n}\n\nfunction attrFunctionNS(fullname, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);\n    else this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name);\n\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local\n        ? node.getAttributeNS(fullname.space, fullname.local)\n        : node.getAttribute(fullname);\n  }\n\n  return this.each((value == null\n      ? (fullname.local ? attrRemoveNS : attrRemove) : (typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)\n      : (fullname.local ? attrConstantNS : attrConstant)))(fullname, value));\n}\n","export default function(node) {\n  return (node.ownerDocument && node.ownerDocument.defaultView) // node is a Node\n      || (node.document && node) // node is a Window\n      || node.defaultView; // node is a Document\n}\n","import defaultView from \"../window.js\";\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, value, priority) {\n  return function() {\n    this.style.setProperty(name, value, priority);\n  };\n}\n\nfunction styleFunction(name, value, priority) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.style.removeProperty(name);\n    else this.style.setProperty(name, v, priority);\n  };\n}\n\nexport default function(name, value, priority) {\n  return arguments.length > 1\n      ? this.each((value == null\n            ? styleRemove : typeof value === \"function\"\n            ? styleFunction\n            : styleConstant)(name, value, priority == null ? \"\" : priority))\n      : styleValue(this.node(), name);\n}\n\nexport function styleValue(node, name) {\n  return node.style.getPropertyValue(name)\n      || defaultView(node).getComputedStyle(node, null).getPropertyValue(name);\n}\n","function propertyRemove(name) {\n  return function() {\n    delete this[name];\n  };\n}\n\nfunction propertyConstant(name, value) {\n  return function() {\n    this[name] = value;\n  };\n}\n\nfunction propertyFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) delete this[name];\n    else this[name] = v;\n  };\n}\n\nexport default function(name, value) {\n  return arguments.length > 1\n      ? this.each((value == null\n          ? propertyRemove : typeof value === \"function\"\n          ? propertyFunction\n          : propertyConstant)(name, value))\n      : this.node()[name];\n}\n","function classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\n\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\n\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\n\nClassList.prototype = {\n  add: function(name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function(name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\n\nfunction classedAdd(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.add(names[i]);\n}\n\nfunction classedRemove(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.remove(names[i]);\n}\n\nfunction classedTrue(names) {\n  return function() {\n    classedAdd(this, names);\n  };\n}\n\nfunction classedFalse(names) {\n  return function() {\n    classedRemove(this, names);\n  };\n}\n\nfunction classedFunction(names, value) {\n  return function() {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\n\nexport default function(name, value) {\n  var names = classArray(name + \"\");\n\n  if (arguments.length < 2) {\n    var list = classList(this.node()), i = -1, n = names.length;\n    while (++i < n) if (!list.contains(names[i])) return false;\n    return true;\n  }\n\n  return this.each((typeof value === \"function\"\n      ? classedFunction : value\n      ? classedTrue\n      : classedFalse)(names, value));\n}\n","function textRemove() {\n  this.textContent = \"\";\n}\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? textRemove : (typeof value === \"function\"\n          ? textFunction\n          : textConstant)(value))\n      : this.node().textContent;\n}\n","function htmlRemove() {\n  this.innerHTML = \"\";\n}\n\nfunction htmlConstant(value) {\n  return function() {\n    this.innerHTML = value;\n  };\n}\n\nfunction htmlFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? htmlRemove : (typeof value === \"function\"\n          ? htmlFunction\n          : htmlConstant)(value))\n      : this.node().innerHTML;\n}\n","function raise() {\n  if (this.nextSibling) this.parentNode.appendChild(this);\n}\n\nexport default function() {\n  return this.each(raise);\n}\n","function lower() {\n  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\n\nexport default function() {\n  return this.each(lower);\n}\n","import namespace from \"./namespace.js\";\nimport {xhtml} from \"./namespaces.js\";\n\nfunction creatorInherit(name) {\n  return function() {\n    var document = this.ownerDocument,\n        uri = this.namespaceURI;\n    return uri === xhtml && document.documentElement.namespaceURI === xhtml\n        ? document.createElement(name)\n        : document.createElementNS(uri, name);\n  };\n}\n\nfunction creatorFixed(fullname) {\n  return function() {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\n\nexport default function(name) {\n  var fullname = namespace(name);\n  return (fullname.local\n      ? creatorFixed\n      : creatorInherit)(fullname);\n}\n","import creator from \"../creator.js\";\nimport selector from \"../selector.js\";\n\nfunction constantNull() {\n  return null;\n}\n\nexport default function(name, before) {\n  var create = typeof name === \"function\" ? name : creator(name),\n      select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function() {\n    return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n  });\n}\n","function remove() {\n  var parent = this.parentNode;\n  if (parent) parent.removeChild(this);\n}\n\nexport default function() {\n  return this.each(remove);\n}\n","function selection_cloneShallow() {\n  var clone = this.cloneNode(false), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nfunction selection_cloneDeep() {\n  var clone = this.cloneNode(true), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nexport default function(deep) {\n  return this.select(deep ? selection_cloneDeep : selection_cloneShallow);\n}\n","function contextListener(listener) {\n  return function(event) {\n    listener.call(this, event, this.__data__);\n  };\n}\n\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    return {type: t, name: name};\n  });\n}\n\nfunction onRemove(typename) {\n  return function() {\n    var on = this.__on;\n    if (!on) return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.options);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i) on.length = i;\n    else delete this.__on;\n  };\n}\n\nfunction onAdd(typename, value, options) {\n  return function() {\n    var on = this.__on, o, listener = contextListener(value);\n    if (on) for (var j = 0, m = on.length; j < m; ++j) {\n      if ((o = on[j]).type === typename.type && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.options);\n        this.addEventListener(o.type, o.listener = listener, o.options = options);\n        o.value = value;\n        return;\n      }\n    }\n    this.addEventListener(typename.type, listener, options);\n    o = {type: typename.type, name: typename.name, value: value, listener: listener, options: options};\n    if (!on) this.__on = [o];\n    else on.push(o);\n  };\n}\n\nexport default function(typename, value, options) {\n  var typenames = parseTypenames(typename + \"\"), i, n = typenames.length, t;\n\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n      for (i = 0, o = on[j]; i < n; ++i) {\n        if ((t = typenames[i]).type === o.type && t.name === o.name) {\n          return o.value;\n        }\n      }\n    }\n    return;\n  }\n\n  on = value ? onAdd : onRemove;\n  for (i = 0; i < n; ++i) this.each(on(typenames[i], value, options));\n  return this;\n}\n","import defaultView from \"../window.js\";\n\nfunction dispatchEvent(node, type, params) {\n  var window = defaultView(node),\n      event = window.CustomEvent;\n\n  if (typeof event === \"function\") {\n    event = new event(type, params);\n  } else {\n    event = window.document.createEvent(\"Event\");\n    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n    else event.initEvent(type, false, false);\n  }\n\n  node.dispatchEvent(event);\n}\n\nfunction dispatchConstant(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params);\n  };\n}\n\nfunction dispatchFunction(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\n\nexport default function(type, params) {\n  return this.each((typeof params === \"function\"\n      ? dispatchFunction\n      : dispatchConstant)(type, params));\n}\n","export default function*() {\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) yield node;\n    }\n  }\n}\n","import selection_select from \"./select.js\";\nimport selection_selectAll from \"./selectAll.js\";\nimport selection_selectChild from \"./selectChild.js\";\nimport selection_selectChildren from \"./selectChildren.js\";\nimport selection_filter from \"./filter.js\";\nimport selection_data from \"./data.js\";\nimport selection_enter from \"./enter.js\";\nimport selection_exit from \"./exit.js\";\nimport selection_join from \"./join.js\";\nimport selection_merge from \"./merge.js\";\nimport selection_order from \"./order.js\";\nimport selection_sort from \"./sort.js\";\nimport selection_call from \"./call.js\";\nimport selection_nodes from \"./nodes.js\";\nimport selection_node from \"./node.js\";\nimport selection_size from \"./size.js\";\nimport selection_empty from \"./empty.js\";\nimport selection_each from \"./each.js\";\nimport selection_attr from \"./attr.js\";\nimport selection_style from \"./style.js\";\nimport selection_property from \"./property.js\";\nimport selection_classed from \"./classed.js\";\nimport selection_text from \"./text.js\";\nimport selection_html from \"./html.js\";\nimport selection_raise from \"./raise.js\";\nimport selection_lower from \"./lower.js\";\nimport selection_append from \"./append.js\";\nimport selection_insert from \"./insert.js\";\nimport selection_remove from \"./remove.js\";\nimport selection_clone from \"./clone.js\";\nimport selection_datum from \"./datum.js\";\nimport selection_on from \"./on.js\";\nimport selection_dispatch from \"./dispatch.js\";\nimport selection_iterator from \"./iterator.js\";\n\nexport var root = [null];\n\nexport function Selection(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\n\nfunction selection() {\n  return new Selection([[document.documentElement]], root);\n}\n\nfunction selection_selection() {\n  return this;\n}\n\nSelection.prototype = selection.prototype = {\n  constructor: Selection,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  selectChild: selection_selectChild,\n  selectChildren: selection_selectChildren,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  join: selection_join,\n  merge: selection_merge,\n  selection: selection_selection,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  clone: selection_clone,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch,\n  [Symbol.iterator]: selection_iterator\n};\n\nexport default selection;\n","import {Selection} from \"./index.js\";\nimport selector from \"../selector.js\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","import {Selection} from \"./index.js\";\nimport array from \"../array.js\";\nimport selectorAll from \"../selectorAll.js\";\n\nfunction arrayAll(select) {\n  return function() {\n    return array(select.apply(this, arguments));\n  };\n}\n\nexport default function(select) {\n  if (typeof select === \"function\") select = arrayAll(select);\n  else select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, parents);\n}\n","import {Selection} from \"./index.js\";\nimport matcher from \"../matcher.js\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","import sparse from \"./sparse.js\";\nimport {Selection} from \"./index.js\";\n\nexport default function() {\n  return new Selection(this._exit || this._groups.map(sparse), this._parents);\n}\n","export default function(onenter, onupdate, onexit) {\n  var enter = this.enter(), update = this, exit = this.exit();\n  if (typeof onenter === \"function\") {\n    enter = onenter(enter);\n    if (enter) enter = enter.selection();\n  } else {\n    enter = enter.append(onenter + \"\");\n  }\n  if (onupdate != null) {\n    update = onupdate(update);\n    if (update) update = update.selection();\n  }\n  if (onexit == null) exit.remove(); else onexit(exit);\n  return enter && update ? enter.merge(update).order() : update;\n}\n","import {Selection} from \"./index.js\";\n\nexport default function(context) {\n  var selection = context.selection ? context.selection() : context;\n\n  for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Selection(merges, this._parents);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n      if (node = group[i]) {\n        if (next && node.compareDocumentPosition(next) ^ 4) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n\n  return this;\n}\n","export default function() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n}\n","export default function() {\n  return Array.from(this);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n\n  return null;\n}\n","export default function() {\n  let size = 0;\n  for (const node of this) ++size; // eslint-disable-line no-unused-vars\n  return size;\n}\n","export default function() {\n  return !this.node();\n}\n","export default function(callback) {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) callback.call(node, node.__data__, i, group);\n    }\n  }\n\n  return this;\n}\n","import creator from \"../creator.js\";\n\nexport default function(name) {\n  var create = typeof name === \"function\" ? name : creator(name);\n  return this.select(function() {\n    return this.appendChild(create.apply(this, arguments));\n  });\n}\n","export default function(value) {\n  return arguments.length\n      ? this.property(\"__data__\", value)\n      : this.node().__data__;\n}\n","import {Selection, root} from \"./selection/index.js\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([[document.querySelector(selector)]], [document.documentElement])\n      : new Selection([[selector]], root);\n}\n","// These are typically used in conjunction with noevent to ensure that we can\n// preventDefault on the event.\nexport const nonpassive = {passive: false};\nexport const nonpassivecapture = {capture: true, passive: false};\n\nexport function nopropagation(event) {\n  event.stopImmediatePropagation();\n}\n\nexport default function(event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import {select} from \"d3-selection\";\nimport noevent, {nonpassivecapture} from \"./noevent.js\";\n\nexport default function(view) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", noevent, nonpassivecapture);\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", noevent, nonpassivecapture);\n  } else {\n    root.__noselect = root.style.MozUserSelect;\n    root.style.MozUserSelect = \"none\";\n  }\n}\n\nexport function yesdrag(view, noclick) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", null);\n  if (noclick) {\n    selection.on(\"click.drag\", noevent, nonpassivecapture);\n    setTimeout(function() { selection.on(\"click.drag\", null); }, 0);\n  }\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", null);\n  } else {\n    root.style.MozUserSelect = root.__noselect;\n    delete root.__noselect;\n  }\n}\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(`^rgb\\\\(${reI},${reI},${reI}\\\\)$`),\n    reRgbPercent = new RegExp(`^rgb\\\\(${reP},${reP},${reP}\\\\)$`),\n    reRgbaInteger = new RegExp(`^rgba\\\\(${reI},${reI},${reI},${reN}\\\\)$`),\n    reRgbaPercent = new RegExp(`^rgba\\\\(${reP},${reP},${reP},${reN}\\\\)$`),\n    reHslPercent = new RegExp(`^hsl\\\\(${reN},${reP},${reP}\\\\)$`),\n    reHslaPercent = new RegExp(`^hsla\\\\(${reN},${reP},${reP},${reN}\\\\)$`);\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHex8: color_formatHex8,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHex8() {\n  return this.rgb().formatHex8();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb() {\n    return this;\n  },\n  clamp() {\n    return new Rgb(clampi(this.r), clampi(this.g), clampi(this.b), clampa(this.opacity));\n  },\n  displayable() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatHex8: rgb_formatHex8,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}`;\n}\n\nfunction rgb_formatHex8() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity) ? 1 : this.opacity) * 255)}`;\n}\n\nfunction rgb_formatRgb() {\n  const a = clampa(this.opacity);\n  return `${a === 1 ? \"rgb(\" : \"rgba(\"}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${a === 1 ? \")\" : `, ${a})`}`;\n}\n\nfunction clampa(opacity) {\n  return isNaN(opacity) ? 1 : Math.max(0, Math.min(1, opacity));\n}\n\nfunction clampi(value) {\n  return Math.max(0, Math.min(255, Math.round(value) || 0));\n}\n\nfunction hex(value) {\n  value = clampi(value);\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  clamp() {\n    return new Hsl(clamph(this.h), clampt(this.s), clampt(this.l), clampa(this.opacity));\n  },\n  displayable() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl() {\n    const a = clampa(this.opacity);\n    return `${a === 1 ? \"hsl(\" : \"hsla(\"}${clamph(this.h)}, ${clampt(this.s) * 100}%, ${clampt(this.l) * 100}%${a === 1 ? \")\" : `, ${a})`}`;\n  }\n}));\n\nfunction clamph(value) {\n  value = (value || 0) % 360;\n  return value < 0 ? value + 360 : value;\n}\n\nfunction clampt(value) {\n  return Math.max(0, Math.min(1, value || 0));\n}\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","export function basis(t1, v0, v1, v2, v3) {\n  var t2 = t1 * t1, t3 = t2 * t1;\n  return ((1 - 3 * t1 + 3 * t2 - t3) * v0\n      + (4 - 6 * t2 + 3 * t3) * v1\n      + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2\n      + t3 * v3) / 6;\n}\n\nexport default function(values) {\n  var n = values.length - 1;\n  return function(t) {\n    var i = t <= 0 ? (t = 0) : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n),\n        v1 = values[i],\n        v2 = values[i + 1],\n        v0 = i > 0 ? values[i - 1] : 2 * v1 - v2,\n        v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","export default x => () => x;\n","import constant from \"./constant.js\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis.js\";\nimport basisClosed from \"./basisClosed.js\";\nimport nogamma, {gamma} from \"./color.js\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","import {basis} from \"./basis.js\";\n\nexport default function(values) {\n  var n = values.length;\n  return function(t) {\n    var i = Math.floor(((t %= 1) < 0 ? ++t : t) * n),\n        v0 = values[(i + n - 1) % n],\n        v1 = values[i % n],\n        v2 = values[(i + 1) % n],\n        v3 = values[(i + 2) % n];\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","import value from \"./value.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  return (isNumberArray(b) ? numberArray : genericArray)(a, b);\n}\n\nexport function genericArray(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(na),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = value(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\n","export default function(a, b) {\n  var d = new Date;\n  return a = +a, b = +b, function(t) {\n    return d.setTime(a * (1 - t) + b * t), d;\n  };\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\n","import value from \"./value.js\";\n\nexport default function(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = value(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n","import number from \"./number.js\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","export default function(a, b) {\n  if (!b) b = [];\n  var n = a ? Math.min(b.length, a.length) : 0,\n      c = b.slice(),\n      i;\n  return function(t) {\n    for (i = 0; i < n; ++i) c[i] = a[i] * (1 - t) + b[i] * t;\n    return c;\n  };\n}\n\nexport function isNumberArray(x) {\n  return ArrayBuffer.isView(x) && !(x instanceof DataView);\n}\n","import {color} from \"d3-color\";\nimport rgb from \"./rgb.js\";\nimport {genericArray} from \"./array.js\";\nimport date from \"./date.js\";\nimport number from \"./number.js\";\nimport object from \"./object.js\";\nimport string from \"./string.js\";\nimport constant from \"./constant.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? number\n      : t === \"string\" ? ((c = color(b)) ? (b = c, rgb) : string)\n      : b instanceof color ? rgb\n      : b instanceof Date ? date\n      : isNumberArray(b) ? numberArray\n      : Array.isArray(b) ? genericArray\n      : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object\n      : number)(a, b);\n}\n","import sourceEvent from \"./sourceEvent.js\";\n\nexport default function(event, node) {\n  event = sourceEvent(event);\n  if (node === undefined) node = event.currentTarget;\n  if (node) {\n    var svg = node.ownerSVGElement || node;\n    if (svg.createSVGPoint) {\n      var point = svg.createSVGPoint();\n      point.x = event.clientX, point.y = event.clientY;\n      point = point.matrixTransform(node.getScreenCTM().inverse());\n      return [point.x, point.y];\n    }\n    if (node.getBoundingClientRect) {\n      var rect = node.getBoundingClientRect();\n      return [event.clientX - rect.left - node.clientLeft, event.clientY - rect.top - node.clientTop];\n    }\n  }\n  return [event.pageX, event.pageY];\n}\n","export default function(event) {\n  let sourceEvent;\n  while (sourceEvent = event.sourceEvent) event = sourceEvent;\n  return event;\n}\n","var frame = 0, // is an animation frame pending?\n    timeout = 0, // is a timeout pending?\n    interval = 0, // are any timers active?\n    pokeDelay = 1000, // how frequently we check for clock skew\n    taskHead,\n    taskTail,\n    clockLast = 0,\n    clockNow = 0,\n    clockSkew = 0,\n    clock = typeof performance === \"object\" && performance.now ? performance : Date,\n    setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) { setTimeout(f, 17); };\n\nexport function now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\n\nfunction clearNow() {\n  clockNow = 0;\n}\n\nexport function Timer() {\n  this._call =\n  this._time =\n  this._next = null;\n}\n\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;\n      else taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\n\nexport function timer(callback, delay, time) {\n  var t = new Timer;\n  t.restart(callback, delay, time);\n  return t;\n}\n\nexport function timerFlush() {\n  now(); // Get the current time, if not already set.\n  ++frame; // Pretend we’ve set an alarm, if we haven’t already.\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(undefined, e);\n    t = t._next;\n  }\n  --frame;\n}\n\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\n\nfunction poke() {\n  var now = clock.now(), delay = now - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\n\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\n\nfunction sleep(time) {\n  if (frame) return; // Soonest alarm already set, or will be.\n  if (timeout) timeout = clearTimeout(timeout);\n  var delay = time - clockNow; // Strictly less than if we recomputed clockNow.\n  if (delay > 24) {\n    if (time < Infinity) timeout = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\n","import {Timer} from \"./timer.js\";\n\nexport default function(callback, delay, time) {\n  var t = new Timer;\n  delay = delay == null ? 0 : +delay;\n  t.restart(elapsed => {\n    t.stop();\n    callback(elapsed + delay);\n  }, delay, time);\n  return t;\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {timer, timeout} from \"d3-timer\";\n\nvar emptyOn = dispatch(\"start\", \"end\", \"cancel\", \"interrupt\");\nvar emptyTween = [];\n\nexport var CREATED = 0;\nexport var SCHEDULED = 1;\nexport var STARTING = 2;\nexport var STARTED = 3;\nexport var RUNNING = 4;\nexport var ENDING = 5;\nexport var ENDED = 6;\n\nexport default function(node, name, id, index, group, timing) {\n  var schedules = node.__transition;\n  if (!schedules) node.__transition = {};\n  else if (id in schedules) return;\n  create(node, id, {\n    name: name,\n    index: index, // For context during callback.\n    group: group, // For context during callback.\n    on: emptyOn,\n    tween: emptyTween,\n    time: timing.time,\n    delay: timing.delay,\n    duration: timing.duration,\n    ease: timing.ease,\n    timer: null,\n    state: CREATED\n  });\n}\n\nexport function init(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > CREATED) throw new Error(\"too late; already scheduled\");\n  return schedule;\n}\n\nexport function set(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > STARTED) throw new Error(\"too late; already running\");\n  return schedule;\n}\n\nexport function get(node, id) {\n  var schedule = node.__transition;\n  if (!schedule || !(schedule = schedule[id])) throw new Error(\"transition not found\");\n  return schedule;\n}\n\nfunction create(node, id, self) {\n  var schedules = node.__transition,\n      tween;\n\n  // Initialize the self timer when the transition is created.\n  // Note the actual delay is not known until the first callback!\n  schedules[id] = self;\n  self.timer = timer(schedule, 0, self.time);\n\n  function schedule(elapsed) {\n    self.state = SCHEDULED;\n    self.timer.restart(start, self.delay, self.time);\n\n    // If the elapsed delay is less than our first sleep, start immediately.\n    if (self.delay <= elapsed) start(elapsed - self.delay);\n  }\n\n  function start(elapsed) {\n    var i, j, n, o;\n\n    // If the state is not SCHEDULED, then we previously errored on start.\n    if (self.state !== SCHEDULED) return stop();\n\n    for (i in schedules) {\n      o = schedules[i];\n      if (o.name !== self.name) continue;\n\n      // While this element already has a starting transition during this frame,\n      // defer starting an interrupting transition until that transition has a\n      // chance to tick (and possibly end); see d3/d3-transition#54!\n      if (o.state === STARTED) return timeout(start);\n\n      // Interrupt the active transition, if any.\n      if (o.state === RUNNING) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"interrupt\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n\n      // Cancel any pre-empted transitions.\n      else if (+i < id) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"cancel\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n    }\n\n    // Defer the first tick to end of the current frame; see d3/d3#1576.\n    // Note the transition may be canceled after start and before the first tick!\n    // Note this must be scheduled before the start event; see d3/d3-transition#16!\n    // Assuming this is successful, subsequent callbacks go straight to tick.\n    timeout(function() {\n      if (self.state === STARTED) {\n        self.state = RUNNING;\n        self.timer.restart(tick, self.delay, self.time);\n        tick(elapsed);\n      }\n    });\n\n    // Dispatch the start event.\n    // Note this must be done before the tween are initialized.\n    self.state = STARTING;\n    self.on.call(\"start\", node, node.__data__, self.index, self.group);\n    if (self.state !== STARTING) return; // interrupted\n    self.state = STARTED;\n\n    // Initialize the tween, deleting null tween.\n    tween = new Array(n = self.tween.length);\n    for (i = 0, j = -1; i < n; ++i) {\n      if (o = self.tween[i].value.call(node, node.__data__, self.index, self.group)) {\n        tween[++j] = o;\n      }\n    }\n    tween.length = j + 1;\n  }\n\n  function tick(elapsed) {\n    var t = elapsed < self.duration ? self.ease.call(null, elapsed / self.duration) : (self.timer.restart(stop), self.state = ENDING, 1),\n        i = -1,\n        n = tween.length;\n\n    while (++i < n) {\n      tween[i].call(node, t);\n    }\n\n    // Dispatch the end event.\n    if (self.state === ENDING) {\n      self.on.call(\"end\", node, node.__data__, self.index, self.group);\n      stop();\n    }\n  }\n\n  function stop() {\n    self.state = ENDED;\n    self.timer.stop();\n    delete schedules[id];\n    for (var i in schedules) return; // eslint-disable-line no-unused-vars\n    delete node.__transition;\n  }\n}\n","import {STARTING, ENDING, ENDED} from \"./transition/schedule.js\";\n\nexport default function(node, name) {\n  var schedules = node.__transition,\n      schedule,\n      active,\n      empty = true,\n      i;\n\n  if (!schedules) return;\n\n  name = name == null ? null : name + \"\";\n\n  for (i in schedules) {\n    if ((schedule = schedules[i]).name !== name) { empty = false; continue; }\n    active = schedule.state > STARTING && schedule.state < ENDING;\n    schedule.state = ENDED;\n    schedule.timer.stop();\n    schedule.on.call(active ? \"interrupt\" : \"cancel\", node, node.__data__, schedule.index, schedule.group);\n    delete schedules[i];\n  }\n\n  if (empty) delete node.__transition;\n}\n","var degrees = 180 / Math.PI;\n\nexport var identity = {\n  translateX: 0,\n  translateY: 0,\n  rotate: 0,\n  skewX: 0,\n  scaleX: 1,\n  scaleY: 1\n};\n\nexport default function(a, b, c, d, e, f) {\n  var scaleX, scaleY, skewX;\n  if (scaleX = Math.sqrt(a * a + b * b)) a /= scaleX, b /= scaleX;\n  if (skewX = a * c + b * d) c -= a * skewX, d -= b * skewX;\n  if (scaleY = Math.sqrt(c * c + d * d)) c /= scaleY, d /= scaleY, skewX /= scaleY;\n  if (a * d < b * c) a = -a, b = -b, skewX = -skewX, scaleX = -scaleX;\n  return {\n    translateX: e,\n    translateY: f,\n    rotate: Math.atan2(b, a) * degrees,\n    skewX: Math.atan(skewX) * degrees,\n    scaleX: scaleX,\n    scaleY: scaleY\n  };\n}\n","import decompose, {identity} from \"./decompose.js\";\n\nvar svgNode;\n\n/* eslint-disable no-undef */\nexport function parseCss(value) {\n  const m = new (typeof DOMMatrix === \"function\" ? DOMMatrix : WebKitCSSMatrix)(value + \"\");\n  return m.isIdentity ? identity : decompose(m.a, m.b, m.c, m.d, m.e, m.f);\n}\n\nexport function parseSvg(value) {\n  if (value == null) return identity;\n  if (!svgNode) svgNode = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n  svgNode.setAttribute(\"transform\", value);\n  if (!(value = svgNode.transform.baseVal.consolidate())) return identity;\n  value = value.matrix;\n  return decompose(value.a, value.b, value.c, value.d, value.e, value.f);\n}\n","import number from \"../number.js\";\nimport {parseCss, parseSvg} from \"./parse.js\";\n\nfunction interpolateTransform(parse, pxComma, pxParen, degParen) {\n\n  function pop(s) {\n    return s.length ? s.pop() + \" \" : \"\";\n  }\n\n  function translate(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(\"translate(\", null, pxComma, null, pxParen);\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb || yb) {\n      s.push(\"translate(\" + xb + pxComma + yb + pxParen);\n    }\n  }\n\n  function rotate(a, b, s, q) {\n    if (a !== b) {\n      if (a - b > 180) b += 360; else if (b - a > 180) a += 360; // shortest path\n      q.push({i: s.push(pop(s) + \"rotate(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"rotate(\" + b + degParen);\n    }\n  }\n\n  function skewX(a, b, s, q) {\n    if (a !== b) {\n      q.push({i: s.push(pop(s) + \"skewX(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"skewX(\" + b + degParen);\n    }\n  }\n\n  function scale(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(pop(s) + \"scale(\", null, \",\", null, \")\");\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb !== 1 || yb !== 1) {\n      s.push(pop(s) + \"scale(\" + xb + \",\" + yb + \")\");\n    }\n  }\n\n  return function(a, b) {\n    var s = [], // string constants and placeholders\n        q = []; // number interpolators\n    a = parse(a), b = parse(b);\n    translate(a.translateX, a.translateY, b.translateX, b.translateY, s, q);\n    rotate(a.rotate, b.rotate, s, q);\n    skewX(a.skewX, b.skewX, s, q);\n    scale(a.scaleX, a.scaleY, b.scaleX, b.scaleY, s, q);\n    a = b = null; // gc\n    return function(t) {\n      var i = -1, n = q.length, o;\n      while (++i < n) s[(o = q[i]).i] = o.x(t);\n      return s.join(\"\");\n    };\n  };\n}\n\nexport var interpolateTransformCss = interpolateTransform(parseCss, \"px, \", \"px)\", \"deg)\");\nexport var interpolateTransformSvg = interpolateTransform(parseSvg, \", \", \")\", \")\");\n","import {get, set} from \"./schedule.js\";\n\nfunction tweenRemove(id, name) {\n  var tween0, tween1;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and we’re done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = tween0 = tween;\n      for (var i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1 = tween1.slice();\n          tween1.splice(i, 1);\n          break;\n        }\n      }\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nfunction tweenFunction(id, name, value) {\n  var tween0, tween1;\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and we’re done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = (tween0 = tween).slice();\n      for (var t = {name: name, value: value}, i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1[i] = t;\n          break;\n        }\n      }\n      if (i === n) tween1.push(t);\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nexport default function(name, value) {\n  var id = this._id;\n\n  name += \"\";\n\n  if (arguments.length < 2) {\n    var tween = get(this.node(), id).tween;\n    for (var i = 0, n = tween.length, t; i < n; ++i) {\n      if ((t = tween[i]).name === name) {\n        return t.value;\n      }\n    }\n    return null;\n  }\n\n  return this.each((value == null ? tweenRemove : tweenFunction)(id, name, value));\n}\n\nexport function tweenValue(transition, name, value) {\n  var id = transition._id;\n\n  transition.each(function() {\n    var schedule = set(this, id);\n    (schedule.value || (schedule.value = {}))[name] = value.apply(this, arguments);\n  });\n\n  return function(node) {\n    return get(node, id).value[name];\n  };\n}\n","import {color} from \"d3-color\";\nimport {interpolateNumber, interpolateRgb, interpolateString} from \"d3-interpolate\";\n\nexport default function(a, b) {\n  var c;\n  return (typeof b === \"number\" ? interpolateNumber\n      : b instanceof color ? interpolateRgb\n      : (c = color(b)) ? (b = c, interpolateRgb)\n      : interpolateString)(a, b);\n}\n","import {interpolateTransformSvg as interpolateTransform} from \"d3-interpolate\";\nimport {namespace} from \"d3-selection\";\nimport {tweenValue} from \"./tween.js\";\nimport interpolate from \"./interpolate.js\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttribute(name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrConstantNS(fullname, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttributeNS(fullname.space, fullname.local);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttribute(name);\n    string0 = this.getAttribute(name);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction attrFunctionNS(fullname, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttributeNS(fullname.space, fullname.local);\n    string0 = this.getAttributeNS(fullname.space, fullname.local);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name), i = fullname === \"transform\" ? interpolateTransform : interpolate;\n  return this.attrTween(name, typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)(fullname, i, tweenValue(this, \"attr.\" + name, value))\n      : value == null ? (fullname.local ? attrRemoveNS : attrRemove)(fullname)\n      : (fullname.local ? attrConstantNS : attrConstant)(fullname, i, value));\n}\n","import {namespace} from \"d3-selection\";\n\nfunction attrInterpolate(name, i) {\n  return function(t) {\n    this.setAttribute(name, i.call(this, t));\n  };\n}\n\nfunction attrInterpolateNS(fullname, i) {\n  return function(t) {\n    this.setAttributeNS(fullname.space, fullname.local, i.call(this, t));\n  };\n}\n\nfunction attrTweenNS(fullname, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolateNS(fullname, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nfunction attrTween(name, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolate(name, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value) {\n  var key = \"attr.\" + name;\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  var fullname = namespace(name);\n  return this.tween(key, (fullname.local ? attrTweenNS : attrTween)(fullname, value));\n}\n","import {get, init} from \"./schedule.js\";\n\nfunction delayFunction(id, value) {\n  return function() {\n    init(this, id).delay = +value.apply(this, arguments);\n  };\n}\n\nfunction delayConstant(id, value) {\n  return value = +value, function() {\n    init(this, id).delay = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? delayFunction\n          : delayConstant)(id, value))\n      : get(this.node(), id).delay;\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction durationFunction(id, value) {\n  return function() {\n    set(this, id).duration = +value.apply(this, arguments);\n  };\n}\n\nfunction durationConstant(id, value) {\n  return value = +value, function() {\n    set(this, id).duration = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? durationFunction\n          : durationConstant)(id, value))\n      : get(this.node(), id).duration;\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction easeConstant(id, value) {\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    set(this, id).ease = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each(easeConstant(id, value))\n      : get(this.node(), id).ease;\n}\n","import {get, set, init} from \"./schedule.js\";\n\nfunction start(name) {\n  return (name + \"\").trim().split(/^|\\s+/).every(function(t) {\n    var i = t.indexOf(\".\");\n    if (i >= 0) t = t.slice(0, i);\n    return !t || t === \"start\";\n  });\n}\n\nfunction onFunction(id, name, listener) {\n  var on0, on1, sit = start(name) ? init : set;\n  return function() {\n    var schedule = sit(this, id),\n        on = schedule.on;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and we’re done!\n    // Otherwise, copy-on-write.\n    if (on !== on0) (on1 = (on0 = on).copy()).on(name, listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, listener) {\n  var id = this._id;\n\n  return arguments.length < 2\n      ? get(this.node(), id).on.on(name)\n      : this.each(onFunction(id, name, listener));\n}\n","import {selection} from \"d3-selection\";\n\nvar Selection = selection.prototype.constructor;\n\nexport default function() {\n  return new Selection(this._groups, this._parents);\n}\n","import {interpolateTransformCss as interpolateTransform} from \"d3-interpolate\";\nimport {style} from \"d3-selection\";\nimport {set} from \"./schedule.js\";\nimport {tweenValue} from \"./tween.js\";\nimport interpolate from \"./interpolate.js\";\n\nfunction styleNull(name, interpolate) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        string1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, string10 = string1);\n  };\n}\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = style(this, name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction styleFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        value1 = value(this),\n        string1 = value1 + \"\";\n    if (value1 == null) string1 = value1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction styleMaybeRemove(id, name) {\n  var on0, on1, listener0, key = \"style.\" + name, event = \"end.\" + key, remove;\n  return function() {\n    var schedule = set(this, id),\n        on = schedule.on,\n        listener = schedule.value[key] == null ? remove || (remove = styleRemove(name)) : undefined;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and we’re done!\n    // Otherwise, copy-on-write.\n    if (on !== on0 || listener0 !== listener) (on1 = (on0 = on).copy()).on(event, listener0 = listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, value, priority) {\n  var i = (name += \"\") === \"transform\" ? interpolateTransform : interpolate;\n  return value == null ? this\n      .styleTween(name, styleNull(name, i))\n      .on(\"end.style.\" + name, styleRemove(name))\n    : typeof value === \"function\" ? this\n      .styleTween(name, styleFunction(name, i, tweenValue(this, \"style.\" + name, value)))\n      .each(styleMaybeRemove(this._id, name))\n    : this\n      .styleTween(name, styleConstant(name, i, value), priority)\n      .on(\"end.style.\" + name, null);\n}\n","function styleInterpolate(name, i, priority) {\n  return function(t) {\n    this.style.setProperty(name, i.call(this, t), priority);\n  };\n}\n\nfunction styleTween(name, value, priority) {\n  var t, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t = (i0 = i) && styleInterpolate(name, i, priority);\n    return t;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value, priority) {\n  var key = \"style.\" + (name += \"\");\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, styleTween(name, value, priority == null ? \"\" : priority));\n}\n","function textInterpolate(i) {\n  return function(t) {\n    this.textContent = i.call(this, t);\n  };\n}\n\nfunction textTween(value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && textInterpolate(i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(value) {\n  var key = \"text\";\n  if (arguments.length < 1) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, textTween(value));\n}\n","import {selection} from \"d3-selection\";\nimport transition_attr from \"./attr.js\";\nimport transition_attrTween from \"./attrTween.js\";\nimport transition_delay from \"./delay.js\";\nimport transition_duration from \"./duration.js\";\nimport transition_ease from \"./ease.js\";\nimport transition_easeVarying from \"./easeVarying.js\";\nimport transition_filter from \"./filter.js\";\nimport transition_merge from \"./merge.js\";\nimport transition_on from \"./on.js\";\nimport transition_remove from \"./remove.js\";\nimport transition_select from \"./select.js\";\nimport transition_selectAll from \"./selectAll.js\";\nimport transition_selection from \"./selection.js\";\nimport transition_style from \"./style.js\";\nimport transition_styleTween from \"./styleTween.js\";\nimport transition_text from \"./text.js\";\nimport transition_textTween from \"./textTween.js\";\nimport transition_transition from \"./transition.js\";\nimport transition_tween from \"./tween.js\";\nimport transition_end from \"./end.js\";\n\nvar id = 0;\n\nexport function Transition(groups, parents, name, id) {\n  this._groups = groups;\n  this._parents = parents;\n  this._name = name;\n  this._id = id;\n}\n\nexport default function transition(name) {\n  return selection().transition(name);\n}\n\nexport function newId() {\n  return ++id;\n}\n\nvar selection_prototype = selection.prototype;\n\nTransition.prototype = transition.prototype = {\n  constructor: Transition,\n  select: transition_select,\n  selectAll: transition_selectAll,\n  selectChild: selection_prototype.selectChild,\n  selectChildren: selection_prototype.selectChildren,\n  filter: transition_filter,\n  merge: transition_merge,\n  selection: transition_selection,\n  transition: transition_transition,\n  call: selection_prototype.call,\n  nodes: selection_prototype.nodes,\n  node: selection_prototype.node,\n  size: selection_prototype.size,\n  empty: selection_prototype.empty,\n  each: selection_prototype.each,\n  on: transition_on,\n  attr: transition_attr,\n  attrTween: transition_attrTween,\n  style: transition_style,\n  styleTween: transition_styleTween,\n  text: transition_text,\n  textTween: transition_textTween,\n  remove: transition_remove,\n  tween: transition_tween,\n  delay: transition_delay,\n  duration: transition_duration,\n  ease: transition_ease,\n  easeVarying: transition_easeVarying,\n  end: transition_end,\n  [Symbol.iterator]: selection_prototype[Symbol.iterator]\n};\n","import {selector} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n        schedule(subgroup[i], name, id, i, subgroup, get(node, id));\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, name, id);\n}\n","import {selectorAll} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        for (var children = select.call(node, node.__data__, i, group), child, inherit = get(node, id), k = 0, l = children.length; k < l; ++k) {\n          if (child = children[k]) {\n            schedule(child, name, id, k, children, inherit);\n          }\n        }\n        subgroups.push(children);\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, parents, name, id);\n}\n","import {matcher} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, this._name, this._id);\n}\n","import {Transition} from \"./index.js\";\n\nexport default function(transition) {\n  if (transition._id !== this._id) throw new Error;\n\n  for (var groups0 = this._groups, groups1 = transition._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Transition(merges, this._parents, this._name, this._id);\n}\n","import {Transition, newId} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function() {\n  var name = this._name,\n      id0 = this._id,\n      id1 = newId();\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        var inherit = get(node, id0);\n        schedule(node, name, id1, i, group, {\n          time: inherit.time + inherit.delay + inherit.duration,\n          delay: 0,\n          duration: inherit.duration,\n          ease: inherit.ease\n        });\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id1);\n}\n","import {tweenValue} from \"./tween.js\";\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var value1 = value(this);\n    this.textContent = value1 == null ? \"\" : value1;\n  };\n}\n\nexport default function(value) {\n  return this.tween(\"text\", typeof value === \"function\"\n      ? textFunction(tweenValue(this, \"text\", value))\n      : textConstant(value == null ? \"\" : value + \"\"));\n}\n","function removeFunction(id) {\n  return function() {\n    var parent = this.parentNode;\n    for (var i in this.__transition) if (+i !== id) return;\n    if (parent) parent.removeChild(this);\n  };\n}\n\nexport default function() {\n  return this.on(\"end.remove\", removeFunction(this._id));\n}\n","import {set} from \"./schedule.js\";\n\nfunction easeVarying(id, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (typeof v !== \"function\") throw new Error;\n    set(this, id).ease = v;\n  };\n}\n\nexport default function(value) {\n  if (typeof value !== \"function\") throw new Error;\n  return this.each(easeVarying(this._id, value));\n}\n","import {set} from \"./schedule.js\";\n\nexport default function() {\n  var on0, on1, that = this, id = that._id, size = that.size();\n  return new Promise(function(resolve, reject) {\n    var cancel = {value: reject},\n        end = {value: function() { if (--size === 0) resolve(); }};\n\n    that.each(function() {\n      var schedule = set(this, id),\n          on = schedule.on;\n\n      // If this node shared a dispatch with the previous node,\n      // just assign the updated shared dispatch and we’re done!\n      // Otherwise, copy-on-write.\n      if (on !== on0) {\n        on1 = (on0 = on).copy();\n        on1._.cancel.push(cancel);\n        on1._.interrupt.push(cancel);\n        on1._.end.push(end);\n      }\n\n      schedule.on = on1;\n    });\n\n    // The selection was empty, resolve end immediately\n    if (size === 0) resolve();\n  });\n}\n","import {Transition, newId} from \"../transition/index.js\";\nimport schedule from \"../transition/schedule.js\";\nimport {easeCubicInOut} from \"d3-ease\";\nimport {now} from \"d3-timer\";\n\nvar defaultTiming = {\n  time: null, // Set on use.\n  delay: 0,\n  duration: 250,\n  ease: easeCubicInOut\n};\n\nfunction inherit(node, id) {\n  var timing;\n  while (!(timing = node.__transition) || !(timing = timing[id])) {\n    if (!(node = node.parentNode)) {\n      throw new Error(`transition ${id} not found`);\n    }\n  }\n  return timing;\n}\n\nexport default function(name) {\n  var id,\n      timing;\n\n  if (name instanceof Transition) {\n    id = name._id, name = name._name;\n  } else {\n    id = newId(), (timing = defaultTiming).time = now(), name = name == null ? null : name + \"\";\n  }\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        schedule(node, name, id, i, group, timing || inherit(node, id));\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id);\n}\n","export function cubicIn(t) {\n  return t * t * t;\n}\n\nexport function cubicOut(t) {\n  return --t * t * t + 1;\n}\n\nexport function cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}\n","import {selection} from \"d3-selection\";\nimport selection_interrupt from \"./interrupt.js\";\nimport selection_transition from \"./transition.js\";\n\nselection.prototype.interrupt = selection_interrupt;\nselection.prototype.transition = selection_transition;\n","import interrupt from \"../interrupt.js\";\n\nexport default function(name) {\n  return this.each(function() {\n    interrupt(this, name);\n  });\n}\n","export default x => () => x;\n","export default function BrushEvent(type, {\n  sourceEvent,\n  target,\n  selection,\n  mode,\n  dispatch\n}) {\n  Object.defineProperties(this, {\n    type: {value: type, enumerable: true, configurable: true},\n    sourceEvent: {value: sourceEvent, enumerable: true, configurable: true},\n    target: {value: target, enumerable: true, configurable: true},\n    selection: {value: selection, enumerable: true, configurable: true},\n    mode: {value: mode, enumerable: true, configurable: true},\n    _: {value: dispatch}\n  });\n}\n","export function nopropagation(event) {\n  event.stopImmediatePropagation();\n}\n\nexport default function(event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {dragDisable, dragEnable} from \"d3-drag\";\nimport {interpolate} from \"d3-interpolate\";\nimport {pointer, select} from \"d3-selection\";\nimport {interrupt} from \"d3-transition\";\nimport constant from \"./constant.js\";\nimport BrushEvent from \"./event.js\";\nimport noevent, {nopropagation} from \"./noevent.js\";\n\nvar MODE_DRAG = {name: \"drag\"},\n    MODE_SPACE = {name: \"space\"},\n    MODE_HANDLE = {name: \"handle\"},\n    MODE_CENTER = {name: \"center\"};\n\nconst {abs, max, min} = Math;\n\nfunction number1(e) {\n  return [+e[0], +e[1]];\n}\n\nfunction number2(e) {\n  return [number1(e[0]), number1(e[1])];\n}\n\nvar X = {\n  name: \"x\",\n  handles: [\"w\", \"e\"].map(type),\n  input: function(x, e) { return x == null ? null : [[+x[0], e[0][1]], [+x[1], e[1][1]]]; },\n  output: function(xy) { return xy && [xy[0][0], xy[1][0]]; }\n};\n\nvar Y = {\n  name: \"y\",\n  handles: [\"n\", \"s\"].map(type),\n  input: function(y, e) { return y == null ? null : [[e[0][0], +y[0]], [e[1][0], +y[1]]]; },\n  output: function(xy) { return xy && [xy[0][1], xy[1][1]]; }\n};\n\nvar XY = {\n  name: \"xy\",\n  handles: [\"n\", \"w\", \"e\", \"s\", \"nw\", \"ne\", \"sw\", \"se\"].map(type),\n  input: function(xy) { return xy == null ? null : number2(xy); },\n  output: function(xy) { return xy; }\n};\n\nvar cursors = {\n  overlay: \"crosshair\",\n  selection: \"move\",\n  n: \"ns-resize\",\n  e: \"ew-resize\",\n  s: \"ns-resize\",\n  w: \"ew-resize\",\n  nw: \"nwse-resize\",\n  ne: \"nesw-resize\",\n  se: \"nwse-resize\",\n  sw: \"nesw-resize\"\n};\n\nvar flipX = {\n  e: \"w\",\n  w: \"e\",\n  nw: \"ne\",\n  ne: \"nw\",\n  se: \"sw\",\n  sw: \"se\"\n};\n\nvar flipY = {\n  n: \"s\",\n  s: \"n\",\n  nw: \"sw\",\n  ne: \"se\",\n  se: \"ne\",\n  sw: \"nw\"\n};\n\nvar signsX = {\n  overlay: +1,\n  selection: +1,\n  n: null,\n  e: +1,\n  s: null,\n  w: -1,\n  nw: -1,\n  ne: +1,\n  se: +1,\n  sw: -1\n};\n\nvar signsY = {\n  overlay: +1,\n  selection: +1,\n  n: -1,\n  e: null,\n  s: +1,\n  w: null,\n  nw: -1,\n  ne: -1,\n  se: +1,\n  sw: +1\n};\n\nfunction type(t) {\n  return {type: t};\n}\n\n// Ignore right-click, since that should open the context menu.\nfunction defaultFilter(event) {\n  return !event.ctrlKey && !event.button;\n}\n\nfunction defaultExtent() {\n  var svg = this.ownerSVGElement || this;\n  if (svg.hasAttribute(\"viewBox\")) {\n    svg = svg.viewBox.baseVal;\n    return [[svg.x, svg.y], [svg.x + svg.width, svg.y + svg.height]];\n  }\n  return [[0, 0], [svg.width.baseVal.value, svg.height.baseVal.value]];\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\n// Like d3.local, but with the name “__brush” rather than auto-generated.\nfunction local(node) {\n  while (!node.__brush) if (!(node = node.parentNode)) return;\n  return node.__brush;\n}\n\nfunction empty(extent) {\n  return extent[0][0] === extent[1][0]\n      || extent[0][1] === extent[1][1];\n}\n\nexport function brushSelection(node) {\n  var state = node.__brush;\n  return state ? state.dim.output(state.selection) : null;\n}\n\nexport function brushX() {\n  return brush(X);\n}\n\nexport function brushY() {\n  return brush(Y);\n}\n\nexport default function() {\n  return brush(XY);\n}\n\nfunction brush(dim) {\n  var extent = defaultExtent,\n      filter = defaultFilter,\n      touchable = defaultTouchable,\n      keys = true,\n      listeners = dispatch(\"start\", \"brush\", \"end\"),\n      handleSize = 6,\n      touchending;\n\n  function brush(group) {\n    var overlay = group\n        .property(\"__brush\", initialize)\n      .selectAll(\".overlay\")\n      .data([type(\"overlay\")]);\n\n    overlay.enter().append(\"rect\")\n        .attr(\"class\", \"overlay\")\n        .attr(\"pointer-events\", \"all\")\n        .attr(\"cursor\", cursors.overlay)\n      .merge(overlay)\n        .each(function() {\n          var extent = local(this).extent;\n          select(this)\n              .attr(\"x\", extent[0][0])\n              .attr(\"y\", extent[0][1])\n              .attr(\"width\", extent[1][0] - extent[0][0])\n              .attr(\"height\", extent[1][1] - extent[0][1]);\n        });\n\n    group.selectAll(\".selection\")\n      .data([type(\"selection\")])\n      .enter().append(\"rect\")\n        .attr(\"class\", \"selection\")\n        .attr(\"cursor\", cursors.selection)\n        .attr(\"fill\", \"#777\")\n        .attr(\"fill-opacity\", 0.3)\n        .attr(\"stroke\", \"#fff\")\n        .attr(\"shape-rendering\", \"crispEdges\");\n\n    var handle = group.selectAll(\".handle\")\n      .data(dim.handles, function(d) { return d.type; });\n\n    handle.exit().remove();\n\n    handle.enter().append(\"rect\")\n        .attr(\"class\", function(d) { return \"handle handle--\" + d.type; })\n        .attr(\"cursor\", function(d) { return cursors[d.type]; });\n\n    group\n        .each(redraw)\n        .attr(\"fill\", \"none\")\n        .attr(\"pointer-events\", \"all\")\n        .on(\"mousedown.brush\", started)\n      .filter(touchable)\n        .on(\"touchstart.brush\", started)\n        .on(\"touchmove.brush\", touchmoved)\n        .on(\"touchend.brush touchcancel.brush\", touchended)\n        .style(\"touch-action\", \"none\")\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  brush.move = function(group, selection, event) {\n    if (group.tween) {\n      group\n          .on(\"start.brush\", function(event) { emitter(this, arguments).beforestart().start(event); })\n          .on(\"interrupt.brush end.brush\", function(event) { emitter(this, arguments).end(event); })\n          .tween(\"brush\", function() {\n            var that = this,\n                state = that.__brush,\n                emit = emitter(that, arguments),\n                selection0 = state.selection,\n                selection1 = dim.input(typeof selection === \"function\" ? selection.apply(this, arguments) : selection, state.extent),\n                i = interpolate(selection0, selection1);\n\n            function tween(t) {\n              state.selection = t === 1 && selection1 === null ? null : i(t);\n              redraw.call(that);\n              emit.brush();\n            }\n\n            return selection0 !== null && selection1 !== null ? tween : tween(1);\n          });\n    } else {\n      group\n          .each(function() {\n            var that = this,\n                args = arguments,\n                state = that.__brush,\n                selection1 = dim.input(typeof selection === \"function\" ? selection.apply(that, args) : selection, state.extent),\n                emit = emitter(that, args).beforestart();\n\n            interrupt(that);\n            state.selection = selection1 === null ? null : selection1;\n            redraw.call(that);\n            emit.start(event).brush(event).end(event);\n          });\n    }\n  };\n\n  brush.clear = function(group, event) {\n    brush.move(group, null, event);\n  };\n\n  function redraw() {\n    var group = select(this),\n        selection = local(this).selection;\n\n    if (selection) {\n      group.selectAll(\".selection\")\n          .style(\"display\", null)\n          .attr(\"x\", selection[0][0])\n          .attr(\"y\", selection[0][1])\n          .attr(\"width\", selection[1][0] - selection[0][0])\n          .attr(\"height\", selection[1][1] - selection[0][1]);\n\n      group.selectAll(\".handle\")\n          .style(\"display\", null)\n          .attr(\"x\", function(d) { return d.type[d.type.length - 1] === \"e\" ? selection[1][0] - handleSize / 2 : selection[0][0] - handleSize / 2; })\n          .attr(\"y\", function(d) { return d.type[0] === \"s\" ? selection[1][1] - handleSize / 2 : selection[0][1] - handleSize / 2; })\n          .attr(\"width\", function(d) { return d.type === \"n\" || d.type === \"s\" ? selection[1][0] - selection[0][0] + handleSize : handleSize; })\n          .attr(\"height\", function(d) { return d.type === \"e\" || d.type === \"w\" ? selection[1][1] - selection[0][1] + handleSize : handleSize; });\n    }\n\n    else {\n      group.selectAll(\".selection,.handle\")\n          .style(\"display\", \"none\")\n          .attr(\"x\", null)\n          .attr(\"y\", null)\n          .attr(\"width\", null)\n          .attr(\"height\", null);\n    }\n  }\n\n  function emitter(that, args, clean) {\n    var emit = that.__brush.emitter;\n    return emit && (!clean || !emit.clean) ? emit : new Emitter(that, args, clean);\n  }\n\n  function Emitter(that, args, clean) {\n    this.that = that;\n    this.args = args;\n    this.state = that.__brush;\n    this.active = 0;\n    this.clean = clean;\n  }\n\n  Emitter.prototype = {\n    beforestart: function() {\n      if (++this.active === 1) this.state.emitter = this, this.starting = true;\n      return this;\n    },\n    start: function(event, mode) {\n      if (this.starting) this.starting = false, this.emit(\"start\", event, mode);\n      else this.emit(\"brush\", event);\n      return this;\n    },\n    brush: function(event, mode) {\n      this.emit(\"brush\", event, mode);\n      return this;\n    },\n    end: function(event, mode) {\n      if (--this.active === 0) delete this.state.emitter, this.emit(\"end\", event, mode);\n      return this;\n    },\n    emit: function(type, event, mode) {\n      var d = select(this.that).datum();\n      listeners.call(\n        type,\n        this.that,\n        new BrushEvent(type, {\n          sourceEvent: event,\n          target: brush,\n          selection: dim.output(this.state.selection),\n          mode,\n          dispatch: listeners\n        }),\n        d\n      );\n    }\n  };\n\n  function started(event) {\n    if (touchending && !event.touches) return;\n    if (!filter.apply(this, arguments)) return;\n\n    var that = this,\n        type = event.target.__data__.type,\n        mode = (keys && event.metaKey ? type = \"overlay\" : type) === \"selection\" ? MODE_DRAG : (keys && event.altKey ? MODE_CENTER : MODE_HANDLE),\n        signX = dim === Y ? null : signsX[type],\n        signY = dim === X ? null : signsY[type],\n        state = local(that),\n        extent = state.extent,\n        selection = state.selection,\n        W = extent[0][0], w0, w1,\n        N = extent[0][1], n0, n1,\n        E = extent[1][0], e0, e1,\n        S = extent[1][1], s0, s1,\n        dx = 0,\n        dy = 0,\n        moving,\n        shifting = signX && signY && keys && event.shiftKey,\n        lockX,\n        lockY,\n        points = Array.from(event.touches || [event], t => {\n          const i = t.identifier;\n          t = pointer(t, that);\n          t.point0 = t.slice();\n          t.identifier = i;\n          return t;\n        });\n\n    interrupt(that);\n    var emit = emitter(that, arguments, true).beforestart();\n\n    if (type === \"overlay\") {\n      if (selection) moving = true;\n      const pts = [points[0], points[1] || points[0]];\n      state.selection = selection = [[\n          w0 = dim === Y ? W : min(pts[0][0], pts[1][0]),\n          n0 = dim === X ? N : min(pts[0][1], pts[1][1])\n        ], [\n          e0 = dim === Y ? E : max(pts[0][0], pts[1][0]),\n          s0 = dim === X ? S : max(pts[0][1], pts[1][1])\n        ]];\n      if (points.length > 1) move(event);\n    } else {\n      w0 = selection[0][0];\n      n0 = selection[0][1];\n      e0 = selection[1][0];\n      s0 = selection[1][1];\n    }\n\n    w1 = w0;\n    n1 = n0;\n    e1 = e0;\n    s1 = s0;\n\n    var group = select(that)\n        .attr(\"pointer-events\", \"none\");\n\n    var overlay = group.selectAll(\".overlay\")\n        .attr(\"cursor\", cursors[type]);\n\n    if (event.touches) {\n      emit.moved = moved;\n      emit.ended = ended;\n    } else {\n      var view = select(event.view)\n          .on(\"mousemove.brush\", moved, true)\n          .on(\"mouseup.brush\", ended, true);\n      if (keys) view\n          .on(\"keydown.brush\", keydowned, true)\n          .on(\"keyup.brush\", keyupped, true)\n\n      dragDisable(event.view);\n    }\n\n    redraw.call(that);\n    emit.start(event, mode.name);\n\n    function moved(event) {\n      for (const p of event.changedTouches || [event]) {\n        for (const d of points)\n          if (d.identifier === p.identifier) d.cur = pointer(p, that);\n      }\n      if (shifting && !lockX && !lockY && points.length === 1) {\n        const point = points[0];\n        if (abs(point.cur[0] - point[0]) > abs(point.cur[1] - point[1]))\n          lockY = true;\n        else\n          lockX = true;\n      }\n      for (const point of points)\n        if (point.cur) point[0] = point.cur[0], point[1] = point.cur[1];\n      moving = true;\n      noevent(event);\n      move(event);\n    }\n\n    function move(event) {\n      const point = points[0], point0 = point.point0;\n      var t;\n\n      dx = point[0] - point0[0];\n      dy = point[1] - point0[1];\n\n      switch (mode) {\n        case MODE_SPACE:\n        case MODE_DRAG: {\n          if (signX) dx = max(W - w0, min(E - e0, dx)), w1 = w0 + dx, e1 = e0 + dx;\n          if (signY) dy = max(N - n0, min(S - s0, dy)), n1 = n0 + dy, s1 = s0 + dy;\n          break;\n        }\n        case MODE_HANDLE: {\n          if (points[1]) {\n            if (signX) w1 = max(W, min(E, points[0][0])), e1 = max(W, min(E, points[1][0])), signX = 1;\n            if (signY) n1 = max(N, min(S, points[0][1])), s1 = max(N, min(S, points[1][1])), signY = 1;\n          } else {\n            if (signX < 0) dx = max(W - w0, min(E - w0, dx)), w1 = w0 + dx, e1 = e0;\n            else if (signX > 0) dx = max(W - e0, min(E - e0, dx)), w1 = w0, e1 = e0 + dx;\n            if (signY < 0) dy = max(N - n0, min(S - n0, dy)), n1 = n0 + dy, s1 = s0;\n            else if (signY > 0) dy = max(N - s0, min(S - s0, dy)), n1 = n0, s1 = s0 + dy;\n          }\n          break;\n        }\n        case MODE_CENTER: {\n          if (signX) w1 = max(W, min(E, w0 - dx * signX)), e1 = max(W, min(E, e0 + dx * signX));\n          if (signY) n1 = max(N, min(S, n0 - dy * signY)), s1 = max(N, min(S, s0 + dy * signY));\n          break;\n        }\n      }\n\n      if (e1 < w1) {\n        signX *= -1;\n        t = w0, w0 = e0, e0 = t;\n        t = w1, w1 = e1, e1 = t;\n        if (type in flipX) overlay.attr(\"cursor\", cursors[type = flipX[type]]);\n      }\n\n      if (s1 < n1) {\n        signY *= -1;\n        t = n0, n0 = s0, s0 = t;\n        t = n1, n1 = s1, s1 = t;\n        if (type in flipY) overlay.attr(\"cursor\", cursors[type = flipY[type]]);\n      }\n\n      if (state.selection) selection = state.selection; // May be set by brush.move!\n      if (lockX) w1 = selection[0][0], e1 = selection[1][0];\n      if (lockY) n1 = selection[0][1], s1 = selection[1][1];\n\n      if (selection[0][0] !== w1\n          || selection[0][1] !== n1\n          || selection[1][0] !== e1\n          || selection[1][1] !== s1) {\n        state.selection = [[w1, n1], [e1, s1]];\n        redraw.call(that);\n        emit.brush(event, mode.name);\n      }\n    }\n\n    function ended(event) {\n      nopropagation(event);\n      if (event.touches) {\n        if (event.touches.length) return;\n        if (touchending) clearTimeout(touchending);\n        touchending = setTimeout(function() { touchending = null; }, 500); // Ghost clicks are delayed!\n      } else {\n        dragEnable(event.view, moving);\n        view.on(\"keydown.brush keyup.brush mousemove.brush mouseup.brush\", null);\n      }\n      group.attr(\"pointer-events\", \"all\");\n      overlay.attr(\"cursor\", cursors.overlay);\n      if (state.selection) selection = state.selection; // May be set by brush.move (on start)!\n      if (empty(selection)) state.selection = null, redraw.call(that);\n      emit.end(event, mode.name);\n    }\n\n    function keydowned(event) {\n      switch (event.keyCode) {\n        case 16: { // SHIFT\n          shifting = signX && signY;\n          break;\n        }\n        case 18: { // ALT\n          if (mode === MODE_HANDLE) {\n            if (signX) e0 = e1 - dx * signX, w0 = w1 + dx * signX;\n            if (signY) s0 = s1 - dy * signY, n0 = n1 + dy * signY;\n            mode = MODE_CENTER;\n            move(event);\n          }\n          break;\n        }\n        case 32: { // SPACE; takes priority over ALT\n          if (mode === MODE_HANDLE || mode === MODE_CENTER) {\n            if (signX < 0) e0 = e1 - dx; else if (signX > 0) w0 = w1 - dx;\n            if (signY < 0) s0 = s1 - dy; else if (signY > 0) n0 = n1 - dy;\n            mode = MODE_SPACE;\n            overlay.attr(\"cursor\", cursors.selection);\n            move(event);\n          }\n          break;\n        }\n        default: return;\n      }\n      noevent(event);\n    }\n\n    function keyupped(event) {\n      switch (event.keyCode) {\n        case 16: { // SHIFT\n          if (shifting) {\n            lockX = lockY = shifting = false;\n            move(event);\n          }\n          break;\n        }\n        case 18: { // ALT\n          if (mode === MODE_CENTER) {\n            if (signX < 0) e0 = e1; else if (signX > 0) w0 = w1;\n            if (signY < 0) s0 = s1; else if (signY > 0) n0 = n1;\n            mode = MODE_HANDLE;\n            move(event);\n          }\n          break;\n        }\n        case 32: { // SPACE\n          if (mode === MODE_SPACE) {\n            if (event.altKey) {\n              if (signX) e0 = e1 - dx * signX, w0 = w1 + dx * signX;\n              if (signY) s0 = s1 - dy * signY, n0 = n1 + dy * signY;\n              mode = MODE_CENTER;\n            } else {\n              if (signX < 0) e0 = e1; else if (signX > 0) w0 = w1;\n              if (signY < 0) s0 = s1; else if (signY > 0) n0 = n1;\n              mode = MODE_HANDLE;\n            }\n            overlay.attr(\"cursor\", cursors[type]);\n            move(event);\n          }\n          break;\n        }\n        default: return;\n      }\n      noevent(event);\n    }\n  }\n\n  function touchmoved(event) {\n    emitter(this, arguments).moved(event);\n  }\n\n  function touchended(event) {\n    emitter(this, arguments).ended(event);\n  }\n\n  function initialize() {\n    var state = this.__brush || {selection: null};\n    state.extent = number2(extent.apply(this, arguments));\n    state.dim = dim;\n    return state;\n  }\n\n  brush.extent = function(_) {\n    return arguments.length ? (extent = typeof _ === \"function\" ? _ : constant(number2(_)), brush) : extent;\n  };\n\n  brush.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), brush) : filter;\n  };\n\n  brush.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), brush) : touchable;\n  };\n\n  brush.handleSize = function(_) {\n    return arguments.length ? (handleSize = +_, brush) : handleSize;\n  };\n\n  brush.keyModifiers = function(_) {\n    return arguments.length ? (keys = !!_, brush) : keys;\n  };\n\n  brush.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? brush : value;\n  };\n\n  return brush;\n}\n","const pi = Math.PI,\n    tau = 2 * pi,\n    epsilon = 1e-6,\n    tauEpsilon = tau - epsilon;\n\nfunction Path() {\n  this._x0 = this._y0 = // start of current subpath\n  this._x1 = this._y1 = null; // end of current subpath\n  this._ = \"\";\n}\n\nfunction path() {\n  return new Path;\n}\n\nPath.prototype = path.prototype = {\n  constructor: Path,\n  moveTo: function(x, y) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y);\n  },\n  closePath: function() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._ += \"Z\";\n    }\n  },\n  lineTo: function(x, y) {\n    this._ += \"L\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  quadraticCurveTo: function(x1, y1, x, y) {\n    this._ += \"Q\" + (+x1) + \",\" + (+y1) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) {\n    this._ += \"C\" + (+x1) + \",\" + (+y1) + \",\" + (+x2) + \",\" + (+y2) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  arcTo: function(x1, y1, x2, y2, r) {\n    x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;\n    var x0 = this._x1,\n        y0 = this._y1,\n        x21 = x2 - x1,\n        y21 = y2 - y1,\n        x01 = x0 - x1,\n        y01 = y0 - y1,\n        l01_2 = x01 * x01 + y01 * y01;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x1,y1).\n    if (this._x1 === null) {\n      this._ += \"M\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Or, is (x1,y1) coincident with (x0,y0)? Do nothing.\n    else if (!(l01_2 > epsilon));\n\n    // Or, are (x0,y0), (x1,y1) and (x2,y2) collinear?\n    // Equivalently, is (x1,y1) coincident with (x2,y2)?\n    // Or, is the radius zero? Line to (x1,y1).\n    else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon) || !r) {\n      this._ += \"L\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Otherwise, draw an arc!\n    else {\n      var x20 = x2 - x0,\n          y20 = y2 - y0,\n          l21_2 = x21 * x21 + y21 * y21,\n          l20_2 = x20 * x20 + y20 * y20,\n          l21 = Math.sqrt(l21_2),\n          l01 = Math.sqrt(l01_2),\n          l = r * Math.tan((pi - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2),\n          t01 = l / l01,\n          t21 = l / l21;\n\n      // If the start tangent is not coincident with (x0,y0), line to.\n      if (Math.abs(t01 - 1) > epsilon) {\n        this._ += \"L\" + (x1 + t01 * x01) + \",\" + (y1 + t01 * y01);\n      }\n\n      this._ += \"A\" + r + \",\" + r + \",0,0,\" + (+(y01 * x20 > x01 * y20)) + \",\" + (this._x1 = x1 + t21 * x21) + \",\" + (this._y1 = y1 + t21 * y21);\n    }\n  },\n  arc: function(x, y, r, a0, a1, ccw) {\n    x = +x, y = +y, r = +r, ccw = !!ccw;\n    var dx = r * Math.cos(a0),\n        dy = r * Math.sin(a0),\n        x0 = x + dx,\n        y0 = y + dy,\n        cw = 1 ^ ccw,\n        da = ccw ? a0 - a1 : a1 - a0;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x0,y0).\n    if (this._x1 === null) {\n      this._ += \"M\" + x0 + \",\" + y0;\n    }\n\n    // Or, is (x0,y0) not coincident with the previous point? Line to (x0,y0).\n    else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) {\n      this._ += \"L\" + x0 + \",\" + y0;\n    }\n\n    // Is this arc empty? We’re done.\n    if (!r) return;\n\n    // Does the angle go the wrong way? Flip the direction.\n    if (da < 0) da = da % tau + tau;\n\n    // Is this a complete circle? Draw two arcs to complete the circle.\n    if (da > tauEpsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (x - dx) + \",\" + (y - dy) + \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (this._x1 = x0) + \",\" + (this._y1 = y0);\n    }\n\n    // Is this arc non-empty? Draw an arc!\n    else if (da > epsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,\" + (+(da >= pi)) + \",\" + cw + \",\" + (this._x1 = x + r * Math.cos(a1)) + \",\" + (this._y1 = y + r * Math.sin(a1));\n    }\n  },\n  rect: function(x, y, w, h) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y) + \"h\" + (+w) + \"v\" + (+h) + \"h\" + (-w) + \"Z\";\n  },\n  toString: function() {\n    return this._;\n  }\n};\n\nexport default path;\n","export function initRange(domain, range) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: this.range(domain); break;\n    default: this.range(range).domain(domain); break;\n  }\n  return this;\n}\n\nexport function initInterpolator(domain, interpolator) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: {\n      if (typeof domain === \"function\") this.interpolator(domain);\n      else this.range(domain);\n      break;\n    }\n    default: {\n      this.domain(domain);\n      if (typeof interpolator === \"function\") this.interpolator(interpolator);\n      else this.range(interpolator);\n      break;\n    }\n  }\n  return this;\n}\n","import setPrototypeOf from \"./setPrototypeOf.js\";\nimport isNativeReflectConstruct from \"./isNativeReflectConstruct.js\";\nexport default function _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    _construct = Reflect.construct.bind();\n  } else {\n    _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}","import getPrototypeOf from \"./getPrototypeOf.js\";\nimport setPrototypeOf from \"./setPrototypeOf.js\";\nimport isNativeFunction from \"./isNativeFunction.js\";\nimport construct from \"./construct.js\";\nexport default function _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n  _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !isNativeFunction(Class)) return Class;\n\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n\n      _cache.set(Class, Wrapper);\n    }\n\n    function Wrapper() {\n      return construct(Class, arguments, getPrototypeOf(this).constructor);\n    }\n\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return setPrototypeOf(Wrapper, Class);\n  };\n\n  return _wrapNativeSuper(Class);\n}","export default function _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}","export class InternMap extends Map {\n  constructor(entries, key = keyof) {\n    super();\n    Object.defineProperties(this, {_intern: {value: new Map()}, _key: {value: key}});\n    if (entries != null) for (const [key, value] of entries) this.set(key, value);\n  }\n  get(key) {\n    return super.get(intern_get(this, key));\n  }\n  has(key) {\n    return super.has(intern_get(this, key));\n  }\n  set(key, value) {\n    return super.set(intern_set(this, key), value);\n  }\n  delete(key) {\n    return super.delete(intern_delete(this, key));\n  }\n}\n\nexport class InternSet extends Set {\n  constructor(values, key = keyof) {\n    super();\n    Object.defineProperties(this, {_intern: {value: new Map()}, _key: {value: key}});\n    if (values != null) for (const value of values) this.add(value);\n  }\n  has(value) {\n    return super.has(intern_get(this, value));\n  }\n  add(value) {\n    return super.add(intern_set(this, value));\n  }\n  delete(value) {\n    return super.delete(intern_delete(this, value));\n  }\n}\n\nfunction intern_get({_intern, _key}, value) {\n  const key = _key(value);\n  return _intern.has(key) ? _intern.get(key) : value;\n}\n\nfunction intern_set({_intern, _key}, value) {\n  const key = _key(value);\n  if (_intern.has(key)) return _intern.get(key);\n  _intern.set(key, value);\n  return value;\n}\n\nfunction intern_delete({_intern, _key}, value) {\n  const key = _key(value);\n  if (_intern.has(key)) {\n    value = _intern.get(key);\n    _intern.delete(key);\n  }\n  return value;\n}\n\nfunction keyof(value) {\n  return value !== null && typeof value === \"object\" ? value.valueOf() : value;\n}\n","import {InternMap} from \"d3-array\";\nimport {initRange} from \"./init.js\";\n\nexport const implicit = Symbol(\"implicit\");\n\nexport default function ordinal() {\n  var index = new InternMap(),\n      domain = [],\n      range = [],\n      unknown = implicit;\n\n  function scale(d) {\n    let i = index.get(d);\n    if (i === undefined) {\n      if (unknown !== implicit) return unknown;\n      index.set(d, i = domain.push(d) - 1);\n    }\n    return range[i % range.length];\n  }\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [], index = new InternMap();\n    for (const value of _) {\n      if (index.has(value)) continue;\n      index.set(value, domain.push(value) - 1);\n    }\n    return scale;\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), scale) : range.slice();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return ordinal(domain, range).unknown(unknown);\n  };\n\n  initRange.apply(scale, arguments);\n\n  return scale;\n}\n","import {range as sequence} from \"d3-array\";\nimport {initRange} from \"./init.js\";\nimport ordinal from \"./ordinal.js\";\n\nexport default function band() {\n  var scale = ordinal().unknown(undefined),\n      domain = scale.domain,\n      ordinalRange = scale.range,\n      r0 = 0,\n      r1 = 1,\n      step,\n      bandwidth,\n      round = false,\n      paddingInner = 0,\n      paddingOuter = 0,\n      align = 0.5;\n\n  delete scale.unknown;\n\n  function rescale() {\n    var n = domain().length,\n        reverse = r1 < r0,\n        start = reverse ? r1 : r0,\n        stop = reverse ? r0 : r1;\n    step = (stop - start) / Math.max(1, n - paddingInner + paddingOuter * 2);\n    if (round) step = Math.floor(step);\n    start += (stop - start - step * (n - paddingInner)) * align;\n    bandwidth = step * (1 - paddingInner);\n    if (round) start = Math.round(start), bandwidth = Math.round(bandwidth);\n    var values = sequence(n).map(function(i) { return start + step * i; });\n    return ordinalRange(reverse ? values.reverse() : values);\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? ([r0, r1] = _, r0 = +r0, r1 = +r1, rescale()) : [r0, r1];\n  };\n\n  scale.rangeRound = function(_) {\n    return [r0, r1] = _, r0 = +r0, r1 = +r1, round = true, rescale();\n  };\n\n  scale.bandwidth = function() {\n    return bandwidth;\n  };\n\n  scale.step = function() {\n    return step;\n  };\n\n  scale.round = function(_) {\n    return arguments.length ? (round = !!_, rescale()) : round;\n  };\n\n  scale.padding = function(_) {\n    return arguments.length ? (paddingInner = Math.min(1, paddingOuter = +_), rescale()) : paddingInner;\n  };\n\n  scale.paddingInner = function(_) {\n    return arguments.length ? (paddingInner = Math.min(1, _), rescale()) : paddingInner;\n  };\n\n  scale.paddingOuter = function(_) {\n    return arguments.length ? (paddingOuter = +_, rescale()) : paddingOuter;\n  };\n\n  scale.align = function(_) {\n    return arguments.length ? (align = Math.max(0, Math.min(1, _)), rescale()) : align;\n  };\n\n  scale.copy = function() {\n    return band(domain(), [r0, r1])\n        .round(round)\n        .paddingInner(paddingInner)\n        .paddingOuter(paddingOuter)\n        .align(align);\n  };\n\n  return initRange.apply(rescale(), arguments);\n}\n\nfunction pointish(scale) {\n  var copy = scale.copy;\n\n  scale.padding = scale.paddingOuter;\n  delete scale.paddingInner;\n  delete scale.paddingOuter;\n\n  scale.copy = function() {\n    return pointish(copy());\n  };\n\n  return scale;\n}\n\nexport function point() {\n  return pointish(band.apply(null, arguments).paddingInner(1));\n}\n","var e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\nexport default function ticks(start, stop, count) {\n  var reverse,\n      i = -1,\n      n,\n      ticks,\n      step;\n\n  stop = +stop, start = +start, count = +count;\n  if (start === stop && count > 0) return [start];\n  if (reverse = stop < start) n = start, start = stop, stop = n;\n  if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step)) return [];\n\n  if (step > 0) {\n    let r0 = Math.round(start / step), r1 = Math.round(stop / step);\n    if (r0 * step < start) ++r0;\n    if (r1 * step > stop) --r1;\n    ticks = new Array(n = r1 - r0 + 1);\n    while (++i < n) ticks[i] = (r0 + i) * step;\n  } else {\n    step = -step;\n    let r0 = Math.round(start * step), r1 = Math.round(stop * step);\n    if (r0 / step < start) ++r0;\n    if (r1 / step > stop) --r1;\n    ticks = new Array(n = r1 - r0 + 1);\n    while (++i < n) ticks[i] = (r0 + i) / step;\n  }\n\n  if (reverse) ticks.reverse();\n\n  return ticks;\n}\n\nexport function tickIncrement(start, stop, count) {\n  var step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log(step) / Math.LN10),\n      error = step / Math.pow(10, power);\n  return power >= 0\n      ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power)\n      : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n}\n\nexport function tickStep(start, stop, count) {\n  var step0 = Math.abs(stop - start) / Math.max(0, count),\n      step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n      error = step0 / step1;\n  if (error >= e10) step1 *= 10;\n  else if (error >= e5) step1 *= 5;\n  else if (error >= e2) step1 *= 2;\n  return stop < start ? -step1 : step1;\n}\n","export default function ascending(a, b) {\n  return a == null || b == null ? NaN : a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","export default function descending(a, b) {\n  return a == null || b == null ? NaN\n    : b < a ? -1\n    : b > a ? 1\n    : b >= a ? 0\n    : NaN;\n}\n","import ascending from \"./ascending.js\";\nimport descending from \"./descending.js\";\n\nexport default function bisector(f) {\n  let compare1, compare2, delta;\n\n  // If an accessor is specified, promote it to a comparator. In this case we\n  // can test whether the search value is (self-) comparable. We can’t do this\n  // for a comparator (except for specific, known comparators) because we can’t\n  // tell if the comparator is symmetric, and an asymmetric comparator can’t be\n  // used to test whether a single value is comparable.\n  if (f.length !== 2) {\n    compare1 = ascending;\n    compare2 = (d, x) => ascending(f(d), x);\n    delta = (d, x) => f(d) - x;\n  } else {\n    compare1 = f === ascending || f === descending ? f : zero;\n    compare2 = f;\n    delta = f;\n  }\n\n  function left(a, x, lo = 0, hi = a.length) {\n    if (lo < hi) {\n      if (compare1(x, x) !== 0) return hi;\n      do {\n        const mid = (lo + hi) >>> 1;\n        if (compare2(a[mid], x) < 0) lo = mid + 1;\n        else hi = mid;\n      } while (lo < hi);\n    }\n    return lo;\n  }\n\n  function right(a, x, lo = 0, hi = a.length) {\n    if (lo < hi) {\n      if (compare1(x, x) !== 0) return hi;\n      do {\n        const mid = (lo + hi) >>> 1;\n        if (compare2(a[mid], x) <= 0) lo = mid + 1;\n        else hi = mid;\n      } while (lo < hi);\n    }\n    return lo;\n  }\n\n  function center(a, x, lo = 0, hi = a.length) {\n    const i = left(a, x, lo, hi - 1);\n    return i > lo && delta(a[i - 1], x) > -delta(a[i], x) ? i - 1 : i;\n  }\n\n  return {left, center, right};\n}\n\nfunction zero() {\n  return 0;\n}\n","import ascending from \"./ascending.js\";\nimport bisector from \"./bisector.js\";\nimport number from \"./number.js\";\n\nconst ascendingBisect = bisector(ascending);\nexport const bisectRight = ascendingBisect.right;\nexport const bisectLeft = ascendingBisect.left;\nexport const bisectCenter = bisector(number).center;\nexport default bisectRight;\n","export default function number(x) {\n  return x === null ? NaN : +x;\n}\n\nexport function* numbers(values, valueof) {\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value != null && (value = +value) >= value) {\n        yield value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null && (value = +value) >= value) {\n        yield value;\n      }\n    }\n  }\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return Math.round(a * (1 - t) + b * t);\n  };\n}\n","export default function number(x) {\n  return +x;\n}\n","import {bisect} from \"d3-array\";\nimport {interpolate as interpolateValue, interpolateNumber, interpolateRound} from \"d3-interpolate\";\nimport constant from \"./constant.js\";\nimport number from \"./number.js\";\n\nvar unit = [0, 1];\n\nexport function identity(x) {\n  return x;\n}\n\nfunction normalize(a, b) {\n  return (b -= (a = +a))\n      ? function(x) { return (x - a) / b; }\n      : constant(isNaN(b) ? NaN : 0.5);\n}\n\nfunction clamper(a, b) {\n  var t;\n  if (a > b) t = a, a = b, b = t;\n  return function(x) { return Math.max(a, Math.min(b, x)); };\n}\n\n// normalize(a, b)(x) takes a domain value x in [a,b] and returns the corresponding parameter t in [0,1].\n// interpolate(a, b)(t) takes a parameter t in [0,1] and returns the corresponding range value x in [a,b].\nfunction bimap(domain, range, interpolate) {\n  var d0 = domain[0], d1 = domain[1], r0 = range[0], r1 = range[1];\n  if (d1 < d0) d0 = normalize(d1, d0), r0 = interpolate(r1, r0);\n  else d0 = normalize(d0, d1), r0 = interpolate(r0, r1);\n  return function(x) { return r0(d0(x)); };\n}\n\nfunction polymap(domain, range, interpolate) {\n  var j = Math.min(domain.length, range.length) - 1,\n      d = new Array(j),\n      r = new Array(j),\n      i = -1;\n\n  // Reverse descending domains.\n  if (domain[j] < domain[0]) {\n    domain = domain.slice().reverse();\n    range = range.slice().reverse();\n  }\n\n  while (++i < j) {\n    d[i] = normalize(domain[i], domain[i + 1]);\n    r[i] = interpolate(range[i], range[i + 1]);\n  }\n\n  return function(x) {\n    var i = bisect(domain, x, 1, j) - 1;\n    return r[i](d[i](x));\n  };\n}\n\nexport function copy(source, target) {\n  return target\n      .domain(source.domain())\n      .range(source.range())\n      .interpolate(source.interpolate())\n      .clamp(source.clamp())\n      .unknown(source.unknown());\n}\n\nexport function transformer() {\n  var domain = unit,\n      range = unit,\n      interpolate = interpolateValue,\n      transform,\n      untransform,\n      unknown,\n      clamp = identity,\n      piecewise,\n      output,\n      input;\n\n  function rescale() {\n    var n = Math.min(domain.length, range.length);\n    if (clamp !== identity) clamp = clamper(domain[0], domain[n - 1]);\n    piecewise = n > 2 ? polymap : bimap;\n    output = input = null;\n    return scale;\n  }\n\n  function scale(x) {\n    return x == null || isNaN(x = +x) ? unknown : (output || (output = piecewise(domain.map(transform), range, interpolate)))(transform(clamp(x)));\n  }\n\n  scale.invert = function(y) {\n    return clamp(untransform((input || (input = piecewise(range, domain.map(transform), interpolateNumber)))(y)));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = Array.from(_, number), rescale()) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return range = Array.from(_), interpolate = interpolateRound, rescale();\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = _ ? true : identity, rescale()) : clamp !== identity;\n  };\n\n  scale.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, rescale()) : interpolate;\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  return function(t, u) {\n    transform = t, untransform = u;\n    return rescale();\n  };\n}\n\nexport default function continuous() {\n  return transformer()(identity, identity);\n}\n","export default function constants(x) {\n  return function() {\n    return x;\n  };\n}\n","// [[fill]align][sign][symbol][0][width][,][.precision][~][type]\nvar re = /^(?:(.)?([<>=^]))?([+\\-( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?(~)?([a-z%])?$/i;\n\nexport default function formatSpecifier(specifier) {\n  if (!(match = re.exec(specifier))) throw new Error(\"invalid format: \" + specifier);\n  var match;\n  return new FormatSpecifier({\n    fill: match[1],\n    align: match[2],\n    sign: match[3],\n    symbol: match[4],\n    zero: match[5],\n    width: match[6],\n    comma: match[7],\n    precision: match[8] && match[8].slice(1),\n    trim: match[9],\n    type: match[10]\n  });\n}\n\nformatSpecifier.prototype = FormatSpecifier.prototype; // instanceof\n\nexport function FormatSpecifier(specifier) {\n  this.fill = specifier.fill === undefined ? \" \" : specifier.fill + \"\";\n  this.align = specifier.align === undefined ? \">\" : specifier.align + \"\";\n  this.sign = specifier.sign === undefined ? \"-\" : specifier.sign + \"\";\n  this.symbol = specifier.symbol === undefined ? \"\" : specifier.symbol + \"\";\n  this.zero = !!specifier.zero;\n  this.width = specifier.width === undefined ? undefined : +specifier.width;\n  this.comma = !!specifier.comma;\n  this.precision = specifier.precision === undefined ? undefined : +specifier.precision;\n  this.trim = !!specifier.trim;\n  this.type = specifier.type === undefined ? \"\" : specifier.type + \"\";\n}\n\nFormatSpecifier.prototype.toString = function() {\n  return this.fill\n      + this.align\n      + this.sign\n      + this.symbol\n      + (this.zero ? \"0\" : \"\")\n      + (this.width === undefined ? \"\" : Math.max(1, this.width | 0))\n      + (this.comma ? \",\" : \"\")\n      + (this.precision === undefined ? \"\" : \".\" + Math.max(0, this.precision | 0))\n      + (this.trim ? \"~\" : \"\")\n      + this.type;\n};\n","import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport var prefixExponent;\n\nexport default function(x, p) {\n  var d = formatDecimalParts(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1],\n      i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1,\n      n = coefficient.length;\n  return i === n ? coefficient\n      : i > n ? coefficient + new Array(i - n + 1).join(\"0\")\n      : i > 0 ? coefficient.slice(0, i) + \".\" + coefficient.slice(i)\n      : \"0.\" + new Array(1 - i).join(\"0\") + formatDecimalParts(x, Math.max(0, p + i - 1))[0]; // less than 1y!\n}\n","export default function(x) {\n  return Math.abs(x = Math.round(x)) >= 1e21\n      ? x.toLocaleString(\"en\").replace(/,/g, \"\")\n      : x.toString(10);\n}\n\n// Computes the decimal coefficient and exponent of the specified number x with\n// significant digits p, where x is positive and p is in [1, 21] or undefined.\n// For example, formatDecimalParts(1.23) returns [\"123\", 0].\nexport function formatDecimalParts(x, p) {\n  if ((i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(\"e\")) < 0) return null; // NaN, ±Infinity\n  var i, coefficient = x.slice(0, i);\n\n  // The string returned by toExponential either has the form \\d\\.\\d+e[-+]\\d+\n  // (e.g., 1.2e+3) or the form \\de[-+]\\d+ (e.g., 1e+3).\n  return [\n    coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient,\n    +x.slice(i + 1)\n  ];\n}\n","import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport default function(x) {\n  return x = formatDecimalParts(Math.abs(x)), x ? x[1] : NaN;\n}\n","import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport default function(x, p) {\n  var d = formatDecimalParts(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1];\n  return exponent < 0 ? \"0.\" + new Array(-exponent).join(\"0\") + coefficient\n      : coefficient.length > exponent + 1 ? coefficient.slice(0, exponent + 1) + \".\" + coefficient.slice(exponent + 1)\n      : coefficient + new Array(exponent - coefficient.length + 2).join(\"0\");\n}\n","import formatDecimal from \"./formatDecimal.js\";\nimport formatPrefixAuto from \"./formatPrefixAuto.js\";\nimport formatRounded from \"./formatRounded.js\";\n\nexport default {\n  \"%\": (x, p) => (x * 100).toFixed(p),\n  \"b\": (x) => Math.round(x).toString(2),\n  \"c\": (x) => x + \"\",\n  \"d\": formatDecimal,\n  \"e\": (x, p) => x.toExponential(p),\n  \"f\": (x, p) => x.toFixed(p),\n  \"g\": (x, p) => x.toPrecision(p),\n  \"o\": (x) => Math.round(x).toString(8),\n  \"p\": (x, p) => formatRounded(x * 100, p),\n  \"r\": formatRounded,\n  \"s\": formatPrefixAuto,\n  \"X\": (x) => Math.round(x).toString(16).toUpperCase(),\n  \"x\": (x) => Math.round(x).toString(16)\n};\n","export default function(x) {\n  return x;\n}\n","import exponent from \"./exponent.js\";\nimport formatGroup from \"./formatGroup.js\";\nimport formatNumerals from \"./formatNumerals.js\";\nimport formatSpecifier from \"./formatSpecifier.js\";\nimport formatTrim from \"./formatTrim.js\";\nimport formatTypes from \"./formatTypes.js\";\nimport {prefixExponent} from \"./formatPrefixAuto.js\";\nimport identity from \"./identity.js\";\n\nvar map = Array.prototype.map,\n    prefixes = [\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"µ\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"];\n\nexport default function(locale) {\n  var group = locale.grouping === undefined || locale.thousands === undefined ? identity : formatGroup(map.call(locale.grouping, Number), locale.thousands + \"\"),\n      currencyPrefix = locale.currency === undefined ? \"\" : locale.currency[0] + \"\",\n      currencySuffix = locale.currency === undefined ? \"\" : locale.currency[1] + \"\",\n      decimal = locale.decimal === undefined ? \".\" : locale.decimal + \"\",\n      numerals = locale.numerals === undefined ? identity : formatNumerals(map.call(locale.numerals, String)),\n      percent = locale.percent === undefined ? \"%\" : locale.percent + \"\",\n      minus = locale.minus === undefined ? \"−\" : locale.minus + \"\",\n      nan = locale.nan === undefined ? \"NaN\" : locale.nan + \"\";\n\n  function newFormat(specifier) {\n    specifier = formatSpecifier(specifier);\n\n    var fill = specifier.fill,\n        align = specifier.align,\n        sign = specifier.sign,\n        symbol = specifier.symbol,\n        zero = specifier.zero,\n        width = specifier.width,\n        comma = specifier.comma,\n        precision = specifier.precision,\n        trim = specifier.trim,\n        type = specifier.type;\n\n    // The \"n\" type is an alias for \",g\".\n    if (type === \"n\") comma = true, type = \"g\";\n\n    // The \"\" type, and any invalid type, is an alias for \".12~g\".\n    else if (!formatTypes[type]) precision === undefined && (precision = 12), trim = true, type = \"g\";\n\n    // If zero fill is specified, padding goes after sign and before digits.\n    if (zero || (fill === \"0\" && align === \"=\")) zero = true, fill = \"0\", align = \"=\";\n\n    // Compute the prefix and suffix.\n    // For SI-prefix, the suffix is lazily computed.\n    var prefix = symbol === \"$\" ? currencyPrefix : symbol === \"#\" && /[boxX]/.test(type) ? \"0\" + type.toLowerCase() : \"\",\n        suffix = symbol === \"$\" ? currencySuffix : /[%p]/.test(type) ? percent : \"\";\n\n    // What format function should we use?\n    // Is this an integer type?\n    // Can this type generate exponential notation?\n    var formatType = formatTypes[type],\n        maybeSuffix = /[defgprs%]/.test(type);\n\n    // Set the default precision if not specified,\n    // or clamp the specified precision to the supported range.\n    // For significant precision, it must be in [1, 21].\n    // For fixed precision, it must be in [0, 20].\n    precision = precision === undefined ? 6\n        : /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision))\n        : Math.max(0, Math.min(20, precision));\n\n    function format(value) {\n      var valuePrefix = prefix,\n          valueSuffix = suffix,\n          i, n, c;\n\n      if (type === \"c\") {\n        valueSuffix = formatType(value) + valueSuffix;\n        value = \"\";\n      } else {\n        value = +value;\n\n        // Determine the sign. -0 is not less than 0, but 1 / -0 is!\n        var valueNegative = value < 0 || 1 / value < 0;\n\n        // Perform the initial formatting.\n        value = isNaN(value) ? nan : formatType(Math.abs(value), precision);\n\n        // Trim insignificant zeros.\n        if (trim) value = formatTrim(value);\n\n        // If a negative value rounds to zero after formatting, and no explicit positive sign is requested, hide the sign.\n        if (valueNegative && +value === 0 && sign !== \"+\") valueNegative = false;\n\n        // Compute the prefix and suffix.\n        valuePrefix = (valueNegative ? (sign === \"(\" ? sign : minus) : sign === \"-\" || sign === \"(\" ? \"\" : sign) + valuePrefix;\n        valueSuffix = (type === \"s\" ? prefixes[8 + prefixExponent / 3] : \"\") + valueSuffix + (valueNegative && sign === \"(\" ? \")\" : \"\");\n\n        // Break the formatted value into the integer “value” part that can be\n        // grouped, and fractional or exponential “suffix” part that is not.\n        if (maybeSuffix) {\n          i = -1, n = value.length;\n          while (++i < n) {\n            if (c = value.charCodeAt(i), 48 > c || c > 57) {\n              valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;\n              value = value.slice(0, i);\n              break;\n            }\n          }\n        }\n      }\n\n      // If the fill character is not \"0\", grouping is applied before padding.\n      if (comma && !zero) value = group(value, Infinity);\n\n      // Compute the padding.\n      var length = valuePrefix.length + value.length + valueSuffix.length,\n          padding = length < width ? new Array(width - length + 1).join(fill) : \"\";\n\n      // If the fill character is \"0\", grouping is applied after padding.\n      if (comma && zero) value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = \"\";\n\n      // Reconstruct the final output based on the desired alignment.\n      switch (align) {\n        case \"<\": value = valuePrefix + value + valueSuffix + padding; break;\n        case \"=\": value = valuePrefix + padding + value + valueSuffix; break;\n        case \"^\": value = padding.slice(0, length = padding.length >> 1) + valuePrefix + value + valueSuffix + padding.slice(length); break;\n        default: value = padding + valuePrefix + value + valueSuffix; break;\n      }\n\n      return numerals(value);\n    }\n\n    format.toString = function() {\n      return specifier + \"\";\n    };\n\n    return format;\n  }\n\n  function formatPrefix(specifier, value) {\n    var f = newFormat((specifier = formatSpecifier(specifier), specifier.type = \"f\", specifier)),\n        e = Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3,\n        k = Math.pow(10, -e),\n        prefix = prefixes[8 + e / 3];\n    return function(value) {\n      return f(k * value) + prefix;\n    };\n  }\n\n  return {\n    format: newFormat,\n    formatPrefix: formatPrefix\n  };\n}\n","import formatLocale from \"./locale.js\";\n\nvar locale;\nexport var format;\nexport var formatPrefix;\n\ndefaultLocale({\n  thousands: \",\",\n  grouping: [3],\n  currency: [\"$\", \"\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  format = locale.format;\n  formatPrefix = locale.formatPrefix;\n  return locale;\n}\n","export default function(grouping, thousands) {\n  return function(value, width) {\n    var i = value.length,\n        t = [],\n        j = 0,\n        g = grouping[0],\n        length = 0;\n\n    while (i > 0 && g > 0) {\n      if (length + g + 1 > width) g = Math.max(1, width - length);\n      t.push(value.substring(i -= g, i + g));\n      if ((length += g + 1) > width) break;\n      g = grouping[j = (j + 1) % grouping.length];\n    }\n\n    return t.reverse().join(thousands);\n  };\n}\n","export default function(numerals) {\n  return function(value) {\n    return value.replace(/[0-9]/g, function(i) {\n      return numerals[+i];\n    });\n  };\n}\n","// Trims insignificant zeros, e.g., replaces 1.2000k with 1.2k.\nexport default function(s) {\n  out: for (var n = s.length, i = 1, i0 = -1, i1; i < n; ++i) {\n    switch (s[i]) {\n      case \".\": i0 = i1 = i; break;\n      case \"0\": if (i0 === 0) i0 = i; i1 = i; break;\n      default: if (!+s[i]) break out; if (i0 > 0) i0 = 0; break;\n    }\n  }\n  return i0 > 0 ? s.slice(0, i0) + s.slice(i1 + 1) : s;\n}\n","import {tickStep} from \"d3-array\";\nimport {format, formatPrefix, formatSpecifier, precisionFixed, precisionPrefix, precisionRound} from \"d3-format\";\n\nexport default function tickFormat(start, stop, count, specifier) {\n  var step = tickStep(start, stop, count),\n      precision;\n  specifier = formatSpecifier(specifier == null ? \",f\" : specifier);\n  switch (specifier.type) {\n    case \"s\": {\n      var value = Math.max(Math.abs(start), Math.abs(stop));\n      if (specifier.precision == null && !isNaN(precision = precisionPrefix(step, value))) specifier.precision = precision;\n      return formatPrefix(specifier, value);\n    }\n    case \"\":\n    case \"e\":\n    case \"g\":\n    case \"p\":\n    case \"r\": {\n      if (specifier.precision == null && !isNaN(precision = precisionRound(step, Math.max(Math.abs(start), Math.abs(stop))))) specifier.precision = precision - (specifier.type === \"e\");\n      break;\n    }\n    case \"f\":\n    case \"%\": {\n      if (specifier.precision == null && !isNaN(precision = precisionFixed(step))) specifier.precision = precision - (specifier.type === \"%\") * 2;\n      break;\n    }\n  }\n  return format(specifier);\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step, value) {\n  return Math.max(0, Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3 - exponent(Math.abs(step)));\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step, max) {\n  step = Math.abs(step), max = Math.abs(max) - step;\n  return Math.max(0, exponent(max) - exponent(step)) + 1;\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step) {\n  return Math.max(0, -exponent(Math.abs(step)));\n}\n","import {ticks, tickIncrement} from \"d3-array\";\nimport continuous, {copy} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\nimport tickFormat from \"./tickFormat.js\";\n\nexport function linearish(scale) {\n  var domain = scale.domain;\n\n  scale.ticks = function(count) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], count == null ? 10 : count);\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    var d = domain();\n    return tickFormat(d[0], d[d.length - 1], count == null ? 10 : count, specifier);\n  };\n\n  scale.nice = function(count) {\n    if (count == null) count = 10;\n\n    var d = domain();\n    var i0 = 0;\n    var i1 = d.length - 1;\n    var start = d[i0];\n    var stop = d[i1];\n    var prestep;\n    var step;\n    var maxIter = 10;\n\n    if (stop < start) {\n      step = start, start = stop, stop = step;\n      step = i0, i0 = i1, i1 = step;\n    }\n    \n    while (maxIter-- > 0) {\n      step = tickIncrement(start, stop, count);\n      if (step === prestep) {\n        d[i0] = start\n        d[i1] = stop\n        return domain(d);\n      } else if (step > 0) {\n        start = Math.floor(start / step) * step;\n        stop = Math.ceil(stop / step) * step;\n      } else if (step < 0) {\n        start = Math.ceil(start * step) / step;\n        stop = Math.floor(stop * step) / step;\n      } else {\n        break;\n      }\n      prestep = step;\n    }\n\n    return scale;\n  };\n\n  return scale;\n}\n\nexport default function linear() {\n  var scale = continuous();\n\n  scale.copy = function() {\n    return copy(scale, linear());\n  };\n\n  initRange.apply(scale, arguments);\n\n  return linearish(scale);\n}\n","import array from \"./array.js\";\nimport {Selection, root} from \"./selection/index.js\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([document.querySelectorAll(selector)], [document.documentElement])\n      : new Selection([array(selector)], root);\n}\n","export default function(x) {\n  return function constant() {\n    return x;\n  };\n}\n","export const abs = Math.abs;\nexport const atan2 = Math.atan2;\nexport const cos = Math.cos;\nexport const max = Math.max;\nexport const min = Math.min;\nexport const sin = Math.sin;\nexport const sqrt = Math.sqrt;\n\nexport const epsilon = 1e-12;\nexport const pi = Math.PI;\nexport const halfPi = pi / 2;\nexport const tau = 2 * pi;\n\nexport function acos(x) {\n  return x > 1 ? 0 : x < -1 ? pi : Math.acos(x);\n}\n\nexport function asin(x) {\n  return x >= 1 ? halfPi : x <= -1 ? -halfPi : Math.asin(x);\n}\n","import {path} from \"d3-path\";\nimport constant from \"./constant.js\";\nimport {abs, acos, asin, atan2, cos, epsilon, halfPi, max, min, pi, sin, sqrt, tau} from \"./math.js\";\n\nfunction arcInnerRadius(d) {\n  return d.innerRadius;\n}\n\nfunction arcOuterRadius(d) {\n  return d.outerRadius;\n}\n\nfunction arcStartAngle(d) {\n  return d.startAngle;\n}\n\nfunction arcEndAngle(d) {\n  return d.endAngle;\n}\n\nfunction arcPadAngle(d) {\n  return d && d.padAngle; // Note: optional!\n}\n\nfunction intersect(x0, y0, x1, y1, x2, y2, x3, y3) {\n  var x10 = x1 - x0, y10 = y1 - y0,\n      x32 = x3 - x2, y32 = y3 - y2,\n      t = y32 * x10 - x32 * y10;\n  if (t * t < epsilon) return;\n  t = (x32 * (y0 - y2) - y32 * (x0 - x2)) / t;\n  return [x0 + t * x10, y0 + t * y10];\n}\n\n// Compute perpendicular offset line of length rc.\n// http://mathworld.wolfram.com/Circle-LineIntersection.html\nfunction cornerTangents(x0, y0, x1, y1, r1, rc, cw) {\n  var x01 = x0 - x1,\n      y01 = y0 - y1,\n      lo = (cw ? rc : -rc) / sqrt(x01 * x01 + y01 * y01),\n      ox = lo * y01,\n      oy = -lo * x01,\n      x11 = x0 + ox,\n      y11 = y0 + oy,\n      x10 = x1 + ox,\n      y10 = y1 + oy,\n      x00 = (x11 + x10) / 2,\n      y00 = (y11 + y10) / 2,\n      dx = x10 - x11,\n      dy = y10 - y11,\n      d2 = dx * dx + dy * dy,\n      r = r1 - rc,\n      D = x11 * y10 - x10 * y11,\n      d = (dy < 0 ? -1 : 1) * sqrt(max(0, r * r * d2 - D * D)),\n      cx0 = (D * dy - dx * d) / d2,\n      cy0 = (-D * dx - dy * d) / d2,\n      cx1 = (D * dy + dx * d) / d2,\n      cy1 = (-D * dx + dy * d) / d2,\n      dx0 = cx0 - x00,\n      dy0 = cy0 - y00,\n      dx1 = cx1 - x00,\n      dy1 = cy1 - y00;\n\n  // Pick the closer of the two intersection points.\n  // TODO Is there a faster way to determine which intersection to use?\n  if (dx0 * dx0 + dy0 * dy0 > dx1 * dx1 + dy1 * dy1) cx0 = cx1, cy0 = cy1;\n\n  return {\n    cx: cx0,\n    cy: cy0,\n    x01: -ox,\n    y01: -oy,\n    x11: cx0 * (r1 / r - 1),\n    y11: cy0 * (r1 / r - 1)\n  };\n}\n\nexport default function() {\n  var innerRadius = arcInnerRadius,\n      outerRadius = arcOuterRadius,\n      cornerRadius = constant(0),\n      padRadius = null,\n      startAngle = arcStartAngle,\n      endAngle = arcEndAngle,\n      padAngle = arcPadAngle,\n      context = null;\n\n  function arc() {\n    var buffer,\n        r,\n        r0 = +innerRadius.apply(this, arguments),\n        r1 = +outerRadius.apply(this, arguments),\n        a0 = startAngle.apply(this, arguments) - halfPi,\n        a1 = endAngle.apply(this, arguments) - halfPi,\n        da = abs(a1 - a0),\n        cw = a1 > a0;\n\n    if (!context) context = buffer = path();\n\n    // Ensure that the outer radius is always larger than the inner radius.\n    if (r1 < r0) r = r1, r1 = r0, r0 = r;\n\n    // Is it a point?\n    if (!(r1 > epsilon)) context.moveTo(0, 0);\n\n    // Or is it a circle or annulus?\n    else if (da > tau - epsilon) {\n      context.moveTo(r1 * cos(a0), r1 * sin(a0));\n      context.arc(0, 0, r1, a0, a1, !cw);\n      if (r0 > epsilon) {\n        context.moveTo(r0 * cos(a1), r0 * sin(a1));\n        context.arc(0, 0, r0, a1, a0, cw);\n      }\n    }\n\n    // Or is it a circular or annular sector?\n    else {\n      var a01 = a0,\n          a11 = a1,\n          a00 = a0,\n          a10 = a1,\n          da0 = da,\n          da1 = da,\n          ap = padAngle.apply(this, arguments) / 2,\n          rp = (ap > epsilon) && (padRadius ? +padRadius.apply(this, arguments) : sqrt(r0 * r0 + r1 * r1)),\n          rc = min(abs(r1 - r0) / 2, +cornerRadius.apply(this, arguments)),\n          rc0 = rc,\n          rc1 = rc,\n          t0,\n          t1;\n\n      // Apply padding? Note that since r1 ≥ r0, da1 ≥ da0.\n      if (rp > epsilon) {\n        var p0 = asin(rp / r0 * sin(ap)),\n            p1 = asin(rp / r1 * sin(ap));\n        if ((da0 -= p0 * 2) > epsilon) p0 *= (cw ? 1 : -1), a00 += p0, a10 -= p0;\n        else da0 = 0, a00 = a10 = (a0 + a1) / 2;\n        if ((da1 -= p1 * 2) > epsilon) p1 *= (cw ? 1 : -1), a01 += p1, a11 -= p1;\n        else da1 = 0, a01 = a11 = (a0 + a1) / 2;\n      }\n\n      var x01 = r1 * cos(a01),\n          y01 = r1 * sin(a01),\n          x10 = r0 * cos(a10),\n          y10 = r0 * sin(a10);\n\n      // Apply rounded corners?\n      if (rc > epsilon) {\n        var x11 = r1 * cos(a11),\n            y11 = r1 * sin(a11),\n            x00 = r0 * cos(a00),\n            y00 = r0 * sin(a00),\n            oc;\n\n        // Restrict the corner radius according to the sector angle.\n        if (da < pi && (oc = intersect(x01, y01, x00, y00, x11, y11, x10, y10))) {\n          var ax = x01 - oc[0],\n              ay = y01 - oc[1],\n              bx = x11 - oc[0],\n              by = y11 - oc[1],\n              kc = 1 / sin(acos((ax * bx + ay * by) / (sqrt(ax * ax + ay * ay) * sqrt(bx * bx + by * by))) / 2),\n              lc = sqrt(oc[0] * oc[0] + oc[1] * oc[1]);\n          rc0 = min(rc, (r0 - lc) / (kc - 1));\n          rc1 = min(rc, (r1 - lc) / (kc + 1));\n        }\n      }\n\n      // Is the sector collapsed to a line?\n      if (!(da1 > epsilon)) context.moveTo(x01, y01);\n\n      // Does the sector’s outer ring have rounded corners?\n      else if (rc1 > epsilon) {\n        t0 = cornerTangents(x00, y00, x01, y01, r1, rc1, cw);\n        t1 = cornerTangents(x11, y11, x10, y10, r1, rc1, cw);\n\n        context.moveTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc1 < rc) context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r1, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), !cw);\n          context.arc(t1.cx, t1.cy, rc1, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the outer ring just a circular arc?\n      else context.moveTo(x01, y01), context.arc(0, 0, r1, a01, a11, !cw);\n\n      // Is there no inner ring, and it’s a circular sector?\n      // Or perhaps it’s an annular sector collapsed due to padding?\n      if (!(r0 > epsilon) || !(da0 > epsilon)) context.lineTo(x10, y10);\n\n      // Does the sector’s inner ring (or point) have rounded corners?\n      else if (rc0 > epsilon) {\n        t0 = cornerTangents(x10, y10, x11, y11, r0, -rc0, cw);\n        t1 = cornerTangents(x01, y01, x00, y00, r0, -rc0, cw);\n\n        context.lineTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc0 < rc) context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r0, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), cw);\n          context.arc(t1.cx, t1.cy, rc0, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the inner ring just a circular arc?\n      else context.arc(0, 0, r0, a10, a00, cw);\n    }\n\n    context.closePath();\n\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  arc.centroid = function() {\n    var r = (+innerRadius.apply(this, arguments) + +outerRadius.apply(this, arguments)) / 2,\n        a = (+startAngle.apply(this, arguments) + +endAngle.apply(this, arguments)) / 2 - pi / 2;\n    return [cos(a) * r, sin(a) * r];\n  };\n\n  arc.innerRadius = function(_) {\n    return arguments.length ? (innerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : innerRadius;\n  };\n\n  arc.outerRadius = function(_) {\n    return arguments.length ? (outerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : outerRadius;\n  };\n\n  arc.cornerRadius = function(_) {\n    return arguments.length ? (cornerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : cornerRadius;\n  };\n\n  arc.padRadius = function(_) {\n    return arguments.length ? (padRadius = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), arc) : padRadius;\n  };\n\n  arc.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : startAngle;\n  };\n\n  arc.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : endAngle;\n  };\n\n  arc.padAngle = function(_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : padAngle;\n  };\n\n  arc.context = function(_) {\n    return arguments.length ? ((context = _ == null ? null : _), arc) : context;\n  };\n\n  return arc;\n}\n","export var slice = Array.prototype.slice;\n\nexport default function(x) {\n  return typeof x === \"object\" && \"length\" in x\n    ? x // Array, TypedArray, NodeList, array-like\n    : Array.from(x); // Map, Set, iterable, string, or anything else\n}\n","function Linear(context) {\n  this._context = context;\n}\n\nLinear.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // falls through\n      default: this._context.lineTo(x, y); break;\n    }\n  }\n};\n\nexport default function(context) {\n  return new Linear(context);\n}\n","export function x(p) {\n  return p[0];\n}\n\nexport function y(p) {\n  return p[1];\n}\n","import {path} from \"d3-path\";\nimport array from \"./array.js\";\nimport constant from \"./constant.js\";\nimport curveLinear from \"./curve/linear.js\";\nimport {x as pointX, y as pointY} from \"./point.js\";\n\nexport default function(x, y) {\n  var defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  x = typeof x === \"function\" ? x : (x === undefined) ? pointX : constant(x);\n  y = typeof y === \"function\" ? y : (y === undefined) ? pointY : constant(y);\n\n  function line(data) {\n    var i,\n        n = (data = array(data)).length,\n        d,\n        defined0 = false,\n        buffer;\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) output.lineStart();\n        else output.lineEnd();\n      }\n      if (defined0) output.point(+x(d, i, data), +y(d, i, data));\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  line.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), line) : x;\n  };\n\n  line.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), line) : y;\n  };\n\n  line.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), line) : defined;\n  };\n\n  line.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), line) : curve;\n  };\n\n  line.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), line) : context;\n  };\n\n  return line;\n}\n","var epsilon2 = 1e-12;\n\nfunction cosh(x) {\n  return ((x = Math.exp(x)) + 1 / x) / 2;\n}\n\nfunction sinh(x) {\n  return ((x = Math.exp(x)) - 1 / x) / 2;\n}\n\nfunction tanh(x) {\n  return ((x = Math.exp(2 * x)) - 1) / (x + 1);\n}\n\nexport default (function zoomRho(rho, rho2, rho4) {\n\n  // p0 = [ux0, uy0, w0]\n  // p1 = [ux1, uy1, w1]\n  function zoom(p0, p1) {\n    var ux0 = p0[0], uy0 = p0[1], w0 = p0[2],\n        ux1 = p1[0], uy1 = p1[1], w1 = p1[2],\n        dx = ux1 - ux0,\n        dy = uy1 - uy0,\n        d2 = dx * dx + dy * dy,\n        i,\n        S;\n\n    // Special case for u0 ≅ u1.\n    if (d2 < epsilon2) {\n      S = Math.log(w1 / w0) / rho;\n      i = function(t) {\n        return [\n          ux0 + t * dx,\n          uy0 + t * dy,\n          w0 * Math.exp(rho * t * S)\n        ];\n      }\n    }\n\n    // General case.\n    else {\n      var d1 = Math.sqrt(d2),\n          b0 = (w1 * w1 - w0 * w0 + rho4 * d2) / (2 * w0 * rho2 * d1),\n          b1 = (w1 * w1 - w0 * w0 - rho4 * d2) / (2 * w1 * rho2 * d1),\n          r0 = Math.log(Math.sqrt(b0 * b0 + 1) - b0),\n          r1 = Math.log(Math.sqrt(b1 * b1 + 1) - b1);\n      S = (r1 - r0) / rho;\n      i = function(t) {\n        var s = t * S,\n            coshr0 = cosh(r0),\n            u = w0 / (rho2 * d1) * (coshr0 * tanh(rho * s + r0) - sinh(r0));\n        return [\n          ux0 + u * dx,\n          uy0 + u * dy,\n          w0 * coshr0 / cosh(rho * s + r0)\n        ];\n      }\n    }\n\n    i.duration = S * 1000 * rho / Math.SQRT2;\n\n    return i;\n  }\n\n  zoom.rho = function(_) {\n    var _1 = Math.max(1e-3, +_), _2 = _1 * _1, _4 = _2 * _2;\n    return zoomRho(_1, _2, _4);\n  };\n\n  return zoom;\n})(Math.SQRT2, 2, 4);\n","export default x => () => x;\n","export default function ZoomEvent(type, {\n  sourceEvent,\n  target,\n  transform,\n  dispatch\n}) {\n  Object.defineProperties(this, {\n    type: {value: type, enumerable: true, configurable: true},\n    sourceEvent: {value: sourceEvent, enumerable: true, configurable: true},\n    target: {value: target, enumerable: true, configurable: true},\n    transform: {value: transform, enumerable: true, configurable: true},\n    _: {value: dispatch}\n  });\n}\n","export function Transform(k, x, y) {\n  this.k = k;\n  this.x = x;\n  this.y = y;\n}\n\nTransform.prototype = {\n  constructor: Transform,\n  scale: function(k) {\n    return k === 1 ? this : new Transform(this.k * k, this.x, this.y);\n  },\n  translate: function(x, y) {\n    return x === 0 & y === 0 ? this : new Transform(this.k, this.x + this.k * x, this.y + this.k * y);\n  },\n  apply: function(point) {\n    return [point[0] * this.k + this.x, point[1] * this.k + this.y];\n  },\n  applyX: function(x) {\n    return x * this.k + this.x;\n  },\n  applyY: function(y) {\n    return y * this.k + this.y;\n  },\n  invert: function(location) {\n    return [(location[0] - this.x) / this.k, (location[1] - this.y) / this.k];\n  },\n  invertX: function(x) {\n    return (x - this.x) / this.k;\n  },\n  invertY: function(y) {\n    return (y - this.y) / this.k;\n  },\n  rescaleX: function(x) {\n    return x.copy().domain(x.range().map(this.invertX, this).map(x.invert, x));\n  },\n  rescaleY: function(y) {\n    return y.copy().domain(y.range().map(this.invertY, this).map(y.invert, y));\n  },\n  toString: function() {\n    return \"translate(\" + this.x + \",\" + this.y + \") scale(\" + this.k + \")\";\n  }\n};\n\nexport var identity = new Transform(1, 0, 0);\n\ntransform.prototype = Transform.prototype;\n\nexport default function transform(node) {\n  while (!node.__zoom) if (!(node = node.parentNode)) return identity;\n  return node.__zoom;\n}\n","export function nopropagation(event) {\n  event.stopImmediatePropagation();\n}\n\nexport default function(event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {dragDisable, dragEnable} from \"d3-drag\";\nimport {interpolateZoom} from \"d3-interpolate\";\nimport {select, pointer} from \"d3-selection\";\nimport {interrupt} from \"d3-transition\";\nimport constant from \"./constant.js\";\nimport ZoomEvent from \"./event.js\";\nimport {Transform, identity} from \"./transform.js\";\nimport noevent, {nopropagation} from \"./noevent.js\";\n\n// Ignore right-click, since that should open the context menu.\n// except for pinch-to-zoom, which is sent as a wheel+ctrlKey event\nfunction defaultFilter(event) {\n  return (!event.ctrlKey || event.type === 'wheel') && !event.button;\n}\n\nfunction defaultExtent() {\n  var e = this;\n  if (e instanceof SVGElement) {\n    e = e.ownerSVGElement || e;\n    if (e.hasAttribute(\"viewBox\")) {\n      e = e.viewBox.baseVal;\n      return [[e.x, e.y], [e.x + e.width, e.y + e.height]];\n    }\n    return [[0, 0], [e.width.baseVal.value, e.height.baseVal.value]];\n  }\n  return [[0, 0], [e.clientWidth, e.clientHeight]];\n}\n\nfunction defaultTransform() {\n  return this.__zoom || identity;\n}\n\nfunction defaultWheelDelta(event) {\n  return -event.deltaY * (event.deltaMode === 1 ? 0.05 : event.deltaMode ? 1 : 0.002) * (event.ctrlKey ? 10 : 1);\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\nfunction defaultConstrain(transform, extent, translateExtent) {\n  var dx0 = transform.invertX(extent[0][0]) - translateExtent[0][0],\n      dx1 = transform.invertX(extent[1][0]) - translateExtent[1][0],\n      dy0 = transform.invertY(extent[0][1]) - translateExtent[0][1],\n      dy1 = transform.invertY(extent[1][1]) - translateExtent[1][1];\n  return transform.translate(\n    dx1 > dx0 ? (dx0 + dx1) / 2 : Math.min(0, dx0) || Math.max(0, dx1),\n    dy1 > dy0 ? (dy0 + dy1) / 2 : Math.min(0, dy0) || Math.max(0, dy1)\n  );\n}\n\nexport default function() {\n  var filter = defaultFilter,\n      extent = defaultExtent,\n      constrain = defaultConstrain,\n      wheelDelta = defaultWheelDelta,\n      touchable = defaultTouchable,\n      scaleExtent = [0, Infinity],\n      translateExtent = [[-Infinity, -Infinity], [Infinity, Infinity]],\n      duration = 250,\n      interpolate = interpolateZoom,\n      listeners = dispatch(\"start\", \"zoom\", \"end\"),\n      touchstarting,\n      touchfirst,\n      touchending,\n      touchDelay = 500,\n      wheelDelay = 150,\n      clickDistance2 = 0,\n      tapDistance = 10;\n\n  function zoom(selection) {\n    selection\n        .property(\"__zoom\", defaultTransform)\n        .on(\"wheel.zoom\", wheeled, {passive: false})\n        .on(\"mousedown.zoom\", mousedowned)\n        .on(\"dblclick.zoom\", dblclicked)\n      .filter(touchable)\n        .on(\"touchstart.zoom\", touchstarted)\n        .on(\"touchmove.zoom\", touchmoved)\n        .on(\"touchend.zoom touchcancel.zoom\", touchended)\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  zoom.transform = function(collection, transform, point, event) {\n    var selection = collection.selection ? collection.selection() : collection;\n    selection.property(\"__zoom\", defaultTransform);\n    if (collection !== selection) {\n      schedule(collection, transform, point, event);\n    } else {\n      selection.interrupt().each(function() {\n        gesture(this, arguments)\n          .event(event)\n          .start()\n          .zoom(null, typeof transform === \"function\" ? transform.apply(this, arguments) : transform)\n          .end();\n      });\n    }\n  };\n\n  zoom.scaleBy = function(selection, k, p, event) {\n    zoom.scaleTo(selection, function() {\n      var k0 = this.__zoom.k,\n          k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return k0 * k1;\n    }, p, event);\n  };\n\n  zoom.scaleTo = function(selection, k, p, event) {\n    zoom.transform(selection, function() {\n      var e = extent.apply(this, arguments),\n          t0 = this.__zoom,\n          p0 = p == null ? centroid(e) : typeof p === \"function\" ? p.apply(this, arguments) : p,\n          p1 = t0.invert(p0),\n          k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return constrain(translate(scale(t0, k1), p0, p1), e, translateExtent);\n    }, p, event);\n  };\n\n  zoom.translateBy = function(selection, x, y, event) {\n    zoom.transform(selection, function() {\n      return constrain(this.__zoom.translate(\n        typeof x === \"function\" ? x.apply(this, arguments) : x,\n        typeof y === \"function\" ? y.apply(this, arguments) : y\n      ), extent.apply(this, arguments), translateExtent);\n    }, null, event);\n  };\n\n  zoom.translateTo = function(selection, x, y, p, event) {\n    zoom.transform(selection, function() {\n      var e = extent.apply(this, arguments),\n          t = this.__zoom,\n          p0 = p == null ? centroid(e) : typeof p === \"function\" ? p.apply(this, arguments) : p;\n      return constrain(identity.translate(p0[0], p0[1]).scale(t.k).translate(\n        typeof x === \"function\" ? -x.apply(this, arguments) : -x,\n        typeof y === \"function\" ? -y.apply(this, arguments) : -y\n      ), e, translateExtent);\n    }, p, event);\n  };\n\n  function scale(transform, k) {\n    k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], k));\n    return k === transform.k ? transform : new Transform(k, transform.x, transform.y);\n  }\n\n  function translate(transform, p0, p1) {\n    var x = p0[0] - p1[0] * transform.k, y = p0[1] - p1[1] * transform.k;\n    return x === transform.x && y === transform.y ? transform : new Transform(transform.k, x, y);\n  }\n\n  function centroid(extent) {\n    return [(+extent[0][0] + +extent[1][0]) / 2, (+extent[0][1] + +extent[1][1]) / 2];\n  }\n\n  function schedule(transition, transform, point, event) {\n    transition\n        .on(\"start.zoom\", function() { gesture(this, arguments).event(event).start(); })\n        .on(\"interrupt.zoom end.zoom\", function() { gesture(this, arguments).event(event).end(); })\n        .tween(\"zoom\", function() {\n          var that = this,\n              args = arguments,\n              g = gesture(that, args).event(event),\n              e = extent.apply(that, args),\n              p = point == null ? centroid(e) : typeof point === \"function\" ? point.apply(that, args) : point,\n              w = Math.max(e[1][0] - e[0][0], e[1][1] - e[0][1]),\n              a = that.__zoom,\n              b = typeof transform === \"function\" ? transform.apply(that, args) : transform,\n              i = interpolate(a.invert(p).concat(w / a.k), b.invert(p).concat(w / b.k));\n          return function(t) {\n            if (t === 1) t = b; // Avoid rounding error on end.\n            else { var l = i(t), k = w / l[2]; t = new Transform(k, p[0] - l[0] * k, p[1] - l[1] * k); }\n            g.zoom(null, t);\n          };\n        });\n  }\n\n  function gesture(that, args, clean) {\n    return (!clean && that.__zooming) || new Gesture(that, args);\n  }\n\n  function Gesture(that, args) {\n    this.that = that;\n    this.args = args;\n    this.active = 0;\n    this.sourceEvent = null;\n    this.extent = extent.apply(that, args);\n    this.taps = 0;\n  }\n\n  Gesture.prototype = {\n    event: function(event) {\n      if (event) this.sourceEvent = event;\n      return this;\n    },\n    start: function() {\n      if (++this.active === 1) {\n        this.that.__zooming = this;\n        this.emit(\"start\");\n      }\n      return this;\n    },\n    zoom: function(key, transform) {\n      if (this.mouse && key !== \"mouse\") this.mouse[1] = transform.invert(this.mouse[0]);\n      if (this.touch0 && key !== \"touch\") this.touch0[1] = transform.invert(this.touch0[0]);\n      if (this.touch1 && key !== \"touch\") this.touch1[1] = transform.invert(this.touch1[0]);\n      this.that.__zoom = transform;\n      this.emit(\"zoom\");\n      return this;\n    },\n    end: function() {\n      if (--this.active === 0) {\n        delete this.that.__zooming;\n        this.emit(\"end\");\n      }\n      return this;\n    },\n    emit: function(type) {\n      var d = select(this.that).datum();\n      listeners.call(\n        type,\n        this.that,\n        new ZoomEvent(type, {\n          sourceEvent: this.sourceEvent,\n          target: zoom,\n          type,\n          transform: this.that.__zoom,\n          dispatch: listeners\n        }),\n        d\n      );\n    }\n  };\n\n  function wheeled(event, ...args) {\n    if (!filter.apply(this, arguments)) return;\n    var g = gesture(this, args).event(event),\n        t = this.__zoom,\n        k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], t.k * Math.pow(2, wheelDelta.apply(this, arguments)))),\n        p = pointer(event);\n\n    // If the mouse is in the same location as before, reuse it.\n    // If there were recent wheel events, reset the wheel idle timeout.\n    if (g.wheel) {\n      if (g.mouse[0][0] !== p[0] || g.mouse[0][1] !== p[1]) {\n        g.mouse[1] = t.invert(g.mouse[0] = p);\n      }\n      clearTimeout(g.wheel);\n    }\n\n    // If this wheel event won’t trigger a transform change, ignore it.\n    else if (t.k === k) return;\n\n    // Otherwise, capture the mouse point and location at the start.\n    else {\n      g.mouse = [p, t.invert(p)];\n      interrupt(this);\n      g.start();\n    }\n\n    noevent(event);\n    g.wheel = setTimeout(wheelidled, wheelDelay);\n    g.zoom(\"mouse\", constrain(translate(scale(t, k), g.mouse[0], g.mouse[1]), g.extent, translateExtent));\n\n    function wheelidled() {\n      g.wheel = null;\n      g.end();\n    }\n  }\n\n  function mousedowned(event, ...args) {\n    if (touchending || !filter.apply(this, arguments)) return;\n    var currentTarget = event.currentTarget,\n        g = gesture(this, args, true).event(event),\n        v = select(event.view).on(\"mousemove.zoom\", mousemoved, true).on(\"mouseup.zoom\", mouseupped, true),\n        p = pointer(event, currentTarget),\n        x0 = event.clientX,\n        y0 = event.clientY;\n\n    dragDisable(event.view);\n    nopropagation(event);\n    g.mouse = [p, this.__zoom.invert(p)];\n    interrupt(this);\n    g.start();\n\n    function mousemoved(event) {\n      noevent(event);\n      if (!g.moved) {\n        var dx = event.clientX - x0, dy = event.clientY - y0;\n        g.moved = dx * dx + dy * dy > clickDistance2;\n      }\n      g.event(event)\n       .zoom(\"mouse\", constrain(translate(g.that.__zoom, g.mouse[0] = pointer(event, currentTarget), g.mouse[1]), g.extent, translateExtent));\n    }\n\n    function mouseupped(event) {\n      v.on(\"mousemove.zoom mouseup.zoom\", null);\n      dragEnable(event.view, g.moved);\n      noevent(event);\n      g.event(event).end();\n    }\n  }\n\n  function dblclicked(event, ...args) {\n    if (!filter.apply(this, arguments)) return;\n    var t0 = this.__zoom,\n        p0 = pointer(event.changedTouches ? event.changedTouches[0] : event, this),\n        p1 = t0.invert(p0),\n        k1 = t0.k * (event.shiftKey ? 0.5 : 2),\n        t1 = constrain(translate(scale(t0, k1), p0, p1), extent.apply(this, args), translateExtent);\n\n    noevent(event);\n    if (duration > 0) select(this).transition().duration(duration).call(schedule, t1, p0, event);\n    else select(this).call(zoom.transform, t1, p0, event);\n  }\n\n  function touchstarted(event, ...args) {\n    if (!filter.apply(this, arguments)) return;\n    var touches = event.touches,\n        n = touches.length,\n        g = gesture(this, args, event.changedTouches.length === n).event(event),\n        started, i, t, p;\n\n    nopropagation(event);\n    for (i = 0; i < n; ++i) {\n      t = touches[i], p = pointer(t, this);\n      p = [p, this.__zoom.invert(p), t.identifier];\n      if (!g.touch0) g.touch0 = p, started = true, g.taps = 1 + !!touchstarting;\n      else if (!g.touch1 && g.touch0[2] !== p[2]) g.touch1 = p, g.taps = 0;\n    }\n\n    if (touchstarting) touchstarting = clearTimeout(touchstarting);\n\n    if (started) {\n      if (g.taps < 2) touchfirst = p[0], touchstarting = setTimeout(function() { touchstarting = null; }, touchDelay);\n      interrupt(this);\n      g.start();\n    }\n  }\n\n  function touchmoved(event, ...args) {\n    if (!this.__zooming) return;\n    var g = gesture(this, args).event(event),\n        touches = event.changedTouches,\n        n = touches.length, i, t, p, l;\n\n    noevent(event);\n    for (i = 0; i < n; ++i) {\n      t = touches[i], p = pointer(t, this);\n      if (g.touch0 && g.touch0[2] === t.identifier) g.touch0[0] = p;\n      else if (g.touch1 && g.touch1[2] === t.identifier) g.touch1[0] = p;\n    }\n    t = g.that.__zoom;\n    if (g.touch1) {\n      var p0 = g.touch0[0], l0 = g.touch0[1],\n          p1 = g.touch1[0], l1 = g.touch1[1],\n          dp = (dp = p1[0] - p0[0]) * dp + (dp = p1[1] - p0[1]) * dp,\n          dl = (dl = l1[0] - l0[0]) * dl + (dl = l1[1] - l0[1]) * dl;\n      t = scale(t, Math.sqrt(dp / dl));\n      p = [(p0[0] + p1[0]) / 2, (p0[1] + p1[1]) / 2];\n      l = [(l0[0] + l1[0]) / 2, (l0[1] + l1[1]) / 2];\n    }\n    else if (g.touch0) p = g.touch0[0], l = g.touch0[1];\n    else return;\n\n    g.zoom(\"touch\", constrain(translate(t, p, l), g.extent, translateExtent));\n  }\n\n  function touchended(event, ...args) {\n    if (!this.__zooming) return;\n    var g = gesture(this, args).event(event),\n        touches = event.changedTouches,\n        n = touches.length, i, t;\n\n    nopropagation(event);\n    if (touchending) clearTimeout(touchending);\n    touchending = setTimeout(function() { touchending = null; }, touchDelay);\n    for (i = 0; i < n; ++i) {\n      t = touches[i];\n      if (g.touch0 && g.touch0[2] === t.identifier) delete g.touch0;\n      else if (g.touch1 && g.touch1[2] === t.identifier) delete g.touch1;\n    }\n    if (g.touch1 && !g.touch0) g.touch0 = g.touch1, delete g.touch1;\n    if (g.touch0) g.touch0[1] = this.__zoom.invert(g.touch0[0]);\n    else {\n      g.end();\n      // If this was a dbltap, reroute to the (optional) dblclick.zoom handler.\n      if (g.taps === 2) {\n        t = pointer(t, this);\n        if (Math.hypot(touchfirst[0] - t[0], touchfirst[1] - t[1]) < tapDistance) {\n          var p = select(this).on(\"dblclick.zoom\");\n          if (p) p.apply(this, arguments);\n        }\n      }\n    }\n  }\n\n  zoom.wheelDelta = function(_) {\n    return arguments.length ? (wheelDelta = typeof _ === \"function\" ? _ : constant(+_), zoom) : wheelDelta;\n  };\n\n  zoom.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), zoom) : filter;\n  };\n\n  zoom.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), zoom) : touchable;\n  };\n\n  zoom.extent = function(_) {\n    return arguments.length ? (extent = typeof _ === \"function\" ? _ : constant([[+_[0][0], +_[0][1]], [+_[1][0], +_[1][1]]]), zoom) : extent;\n  };\n\n  zoom.scaleExtent = function(_) {\n    return arguments.length ? (scaleExtent[0] = +_[0], scaleExtent[1] = +_[1], zoom) : [scaleExtent[0], scaleExtent[1]];\n  };\n\n  zoom.translateExtent = function(_) {\n    return arguments.length ? (translateExtent[0][0] = +_[0][0], translateExtent[1][0] = +_[1][0], translateExtent[0][1] = +_[0][1], translateExtent[1][1] = +_[1][1], zoom) : [[translateExtent[0][0], translateExtent[0][1]], [translateExtent[1][0], translateExtent[1][1]]];\n  };\n\n  zoom.constrain = function(_) {\n    return arguments.length ? (constrain = _, zoom) : constrain;\n  };\n\n  zoom.duration = function(_) {\n    return arguments.length ? (duration = +_, zoom) : duration;\n  };\n\n  zoom.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, zoom) : interpolate;\n  };\n\n  zoom.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? zoom : value;\n  };\n\n  zoom.clickDistance = function(_) {\n    return arguments.length ? (clickDistance2 = (_ = +_) * _, zoom) : Math.sqrt(clickDistance2);\n  };\n\n  zoom.tapDistance = function(_) {\n    return arguments.length ? (tapDistance = +_, zoom) : tapDistance;\n  };\n\n  return zoom;\n}\n"],"names":["ace","define","require","exports","module","dom","oop","EventEmitter","lang","Range","RangeList","HashHandler","Tokenizer","clipboard","VARIABLES","CURRENT_WORD","editor","session","getTextRange","getWordRange","SELECTION","name","indentation","text","replace","CURRENT_LINE","getLine","getCursorPosition","row","PREV_LINE","LINE_INDEX","LINE_NUMBER","SOFT_TABS","getUseSoftTabs","TAB_SIZE","getTabSize","CLIPBOARD","getText","FILENAME","exec","this","FILEPATH","FILENAME_BASE","DIRECTORY","WORKSPACE_NAME","FULLNAME","BLOCK_COMMENT_START","mode","$mode","blockComment","start","BLOCK_COMMENT_END","end","LINE_COMMENT","lineCommentStart","CURRENT_YEAR","date","bind","year","CURRENT_YEAR_SHORT","CURRENT_MONTH","month","CURRENT_MONTH_NAME","CURRENT_MONTH_NAME_SHORT","CURRENT_DATE","day","CURRENT_DAY_NAME","weekday","CURRENT_DAY_NAME_SHORT","CURRENT_HOUR","hour","hour12","CURRENT_MINUTE","minute","CURRENT_SECOND","second","dateFormat","str","Date","toLocaleString","length","SELECTED_TEXT","SnippetManager","snippetMap","snippetNameMap","implement","getTokenizer","$tokenizer","createTokenizer","TabstopToken","substr","test","tabstopId","parseInt","escape","ch","formatMatcher","regex","onMatch","val","state","stack","ts","fmtString","guard","slice","flag","next","indexOf","shift","t","unshift","token","merge","snippetVar","choices","operator","split","map","value","formatString","expectElse","ifEnd","elseEnd","changeCase","local","formatStringVar","formatFunction","tokenizeTmSnippet","startState","getLineTokens","tokens","x","getVariableValue","variables","__","hasOwnProperty","tmStrFormat","fmt","re","RegExp","fmtTokens","_self","formatted","oldArgs","call","arguments","fmtParts","resolveVariables","gChangeCase","i","toUpperCase","toLowerCase","join","tmFormatFunction","snippet","result","afterNewLine","j","push","gotoNext","i1","insertSnippetForSelection","snippetText","cursor","line","tabString","getTabString","indentString","match","column","tabstops","forEach","p","id","index","parents","some","expanding","copyValue","copy","lastIndexOf","Object","keys","parentId","splice","apply","Math","max","concat","lines","range","getSelectionRange","tabstopManager","TabstopManager","selectionId","inVirtualSelectionMode","selection","addTabstops","insertSnippet","self","forEachSelection","keepOrder","tabNext","$getScope","scope","$id","pop","inlinePhp","c","getState","substring","getActiveScopes","scopes","includeScopes","expandWithTab","options","expandSnippetForSelection","before","after","snippets","findMatchingSnippet","dryRun","doc","removeInLine","replaceBefore","replaceAfter","M__","matchBefore","T__","matchAfter","content","snippetList","s","startRe","endRe","triggerRe","endTriggerRe","register","wrapRegexp","src","guardedRegexp","opening","addSnippet","old","unregister","prefix","tabTrigger","body","Array","isArray","trigger","escapeRegExp","endTrigger","endGuard","key","_signal","removeSnippet","nameMap","parseSnippetFile","m","list","JSON","parse","e","guardRe","getSnippetByName","prototype","$onChange","onChange","$onChangeSelection","delayedCall","onChangeSelection","schedule","$onChangeSession","onChangeSession","$onAfterExec","onAfterExec","attach","ranges","$openTabstops","selectedTabstop","on","commands","keyBinding","addKeyboardHandler","keyboardHandler","detach","removeTabstopMarkers","removeListener","removeKeyboardHandler","delta","isRemove","action","active","rangeList","$bias","parentActive","startIndex","pointIndex","endIndex","toRemove","removeRange","$inChange","getLength","getValue","updateLinkedFields","hasLinkedRanges","firstNonLinked","linked","original","snippetManager","command","readOnly","lead","anchor","isEmpty","containsLead","contains","containsAnchor","dir","min","selectTabstop","addTabstopMarkers","fromOrientedRange","sel","multiSelect","toSingleRange","addRange","clone","execCommand","matches","useLink","getOption","fromPoints","moveRelative","arg","dest","movePoint","tabstop","addList","markerId","addMarker","removeMarker","bindKeys","renderer","scrollCursorIntoView","point","diff","importCssString","Editor","expandSnippet","Renderer","VirtualRenderer","event","$singleLineEditor","el","$maxLines","setHighlightActiveLine","setShowPrintMargin","setShowGutter","setHighlightGutterLine","$mouseHandler","$focusTimeout","$highlightTagPending","AcePopup","parentNode","createElement","popup","appendChild","style","display","setStyle","setOption","lastMouseEvent","noop","focus","$isFocused","$cursorLayer","restartTimer","element","opacity","$keepTextAreaAtCursor","highlight","$searchHighlight","clazz","pos","getDocumentPosition","moveToPosition","selectionMarker","stop","hoverMarker","Infinity","setSelectOnHover","y","scrollTop","setRow","setHoverMarker","$pos","getRow","$textLayer","selected","childNodes","config","firstRow","selectedNode","removeCssClass","addCssClass","hideHoverMarker","suppressRedraw","_emit","getHoveredRow","addListener","container","data","bgTokenizer","$tokenizeRow","caption","addToken","className","type","lower","filterText","lastIndex","lastI","matchMask","sub","meta","message","$updateOnChange","$computeWidth","screenWidth","isOpen","isTopdown","autoSelect","setData","setValue","stringRepeat","getData","clearSelection","moveCursorTo","hide","show","lineHeight","topdownOnly","screenHeight","window","innerHeight","innerWidth","maxH","top","$borderSize","$maxPixelHeight","bottom","left","offsetWidth","goTo","where","getTextLeftOffset","$padding","$imageSize","parForEach","array","fn","callback","completed","arLength","err","ID_REGEX","retrievePrecedingIdentifier","buf","reverse","retrieveFollowingIdentifier","getCompletionPrefix","completers","completer","identifierRegexps","identifierRegex","util","Autocomplete","autoInsert","exactMatch","gatherCompletionsId","blurListener","changeListener","mousedownListener","mousewheelListener","changeTimer","updateCompletions","tooltipTimer","updateDocTooltip","$init","document","documentElement","insertMatch","getPopup","openPopup","keepPopupPosition","completions","filtered","setTheme","getTheme","setFontSize","getFontSize","layerConfig","getPixelPosition","base","rect","getBoundingClientRect","offset","scrollLeft","gutterWidth","cancel","off","hideDocTooltip","activated","activeElement","textInput","getElement","fromTooltip","relatedTarget","tooltipNode","startOperation","getAllRanges","remove","endOperation","deleteSuffix","gotoPageUp","gotoPageDown","gatherCompletions","getSession","createAnchor","$insertRight","total","getCompletions","results","finished","showPopup","setFilter","FilteredList","_id","detachIfFinished","processResults","isImmediate","immediateResults","cancelContextMenu","all","getDocTooltip","docText","docHTML","showDocTooltip","item","margin","pointerEvents","tabIndex","onblur","onclick","onTooltipClick","innerHTML","textContent","right","offsetTop","offsetHeight","isFocused","removeChild","a","target","nodeName","href","rel","destroy","for","get","$shared","$sharedInstance","once","startCommand","bindKey","filterCompletions","sort","b","$score","localeCompare","prev","filter","items","needle","upper","loop","distance","penalty","fullMatchIndex","i2","score","splitRegex","wordDistance","prefixPos","getWordIndex","words","wordScores","create","currentWord","word","idx","abs","wordScore","textCompleter","keyWordCompleter","transformSnippetTooltip","record","_","p1","p2","p3","snippetCompleter","getTokenAt","escapeHTML","setCompleters","addCompleter","onChangeMode","loadSnippetsForMode","$modes","files","loadSnippetFile","snippetFileId","modes","snippetFilePath","loadModule","doLiveAutocomplete","hasCompleter","defineOptions","enableBasicAutocompletion","set","addCommand","removeCommand","enableLiveAutocompletion","enableSnippets","isDark","cssClass","cssText","diff_match_patch","Diff_Timeout","Diff_EditCost","Match_Threshold","Match_Distance","Patch_DeleteThreshold","Patch_Margin","Match_MaxBits","DIFF_DELETE","Diff","op","diff_main","text1","text2","opt_checklines","opt_deadline","Number","MAX_VALUE","getTime","deadline","Error","checklines","commonlength","diff_commonPrefix","commonprefix","diff_commonSuffix","commonsuffix","diffs","diff_compute_","diff_cleanupMerge","longtext","shorttext","hm","diff_halfMatch_","text1_a","text1_b","text2_a","text2_b","mid_common","diffs_a","diffs_b","diff_lineMode_","diff_bisect_","diff_linesToChars_","chars1","chars2","linearray","lineArray","diff_charsToLines_","diff_cleanupSemantic","pointer","count_delete","count_insert","text_delete","text_insert","subDiff","text1_length","text2_length","max_d","ceil","v_offset","v_length","v1","v2","front","k1start","k1end","k2start","k2end","d","k1","k1_offset","y1","x1","charAt","k2_offset","x2","diff_bisectSplit_","k2","y2","text1a","text2a","text1b","text2b","diffsb","lineHash","diff_linesToCharsMunge_","chars","lineStart","lineEnd","lineArrayLength","undefined","String","fromCharCode","maxLines","charCodeAt","pointermin","pointermax","pointermid","pointerstart","floor","pointerend","diff_commonOverlap_","text_length","best","pattern","found","dmp","diff_halfMatchI_","best_longtext_a","best_longtext_b","best_shorttext_a","best_shorttext_b","seed","best_common","prefixLength","suffixLength","hm1","hm2","changes","equalities","equalitiesLength","lastEquality","length_insertions1","length_deletions1","length_insertions2","length_deletions2","diff_cleanupSemanticLossless","deletion","insertion","overlap_length1","overlap_length2","diff_cleanupSemanticScore_","one","two","char1","char2","nonAlphaNumeric1","nonAlphaNumericRegex_","nonAlphaNumeric2","whitespace1","whitespaceRegex_","whitespace2","lineBreak1","linebreakRegex_","lineBreak2","blankLine1","blanklineEndRegex_","blankLine2","blanklineStartRegex_","equality1","edit","equality2","commonOffset","commonString","bestEquality1","bestEdit","bestEquality2","bestScore","diff_cleanupEfficiency","pre_ins","pre_del","post_ins","post_del","diff_xIndex","loc","last_chars1","last_chars2","diff_prettyHtml","html","pattern_amp","pattern_lt","pattern_gt","pattern_para","diff_text1","diff_text2","diff_levenshtein","levenshtein","insertions","deletions","diff_toDelta","encodeURI","diff_fromDelta","diffsLength","param","decodeURI","ex","n","isNaN","match_main","match_bitap_","match_alphabet_","match_bitapScore_","accuracy","proximity","score_threshold","best_loc","bin_min","bin_mid","matchmask","last_rd","bin_max","finish","rd","charMatch","patch_addContext_","patch","start2","length1","padding","suffix","start1","length2","patch_make","opt_b","opt_c","patches","patch_obj","patchDiffLength","char_count1","char_count2","prepatch_text","postpatch_text","diff_type","diff_text","patch_deepCopy","patchesCopy","patchCopy","patch_apply","nullPadding","patch_addPadding","patch_splitMax","start_loc","expected_loc","end_loc","index2","index1","mod","paddingLength","extraLength","patch_size","bigpatch","precontext","empty","postcontext","patch_toText","patch_fromText","textline","textPointer","patchHeader","sign","toString","HASH_UNDEFINED","funcTag","genTag","reIsDeepProp","reIsPlainProp","reLeadingDot","rePropName","reEscapeChar","reIsHostCtor","freeGlobal","global","freeSelf","root","Function","arrayProto","funcProto","objectProto","coreJsData","maskSrcKey","uid","IE_PROTO","funcToString","objectToString","reIsNative","Symbol","Map","getNative","nativeCreate","symbolProto","symbolToString","Hash","entries","clear","entry","ListCache","MapCache","assocIndexOf","other","baseGet","object","path","isSymbol","isKey","stringToPath","toKey","baseIsNative","isObject","func","tag","isFunction","isHostObject","toSource","getMapData","__data__","isKeyable","has","memoize","string","baseToString","number","quote","resolver","TypeError","memoized","args","cache","Cache","isObjectLike","defaultValue","MAX_SAFE_INTEGER","argsTag","arrayTag","boolTag","dateTag","errorTag","mapTag","numberTag","objectTag","promiseTag","regexpTag","setTag","stringTag","symbolTag","weakMapTag","arrayBufferTag","dataViewTag","reIsUint","typedArrayTags","freeExports","nodeType","freeModule","moduleExports","freeProcess","process","nodeUtil","binding","nodeIsTypedArray","isTypedArray","arraySome","predicate","mapToArray","size","setToArray","transform","nativeObjectToString","Buffer","Uint8Array","propertyIsEnumerable","symToStringTag","toStringTag","nativeGetSymbols","getOwnPropertySymbols","nativeIsBuffer","isBuffer","nativeKeys","DataView","Promise","Set","WeakMap","dataViewCtorString","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","symbolValueOf","valueOf","SetCache","values","add","Stack","arrayLikeKeys","inherited","isArr","isArg","isArguments","isBuff","isType","skipIndexes","iteratee","baseTimes","isIndex","eq","baseGetTag","isOwn","unmasked","getRawTag","baseIsArguments","baseIsEqual","bitmask","customizer","equalFunc","objIsArr","othIsArr","objTag","getTag","othTag","objIsObj","othIsObj","isSameTag","equalArrays","byteLength","byteOffset","buffer","convert","isPartial","stacked","equalByTag","objIsWrapped","othIsWrapped","objUnwrapped","othUnwrapped","objProps","getAllKeys","objLength","othLength","skipCtor","objValue","othValue","compared","objCtor","constructor","othCtor","equalObjects","baseIsEqualDeep","isMasked","baseKeys","Ctor","proto","isPrototype","arrLength","seen","arrValue","othIndex","keysFunc","symbolsFunc","arrayPush","baseGetAllKeys","getSymbols","pairs","LARGE_ARRAY_SIZE","resIndex","arrayFilter","symbol","ArrayBuffer","resolve","ctorString","isLength","baseUnary","isEqual","getAceInstance","props","_super","editorOptions_1","method","_this","debounce","__extends","ReactAce","node","parent","onBeforeLoad","onValidate","theme","fontSize","showGutter","wrapEnabled","showPrintMargin","_b","scrollMargin","onLoad","annotations","markers","placeholder","refEditor","editorProps","debounceChangePeriod","setScrollMargin","isInShadow","attachToShadowRoot","setMode","navigateToFileEnd","navigateFileEnd","setUseWrapMode","onFocus","onBlur","onCopy","onPaste","onInput","updatePlaceholder","onSelectionChange","onCursorChange","getAnnotations","onScroll","setAnnotations","handleMarkers","availableOptions","$options","option","console","warn","handleOptions","setKeyboardHandler","resize","prevProps","oldProps","nextProps","appliedClassesArray_1","trim","oldClass","valueChanged","silent","toJSON","cursorStart","fromJSON","setOptions","handleScrollMargins","height","width","margins","getSelection","_a","currentMarkers","getMarkers","startRow","startCol","endRow","endCol","inFront","ace_builds_1","showPlaceholder","placeholderNode","scroller","position","zIndex","divStyle","React","ref","updateRef","PropTypes","oneOfType","bool","minLines","highlightActiveLine","tabSize","Component","DiffMatchPatch","DiffComponent","setState","lhString","rhString","diffedLines","generateDiffedLines","setCodeMarkers","C","chunk","chunkType","firstChar","lastChar","linesToHighlight","startLine","endLine","codeEditorSettings","newMarkerSet","markerObj","split_1","orientation","splits","acequire","delay","timer","context","clearTimeout","setTimeout","diff_1","ace_1","SplitComponent","ext_split_1","env","splitEditor","getEditor","defaultValueForEditor","valueForEditor","setUndoManager","UndoManager","newAnnotations","newMarkers","sp","setOrientation","BELOW","BESIDE","setSplits","nextValue","oldAnnotations","oldMarkers","value_1","value_2","value_3","arrayOf","deps","payload","modules","payloads","error","trace","_require","lookup","params","l","dep","packagedModule","normalizeModule","moduleName","chunks","previous","uri","packaged","ns","exportAce","defineProp","obj","defineProperty","enumerable","writable","configurable","startsWith","searchString","endsWith","subjectString","repeat","count","includes","assign","output","source","o","k","find","len","thisArg","kValue","findIndex","fill","O","relativeStart","relativeEnd","final","of","last","stringReverse","trimBeginRegexp","trimEndRegexp","stringTrimLeft","stringTrimRight","copyObject","copyArray","deepCopy","arrayToMap","arr","createMap","arrayRemove","getMatchOffsets","regExp","deferredCall","fcn","deferred","timeout","isPending","defaultTimeout","inherits","ctor","superCtor","super_","mixin","OS","LINUX","MAC","WINDOWS","getOS","isMac","isLinux","_navigator","navigator","os","platform","ua","userAgent","appName","isWin","isIE","parseFloat","isOldIE","isGecko","isMozilla","isOpera","opera","isWebKit","isChrome","isEdge","isAIR","isAndroid","isChromeOS","isIOS","MSStream","isMobile","strictCSP","useragent","buildDom","refs","txt","createTextNode","els","childIndex","setAttribute","getDocumentHead","head","getElementsByTagName","createElementNS","removeChildren","ownerDocument","createFragment","createDocumentFragment","hasCssClass","classes","toggleCssClass","setCssClass","include","hasCssString","sheets","querySelectorAll","removeElementById","getElementById","cssCache","insertPendingStyles","getRootNode","insertBefore","firstChild","useStrictCSP","importCssStylsheet","scrollbarWidth","inner","minWidth","outer","overflow","noScrollbar","withScrollbar","clientWidth","computedStyle","getComputedStyle","styles","property","HAS_CSS_ANIMATION","HAS_CSS_TRANSFORMS","HI_DPI","devicePixelRatio","div","animationName","translate","tx","ty","round","url","xhr","XMLHttpRequest","open","onreadystatechange","readyState","responseText","send","loadScript","onload","isAbort","qualifyURL","stopPropagation","propagationStopped","preventDefault","defaultPrevented","_dispatchEvent","eventName","_eventRegistry","_defaultHandlers","listeners","defaultHandler","newCallback","setDefaultHandler","handlers","_disabled_","disabled","removeDefaultHandler","addEventListener","capturing","removeEventListener","removeAllListeners","optionsProvider","optList","getOptions","optionNames","hidden","opt","forwardTo","handlesSet","reportError","msg","AppConfig","$defaultOptions","initialValue","resetOptions","setDefaultValue","opts","setDefaultValues","optionHash","net","workerPath","modePath","themePath","basePath","$moduleUrls","loadWorkerFromBlob","sharedPopups","moduleUrl","component","parts","sep","setModuleUrl","subst","loader","cb","setLoader","$loading","moduleType","afterLoad","reportErrorIfPathIsNotConfigured","version","init","scriptOptions","scriptUrl","currentScript","_currentScript","scripts","script","getAttribute","attributes","attr","m1","Keys","ret","MODIFIER_KEYS","KEY_MODS","FUNCTION_KEYS","PRINTABLE_KEYS","enter","esc","del","mods","pow","keyCodeToString","keyCode","keyString","activeListenerOptions","pressedKeys","getListenerOptions","createComment","passive","detectListenerOptionsSupport","EventListener","elem","destroyer","$toDestroy","stopEvent","getButton","ctrlKey","altKey","shiftKey","button","capture","eventHandler","releaseCaptureHandler","onMouseUp","addMouseWheelListener","deltaX","deltaY","deltaMode","DOM_DELTA_PIXEL","wheelX","wheelY","DOM_DELTA_LINE","DOM_DELTA_PAGE","addMultiMouseDownListener","elements","timeouts","callbackName","startX","startY","clicks","eventNames","onMousedown","detail","isNewClick","clientX","clientY","_clicks","getModifierHash","metaKey","normalizeCommandKeys","hashId","getModifierState","altGr","location","keyLocation","timeStamp","resetPressedKeys","getModifierString","addCommandKeyListener","isOldGecko","lastKeyDownKeyCode","lastDefaultPrevented","postMessage","postMessageId","nextTick","win","messageName","listener","$idleBlocked","onIdle","handler","$idleBlockId","blockIdle","nextFrame","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","msRequestAnimationFrame","oRequestAnimationFrame","startColumn","endColumn","compare","compareRange","cmp","comparePoint","containsRange","intersects","isEnd","isStart","setStart","setEnd","inside","insideStart","insideEnd","isMultiLine","compareStart","compareEnd","compareInside","clipRows","lastRow","extend","collapseRows","toScreenRange","screenPosStart","documentToScreenPosition","screenPosEnd","moveBy","comparePoints","$cancelT","lineMode","pasteCancelled","now","BROKEN_SETDATA","USE_IE_MIME_TYPE","HAS_FOCUS_ARGS","MAX_LINE_LENGTH","KEYS","MODS","valueResetRegex","TextInput","host","copied","pasted","inComposition","sendingText","tempStyle","commandMode","ignoreFocusEvents","lastValue","lastSelectionStart","lastSelectionEnd","lastRestoreEnd","hasFocus","resetSelection","$focusScroll","preventScroll","isTransformed","ancestors","parentElement","removeAttribute","blur","curOp","commandName","isUserAction","docChanged","selectionChanged","onCompositionEnd","newValue","selectionEnd","setSelectionRange","afterContextMenu","selectionStart","getRange","prevLine","nextLine","inputHandler","setInputHandler","getInputHandler","sendText","fromInput","extendLeft","extendRight","inserted","restoreStart","restoreEnd","shouldReset","onTextInput","onCompositionUpdate","inputType","handleClipboardData","forceIEMime","clipboardData","mime","doCopy","isCut","getCopyText","onCut","select","onCommandKey","isAllSelected","selectAll","$readOnly","cancelComposition","useTextareaForIME","markerRange","compositionStartOffset","closeTimeout","syncComposition","onContextMenuClose","$isMousePressed","$moveTextAreaToCursor","onCompositionStart","msGetInputContext","getInputContext","setCommandMode","setReadOnly","setCopyWithEmptySelection","onContextMenu","domEvent","moveToMouse","bringToFront","characterWidth","borderTopWidth","borderLeftWidth","maxTop","clientHeight","move","typingResetTimeout","typing","detectArrowKeys","isMousePressed","modifier","up","home","down","findKeyCommand","addIosSelectionHandler","$setUserAgentForTests","_isMobile","_isIOS","DefaultHandlers","mouseHandler","$clickSelection","onMouseDown","onDoubleClick","onTripleClick","onQuadClick","onMouseWheel","selectByLines","extendSelectionBy","selectByWords","calcRangeOrientation","ev","inSelection","mousedownEvent","time","inMultiSelectMode","captureMouse","startSelect","waitForClickSelection","screenToTextCoordinates","getShiftKey","selectToPosition","setCapture","orientedRange","setSelectionAnchor","unitName","cmpStart","cmpEnd","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","unsetStyle","releaseCapture","focusWait","ax","ay","bx","by","sqrt","getBracketRange","getLineRange","getAccelKey","$lastScroll","vx","vy","allowed","prevScroll","dt","direction","canScroll","isScrollableBy","speed","scrollBy","CLASSNAME","Tooltip","$element","$parentNode","setText","setHtml","setPosition","setClassName","getHeight","getWidth","GutterTooltip","windowWidth","windowHeight","GutterHandler","tooltipTimeout","mouseEvent","tooltipAnnotation","gutter","$gutterLayer","tooltip","hideTooltip","moveTooltip","getRegion","selectTo","srcElement","$tooltipFollowsMouse","annotation","$annotations","screenRow","pixelToScreenCoordinates","documentToScreenRow","annotationClassName","showTooltip","$gutter","MouseEvent","$inSelection","selectionRange","DragdropHandler","dragImage","dragSelectionMarker","timerId","dragCursor","dragOperation","isInternal","autoScrollStartTime","cursorMovedTime","cursorPointOnCaretMoved","mouseTarget","counter","onDragInterval","prevCursor","vMovement","hMovement","moveCursorToPosition","calcDistance","editorRect","offsets","nearestXOffset","nearestYOffset","scrollCursor","vScroll","hScroll","autoScroll","addDragMarker","toOrientedRange","getSelectionStyle","setBlinking","clearInterval","setInterval","onMouseMove","clearDragMarker","$resetCursorStyle","onDragStart","cancelDrag","draggable","dataTransfer","effectAllowed","getReadOnly","setDragImage","clearData","onDragEnd","dropEffect","setCursorStyle","onDragEnter","canAccept","getDropEffect","onDragOver","onMouseMoveTimer","onDragLeave","onDrop","moveText","dropData","insert","types","copyAllowed","copyModifierState","dragWait","getDragDelay","startDrag","dragWaitEnd","dragReadyEnd","cursorStyle","onMouseDrag","dragDrop","$dragEnabled","eventTarget","unselectable","addTouchListeners","touchStartT","lastT","longTouchTimer","animationTimer","pressed","contextMenu","animationSteps","clickCount","vX","vY","createContextMenu","handleClick","hasUndo","getUndoManager","replaceChild","class","updateMenu","readText","then","writeText","ontouchstart","ontouchend","showContextMenu","pagePos","textToScreenCoordinates","leftOffset","pageX","pageY","hideContextMenu","handleLongTap","selectWord","touches","h","w","touchObj","setRange","switchToSelectionMode","cursorPos","anchorPos","offsetLeft","weightedDistance","diff1","diff2","oldScrollTop","getScrollTop","DefaultGutterHandler","MouseHandler","focusEditor","getMouseEventTarget","onMouseEvent","scrollBarV","scrollBarH","Boolean","gutterEl","$dragDelay","character","mousemove","$scrollSpeed","mouseMoveHandler","which","releaseMouse","$mouseMoved","onCaptureEnd","onOperationEnd","onCaptureInterval","$onCaptureMouseMove","scrollSpeed","dragDelay","dragEnabled","focusTimeout","tooltipFollowsMouse","FoldHandler","fold","getFoldAt","removeFold","expandFold","getUseWrapMode","foldWidgets","onFoldWidgetClick","getParentFoldRangeData","firstRange","addFold","keyUtil","KeyBinding","$editor","$data","$handlers","kb","$defaultHandler","handleKeyboard","getKeyboardHandler","getStatusText","$callKeyboardHandlers","toExecute","success","passEvent","hiLevel","lastArabic","hasUBAT_B","hasUBAT_S","impTab_LTR","impTab_RTL","ET","BN","UnicodeTBL00","UnicodeTBL20","_invertLevel","lev","levels","_array","lo","hi","tmp","_getCharClass","ix","wType","nType","cType","rtlCandidate","_getCharacterType","uc","L","R","EN","ON_R","AN","R_H","B","RLE","DOT","doBidiReorder","textCharTypes","isRtl","logicalFromVisual","bidiLevels","charTypes","impTab","prevState","newClass","newLevel","newState","condPos","_computeLevels","hasBidiCharacters","getVisualFromLogicalIdx","logIdx","rowMap","bidiUtil","bidiRE","BidiHandler","bidiMap","currentRow","charWidths","EOL","showInvisibles","isRtlDir","$isRtl","wrapIndent","EOF","contentWidth","fontMetrics","rtlLineOffset","wrapOffset","isMoveLeftOperation","seenBidi","isBidiRow","docRow","splitIndex","updateRowLine","updateBidiMap","getDocumentRow","rowCache","$screenRowCache","$getRowCacheIndex","$docRowCache","getSplitIndex","currentIndex","prevIndex","endOfLine","$useWrapMode","$wrapData","indent","isFullWidth","getScreenTabSize","$main","markAsDirty","updateCharacterWidths","$characterSize","bidiCharWidth","$measureCharWidth","setShowInvisibles","setEolChar","eolChar","setContentWidth","isRtlLine","setRtlDirection","getSelectionAnchor","$bidiHandler","getPosLeft","col","leftBoundary","logicalIdx","getOverwrite","visualIdx","getSelections","level","selections","selColMin","selColMax","isSelected","isSelectedPrev","visIdx","offsetToCol","posX","charWidth","Selection","getDocument","$silent","$cursorChanged","$isEmpty","$keepDesiredColumnOnChange","$desiredColumn","$anchorChanged","getCursor","getPosition","getAnchor","getSelectionLead","isBackwards","$setSelection","anchorRow","anchorColumn","cursorRow","cursorColumn","wasEmpty","wasMultiselect","$moveSelection","mover","moveTo","selectUp","moveCursorUp","selectDown","moveCursorDown","selectRight","moveCursorRight","selectLeft","moveCursorLeft","selectLineStart","moveCursorLineStart","selectLineEnd","moveCursorLineEnd","selectFileEnd","moveCursorFileEnd","selectFileStart","moveCursorFileStart","selectWordRight","moveCursorWordRight","selectWordLeft","moveCursorWordLeft","selectAWord","getAWordRange","excludeLastChar","rowEnd","rowStart","foldLine","getFoldLine","selectLine","moveCursorBy","wouldMoveIntoSoftTab","isTabStop","getNavigateWithinSoftTabs","firstColumnPosition","screenToDocumentPosition","leadingSpace","getDisplayLine","$useEmacsStyleLineStart","getDocumentLastRowColumnPosition","textEnd","search","moveCursorLongWordRight","rightOfCursor","nonTokenRe","tokenRe","moveCursorLongWordLeft","getFoldStringAt","leftOfCursor","$shortWordEndIndex","whitespaceRe","moveCursorShortWordRight","moveCursorShortWordLeft","$selectLongWords","rows","offsetX","screenPos","lineWidgets","widget","rowsAbove","rowCount","docPos","keepDesiredColumn","moveCursorToScreen","desiredColumn","r","getRangeOfMovements","rangeCount","r1","MAX_TOKEN_COUNT","rules","states","regExps","matchMappings","ruleRegExps","matchTotal","mapping","defaultToken","splitterRurles","rule","caseInsensitive","unicode","adjustedregex","matchcount","groupCount","tokenArray","$arrayTokens","$applyToken","digit","removeCapturingGroups","createSplitterRegexp","$setMaxTokenCount","inChClass","lastCapture","parenOpen","parenClose","square","currentState","matchAttempts","skipped","consumeLineEnd","TextHighlightRules","$rules","addRules","nextState","getRules","embedRules","HighlightRules","escapeRules","append","$embeds","getEmbeds","pushState","popState","normalizeRules","processState","processed","toInsert","stateName","includeName","noEscape","keywordMap","createKeywordMapper","ignoreCase","splitChar","keywords","$keywordList","getKeywords","$keywords","Behaviour","$behaviours","addBehaviours","behaviours","inherit","getBehaviours","TokenIterator","initialRow","initialColumn","$session","$row","$rowTokens","getTokens","$tokenIndex","stepBackward","stepForward","getCurrentToken","getCurrentTokenRow","getCurrentTokenColumn","rowTokens","tokenIndex","getCurrentTokenPosition","getCurrentTokenRange","SAFE_INSERT_IN_TOKENS","SAFE_INSERT_BEFORE_TOKENS","contextCache","defaultQuotes","initContext","autoInsertedBrackets","autoInsertedRow","autoInsertedLineEnd","maybeInsertedBrackets","maybeInsertedRow","maybeInsertedLineStart","maybeInsertedLineEnd","getWrapped","closing","rowDiff","CstyleBehaviour","getWrapBehavioursEnabled","isSaneInsertion","braces","recordAutoInsert","recordMaybeInsert","$findOpeningBracket","isAutoInsertedClosing","popAutoInsertedClosing","isMaybeInsertedClosing","clearMaybeInsertedClosing","openBracePos","findMatchingBracket","next_indent","$getIndent","quotes","$quotes","leftChar","rightChar","rightToken","pair","stringBefore","stringAfter","wordRe","isWordBefore","isWordAfter","charBefore","iterator","$matchTokenType","iterator2","bracket","wordChars","code","Mode","$defaultBehaviour","$highlightRules","$highlightRuleConfig","toggleCommentLines","ignoreBlankLines","shouldRemove","minIndent","insertAtTabStop","regexpStart","uncomment","shouldInsertSpace","commentWithSpace","comment","insertInLine","testRemove","spaces","lineCommentEnd","regexpEnd","iter","fun","minEmptyLength","toggleBlockComment","colDiff","initialRange","startRange","endRange","getNextLineIndent","tab","checkOutdent","input","autoOutdent","createWorker","createModeDelegates","delegations","functionName","$delegator","language","transformAction","$behaviour","completionKeywords","ruleItr","aLength","$createKeywordList","applyDelta","docLines","doNotValidate","Anchor","$pointsInOrder","point1","point2","equalPointsInOrder","bColIsAfter","$clipPositionToDocument","moveIfEqual","deltaIsInsert","deltaRowShift","deltaColShift","deltaStart","deltaEnd","$getTransformedPoint","noClip","Document","textOrLines","$lines","insertMergedLines","getAllLines","getNewLineCharacter","$split","$detectNewLine","$autoNewLine","$newLineMode","setNewLineMode","newLineMode","getNewLineMode","isNewLine","getLines","getLinesForRange","insertLines","insertFullLines","removeLines","removeFullLines","insertNewLine","clippedPos","clonePos","$clipPosition","deleteFirstNewLine","deleteLastNewLine","deletedLines","removeNewLine","applyDeltas","deltas","revertDeltas","revertDelta","isInsert","$splitAndapplyLargeDelta","$safeApplyDelta","docLength","MAX","from","to","indexToPosition","newlineLength","positionToIndex","BackgroundTokenizer","tokenizer","running","currentLine","$worker","workerStart","processedLines","fireUpdateEvent","setTokenizer","setDocument","first","scheduleStart","cleanup","SearchHighlight","setRegexp","MAX_RANGES","update","markerLayer","renderedMarkerRanges","rangeToAddMarkerTo","rangeAsString","drawSingleLineMarker","FoldLine","foldData","folds","setFoldLine","shiftRow","sameRow","containsRow","walk","lastEnd","isNewRow","getNextFoldTo","kind","addRemoveChars","log","foldBefore","newFoldLine","foldLineNext","idxToPosition","lastFoldEndColumn","excludeEdges","removed","substractPoint","containsPoint","rangeAtPoint","clipped","removeAll","lineDif","Fold","subFolds","consumePoint","restorePoint","subFold","collapseChildren","addSubFold","afterStart","firstConsumed","consumedFolds","restoreRange","Folding","side","getFoldsInRange","foldLines","$foldData","foundFolds","getFoldsInRangeList","getAllFolds","lastFold","startFoldLine","getNextFoldLine","getFoldedRowCount","$addFoldLine","added","$clipRangeToDocument","startFold","endFold","removeFolds","$updateWrapData","$updateRowLengthCache","$modified","addFolds","$updating","cloneFolds","foldAll","expandFolds","unfold","expandInner","outermostFolds","isRowFolded","startFoldRow","getRowFoldEnd","getRowFoldStart","getFoldDisplayLine","textLine","lastColumn","$cloneFoldData","fd","toggleFold","tryToUnfold","bracketPos","getCommentFoldRange","depth","getFoldWidget","getFoldWidgetRange","foldToLevel","foldAllComments","$foldStyles","$foldStyle","setFoldStyle","$foldMode","$setFolding","foldMode","$updateFoldWidgets","$tokenizerUpdateFoldWidgets","updateFoldWidgets","tokenizerUpdateFoldWidgets","ignoreCurrent","fw","children","siblings","$toggleFoldWidget","toggleFoldWidget","toggleParent","BracketMatch","chr","charBeforeCursor","$findClosingBracket","getMatchingBracketRanges","$brackets","typeRe","openBracket","valueIndex","closingBracket","valueLength","TextMode","EditSession","$breakpoints","$decorations","$frontMarkers","$backMarkers","$markerId","$undoSelect","$uid","onChangeFold","destroyed","resetCaches","$resetRowCache","cacheArray","low","mid","$rowLengthCache","removedFolds","$updateInternalDataOnChange","$fromUndo","$undoManager","mergeUndoDeltas","$informUndoManager","reset","undoManager","addSession","$syncInformUndoManager","markUndoGroup","$defaultUndoManager","undo","redo","hasRedo","addSelection","startNewGroup","setUseSoftTabs","$useSoftTabs","$indentWithTabs","setTabSize","$tabSize","setNavigateWithinSoftTabs","navigateWithinSoftTabs","$navigateWithinSoftTabs","$overwrite","setOverwrite","overwrite","toggleOverwrite","addGutterDecoration","removeGutterDecoration","getBreakpoints","setBreakpoints","clearBreakpoints","setBreakpoint","clearBreakpoint","marker","addDynamicMarker","highlightLines","clearAnnotations","inToken","wordRange","setUseWorker","useWorker","getUseWorker","$useWorker","onReloadTokenizer","$modeId","$onChangeMode","$isPlaceholder","oldMode","$stopWorker","$startWorker","attachToSession","wrapMethod","$wrapMethod","foldingRules","terminate","getMode","$scrollTop","setScrollTop","$scrollLeft","setScrollLeft","getScrollLeft","getScreenWidth","getLineWidgetMaxWidth","lineWidgetsWidth","lineWidgetWidth","force","$wrapLimit","longestScreenLine","foldIndex","foldStart","$getStringScreenWidth","undoChanges","dontSelect","selectionBefore","$getUndoSelection","redoChanges","selectionAfter","setUndoSelect","enable","isUndo","fromRange","toPosition","toRange","collDiff","oldStart","newStart","indentRows","outdentRows","rowRange","deleteRange","$moveLines","$clipRowToDocument","moveLinesUp","moveLinesDown","duplicateLines","$clipColumnToRow","$wrapLimitRange","useWrapMode","setWrapLimitRange","adjustWrapLimit","desiredLimit","$printMargin","limits","wrapLimit","$constrainWrapLimit","getWrapLimit","setWrapLimit","limit","getWrapLimitRange","foldLineBefore","wrapData","walkTokens","$getDisplayTokens","PLACEHOLDER_START","PLACEHOLDER_BODY","$computeWrapSplits","displayLength","lastSplit","lastDocSplit","isCode","$wrapAsCode","indentedSoftWrap","$indentedSoftWrap","maxIndent","addSplit","getWrapIndent","minSplit","maxScreenColumn","screenColumn","getRowLength","getRowLineCount","getRowWrapIndent","getScreenLastRowColumn","documentToScreenColumn","getDocumentLastRowColumn","docColumn","getRowSplitData","screenToDocumentRow","screenToDocumentColumn","rowLength","doCache","maxRow","foldStartRow","wrapRow","screenRowOffset","getScreenLength","screenRows","$getWidgetScreenLength","$setFontMetrics","fm","$enableVarChar","getCharacterWidth","wrap","$wrap","firstLineNumber","useSoftTabs","foldStyle","Search","$matchIterator","sr","sc","er","ec","skipCurrent","findAll","$assembleRegExp","$isMultiLine","prevRange","replacement","preserveCase","$disableFakeMultiline","wholeWord","wordBoundary","addWordBoundary","caseSensitive","$assembleMultilineRegExp","backwards","forEachInLine","commandKeyBinding","addCommands","$singleCommand","MultiHashHandler","isDefault","_buildKeyHash","keepCommand","ckb","keyId","cmdGroup","keyPart","chain","parseKeys","_addCommandToBinding","removeCommands","keyList","$keyChain","CommandManager","byName","$checkCommandState","isAvailable","returnValue","toggleRecording","$inReplay","recording","macro","$addCommandToMacro","oldMacro","replay","trimMacro","mac","description","showSettingsMenu","showErrorMarker","scrollIntoView","centerSelection","gotoLine","prompt","$type","multiSelectAction","findNext","findPrevious","aceCommandGroup","navigateFileStart","navigateUp","times","navigateDown","navigateWordLeft","navigateLineStart","navigateLeft","navigateWordRight","navigateLineEnd","navigateRight","selectPageDown","scrollPageDown","selectPageUp","scrollPageUp","jumpToMatching","$copyWithEmptySelection","$handlePaste","duplicateSelection","sortLines","modifyNumber","copyLinesUp","copyLinesDown","removeToLineStart","removeToLineEnd","removeWordLeft","removeWordRight","blockOutdent","blockIndent","splitLine","transposeLetters","transposeSelections","autoIndent","firstLineEndCol","selectedCount","insertLine","curLine","newRanges","exitMultiSelectMode","defaultCommands","getContainerElement","getTextAreaContainer","textarea","$search","$historyTracker","$initOperationListeners","_$emitInputEvent","setSession","$opResetTimer","$lastSel","prevOp","commandEvent","previousCommand","scrollSelectionIntoView","animateScrolling","$mergeableCommands","$mergeUndoDeltas","mergeableCommands","shouldMerge","mergeNextCommand","sequenceStartTime","$keybindingId","oldSession","$onDocumentChange","$onTokenizerUpdate","$onChangeTabSize","$onChangeWrapLimit","$onChangeWrapMode","$onChangeFold","$onChangeFrontMarker","$onChangeBackMarker","$onChangeBreakpoint","$onChangeAnnotation","$onCursorChange","$onScrollTopChange","$onScrollLeftChange","$onSelectionChange","onDocumentChange","onTokenizerUpdate","onChangeTabSize","onChangeWrapLimit","onChangeWrapMode","onChangeFrontMarker","onChangeBackMarker","onChangeBreakpoint","onChangeAnnotation","onScrollTopChange","onScrollLeftChange","updateFull","oldEditor","onResize","$highlightBrackets","$highlightPending","$bracketHighlight","markerIds","getMatching","markerType","getHighlightIndentGuides","$highlightIndentGuide","$highlightTags","$tagHighlight","currentTag","prevToken","stepCount","tmpToken","sbm","showCursor","visualizeFocus","hideCursor","visualizeBlur","$cursorChange","updateCursor","$updateHighlightActiveLine","updateLines","scrollToY","scrollToX","$highlightActiveLine","$selectionStyle","$selectionColorConflict","$minLines","$highlightLineMarker","$selectionMarker","$highlightSelectedWord","$getSelectionHighLightRegexp","wordWithBoundary","updateFrontMarkers","updateBackMarkers","updateBreakpoints","updateText","getSelectedText","nl","copyLine","isFullLine","getBehavioursEnabled","lineState","shouldOutdent","$enableAutoIndent","lineIndent","selectedRange","currIndent","prevLineState","composition","applyComposition","setScrollSpeed","getScrollSpeed","setDragDelay","setSelectionStyle","shouldHighlight","getHighlightActiveLine","getHighlightGutterLine","setHighlightSelectedWord","getHighlightSelectedWord","setAnimatedScroll","shouldAnimate","getAnimatedScroll","getShowInvisibles","setDisplayIndentGuides","getDisplayIndentGuides","setHighlightIndentGuides","getShowPrintMargin","setPrintMarginColumn","getPrintMarginColumn","setBehavioursEnabled","enabled","setWrapBehavioursEnabled","setShowFoldWidgets","getShowFoldWidgets","setFadeFoldWidgets","fade","getFadeFoldWidgets","new_range","swap","originalRange","$getSelectedRows","getNumberAt","_numberRx","amount","charRange","isFinite","nr","fp","decimals","nnr","toFixed","replaceRange","toggleWord","$toggleWordPairs","currWordStart","wordParts","curLength","itLength","that","reg","wordPairs","negate","firstCondition","res","endPoint","moved","totalDiff","rangeIndex","subRows","compositionState","showComposition","setCompositionText","hideComposition","getFirstVisibleRow","getLastVisibleRow","isRowVisible","isRowFullyVisible","getFirstFullyVisibleRow","getLastFullyVisibleRow","$getVisibleRowCount","getScrollBottomRow","getScrollTopRow","$moveByPage","scrollToRow","scrollToLine","center","animate","alignCursor","getCursorPositionScreen","expand","matchType","bracketType","brackets","lineNumber","navigateTo","replaced","$tryReplace","replaceAll","getLastSearchOptions","newRange","revealRange","setAutoScrollEditorIntoView","shouldScroll","$scrollAnchor","scrollAnchor","onBeforeRender","onAfterRender","searchBox","$pixelPos","$cursorStyle","cursorLayer","setSmoothBlinking","isBlinking","selectionStyle","highlightSelectedWord","copyWithEmptySelection","behavioursEnabled","wrapBehavioursEnabled","enableAutoIndent","autoScrollEditorIntoView","showLineNumbers","setShowLineNumbers","$loop","CHANGE_GUTTER","$relativeLineNumbers","relativeNumberRenderer","relativeLineNumbers","$showLineNumbers","$updatePlaceholder","$composition","$placeholder","hScrollBarAlwaysVisible","vScrollBarAlwaysVisible","highlightGutterLine","animatedScroll","printMarginColumn","printMargin","fadeFoldWidgets","showFoldWidgets","displayIndentGuides","highlightIndentGuides","fontFamily","scrollPastEnd","fixedWidthGutter","hasCssTransforms","maxPixelHeight","lastLineNumber","$renderer","$maxRev","$undoDepth","allowMerge","$lastDelta","$keepRedoStack","$redoStack","lastDeltas","undoStackLength","$undoStack","$rev","rev","markIgnored","ignore","getRevision","getDeltas","getChangedRanges","getChangedLines","deltaSet","swapped","swapGroups","rearrangeUndoStack","$redoStackBaseRev","undoSelectionRange","$syncRev","redoStack","deltaSets","moveDeltasByOne","rebaseRedoStack","redoSelectionRange","nextDelta","mark","canUndo","canRedo","bookmark","isAtBookmark","isClean","markClean","$prettyPrint","stringifyDelta","stringifyRange","d1","d2","ds1","ds2","xform","c1","splitDelta","shiftPos","rowsBefore","otherLines","cloneDelta","xformed","Lines","canvasHeight","cells","cellCache","$offsetCoefficient","moveContainer","firstRowScreen","pageChanged","oldConfig","newConfig","computeLineTop","screenTop","screenPage","computeLineHeight","$cacheCell","cell","fragment","insertAdjacentElement","createCell","initElement","Gutter","parentEl","$showFoldWidgets","$updateAnnotations","onCreateCell","textNode","foldWidget","rowInfo","annoText","gutterOffset","oldLastRow","$updateCursorRow","$renderCell","$updateGutterWidth","gutterRenderer","$firstLineNumber","lastLineText","$fixedWidth","$computePadding","$highlightGutterLine","$cursorRow","updateLineHighlight","$cursorCell","scrollLines","$renderLines","breakpoints","decorations","foldHeight","getShowLineNumbers","paddingLeft","borderRightWidth","paddingRight","Marker","setPadding","setMarkers","elt","css","$getTop","drawFullLineMarker","drawScreenLineMarker","drawTextMarker","drawMultiLineMarker","childElementCount","lastChild","stringBuilder","extraStyle","curr","lineRange","range1","drawBidiSingleLineMarker","radiusClass","Text","$updateEolChar","EOF_CHAR","EOL_CHAR_LF","EOL_CHAR_CRLF","EOL_CHAR","TAB_CHAR","SPACE_CHAR","getLineHeight","$fontMetrics","measure","$pollSizeChanges","checkForSizeChanges","$pollSizeChangesTimer","$computeTabString","showSpaces","showTabs","showEOL","$highlightIndentGuides","$tabStrings","tabStr","span","$indentGuideRe","spaceClass","spaceContent","tabClass","tabContent","lineElements","lineElementsIdx","heightChanged","lineElement","$renderLine","$renderLinesFragment","lineEl","$useLineGroups","$textToken","$renderToken","valueFragment","simpleSpace","controlCharacter","cjkSpace","cjk","cloneNode","com","renderIndentGuide","cols","$highlightIndentGuideMarker","indentLevel","initialIndent","elementIndentLevel","currentIndent","$renderHighlightIndentGuide","$clearActiveIndentGuide","classList","$setIndentGuideActive","$createLineElement","$renderWrappedLine","splitChars","$renderOverflowMessage","$renderSimpleLine","overflowEl","$getFoldLineTokens","lastLineEl","invisibleEl","renderTokens","addTokens","Cursor","isVisible","blinkInterval","smoothBlinking","cursors","addCursor","$updateCursors","$updateOpacity","$startCssAnimation","animationDuration","$isAnimating","$stopCssAnimation","blinking","setBlinkInterval","removeCursor","intervalId","timeoutId","$isSmoothBlinking","blink","onScreen","isCursorInView","pixelPos","maxHeight","$selectionMarkers","cursorIndex","drawCursor","$setOverwrite","MAX_SCROLL_H","ScrollBar","classSuffix","setVisible","skipEvent","coeff","VScrollBar","scrollHeight","$scrollbarWidth","$minWidth","setHeight","setInnerHeight","setScrollHeight","HScrollBar","setWidth","setInnerWidth","setScrollWidth","ScrollBarV","ScrollBarH","RenderLoop","onRender","pending","$recursionLimit","_flush","change","CHAR_COUNT","USE_OBSERVER","ResizeObserver","FontMetrics","$setMeasureNodeStyles","$measureNode","$addObserver","isRoot","visibility","whiteSpace","font","$measureSizes","fontWeight","boldSize","charSizes","allowBoldFonts","$observer","observe","setPolling","disconnect","$getZoom","getZoom","zoom","$initTransformMeasureNodes","transformCoordinates","clientPos","elPos","mul","solve","l1","l2","det","m2","ut","u","f","GutterLayer","MarkerLayer","TextLayer","CursorLayer","editorCss","HIDE_TEXTAREA","onGutterResize","$markerBack","textLayer","canvas","$markerFront","$horizScroll","$vScroll","scrollBar","$scrollAnimation","updateCharacterSize","$size","scrollerHeight","scrollerWidth","$dirty","minHeight","v","$renderChanges","defaultView","CHANGE_FULL","CHANGE_CURSOR","CHANGE_MARKER","CHANGE_SCROLL","CHANGE_LINES","CHANGE_TEXT","CHANGE_SIZE","CHANGE_MARKER_BACK","CHANGE_MARKER_FRONT","CHANGE_H_SCROLL","$allowBoldFonts","$updatePrintMargin","onChangeNewLineMode","$changedLines","updateFontSize","$changes","$updateSizeAsync","resizing","scrollWidth","$updateCachedSize","$extraHeight","oldSize","$showGutter","$computeLayerConfig","availableWidth","$showPrintMargin","$printMarginColumn","$animatedScroll","getShowGutter","$printMarginEl","containerEl","posTop","posLeft","sm","setMargin","getHScrollBarAlwaysVisible","$hScrollBarAlwaysVisible","setHScrollBarAlwaysVisible","alwaysVisible","getVScrollBarAlwaysVisible","$vScrollBarAlwaysVisible","setVScrollBarAlwaysVisible","$updateScrollBarV","$scrollPastEnd","$updateScrollBarH","$frozen","freeze","unfreeze","st","$updateLines","$autosize","desiredHeight","$gutterWidth","hideScrollbars","longestLine","$getLongestLine","horizScroll","hScrollChanged","vScrollBefore","vScrollChanged","firstRowHeight","lineCount","charCount","$viewMargin","topMargin","bottomMargin","alignment","STEPS","$calcSteps","fromValue","toValue","x_min","steps","initialScroll","oldSteps","$timer","scrollTo","canvasPos","$hasCssTransforms","$blockCursor","$useTextareaForIME","removeExtraToken","newToken","$themeId","$theme","setMouseCursor","workerUrl","Worker","blob","Blob","blobBuilder","BlobBuilder","WebKitBlobBuilder","MozBlobBuilder","getBlob","$workerBlob","blobURL","URL","webkitURL","createObjectURL","WorkerClient","worker","$createWorkerFromOldConfig","$sendDeltaQueue","onMessage","callbackId","callbacks","onmessage","topLevelNamespaces","classname","importScripts","nameToUrl","toUrl","normalizePath","$normalizePath","tlns","deltaQueue","$doc","cmd","emit","attachToDocument","q","UIWorkerClient","main","emitSync","sender","messageBuffer","workerClient","processNext","setEmitSync","Main","PlaceHolder","others","mainClass","othersClass","$onUpdate","onUpdate","$others","undoStack","$undostack","$undoStackDepth","setup","showOtherMarkers","othersActive","hideOtherMarkers","updateAnchors","lengthDiff","inMainRange","distanceFromStart","newPos","otherPos","updateMarkers","updateMarker","undosRequired","isSamePoint","alt","ctrl","accel","selectionMode","isMultiSelect","mouseX","mouseY","screenAnchor","screenCursor","$enableJumpToDef","$blockSelectEnabled","addSelectionMarker","oldRange","removeSelectionMarker","tmpSel","rectSel","blockSelect","newCursor","removeSelectionMarkers","rectangularRangeBlock","updateSelectionMarkers","onSelectionInterval","selectMoreLines","selectMore","joinSelections","splitIntoLines","alignCursors","multiSelectCommands","getSelectionMarkers","$blockChangeEvents","$onAddRange","$onRemoveRange","mergeOverlappingRanges","lastRange","$initRangeList","toggleBlockSelection","includeEmptyLines","xBackwards","startOffsetX","endOffsetX","docEnd","yBackwards","MultiSelect","$multiselectOnSessionChange","$onMultiSelect","$onSingleSelect","onSessionChange","$checkMultiselectChange","altCursor","altDown","addAltCursorListeners","selectionMarkerCount","markerList","$onMultiSelectExec","inVirtualMode","$byLines","cmdResult","anim","additive","skip","screenLead","stopAtFirst","sameRowRanges","maxCol","minSpace","spaceOffsets","spaceOffset","fr","lr","guessRange","$reAlignText","forceLeft","startW","textW","endW","isLeftAligned","isRightAligned","alignLeft","enableMultiselect","enableBlockSelect","FoldMode","foldingStartMarker","foldingStopMarker","indentationBlock","startLevel","openingBracketBlock","closingBracketBlock","LineWidgets","widgetManager","updateOnChange","renderWidgets","measureWidgets","_changedWidgets","$onChangeEditor","updateOnFold","_inDocument","removeLineWidget","$updateRows","noWidgets","$oldWidget","$registerLineWidget","addLineWidget","coverGutter","pixelHeight","$fold","onWidgetChanged","w1","getWidgetsAtRow","changedWidgets","fixedWidth","coverLine","fullWidth","oldWidget","gutterAnno","comparator","binarySearch","matched","findAnnotations","arrow","onmousedown","tagName","oldNode","createEditSession","Split","$container","$splits","$editorCSS","$editors","$orientation","$cEditor","$createEditor","$fontSize","getSplits","getCurrentEditor","keybinding","$cloneSession","isUsed","getOrientation","editorWidth","editorHeight","_createForOfIteratorHelper","allowArrayLike","it","F","done","_e","normalCompletion","didErr","step","_e2","_superPropBase","getPrototypeOf","_get","Reflect","receiver","desc","getOwnPropertyDescriptor","valueof","mapper","epsilon","translateX","translateY","scale","bandwidth","entering","__axis","axis","orient","tickArguments","tickValues","tickFormat","tickSizeInner","tickSizeOuter","tickPadding","ticks","domain","format","identity","spacing","range0","tick","order","tickExit","exit","tickEnter","transition","each","tickSize","axisBottom","axisLeft","dispatch","Dispatch","parseTypenames","typenames","typename","T","none","selector","querySelector","childMatcher","childFirst","firstElementChild","EnterNode","datum","namespaceURI","_next","_parent","bindIndex","group","groupLength","dataLength","keyValue","nodeByKeyValue","keyValues","delete","arraylike","ascending","NaN","child","xhtml","svg","xlink","xml","xmlns","namespaces","space","attrRemove","attrRemoveNS","fullname","removeAttributeNS","attrConstant","attrConstantNS","setAttributeNS","attrFunction","attrFunctionNS","styleRemove","removeProperty","styleConstant","priority","setProperty","styleFunction","styleValue","getPropertyValue","propertyRemove","propertyConstant","propertyFunction","classArray","ClassList","_node","_names","classedAdd","names","classedRemove","classedTrue","classedFalse","classedFunction","textRemove","textConstant","textFunction","htmlRemove","htmlConstant","htmlFunction","raise","nextSibling","previousSibling","creatorInherit","creatorFixed","namespace","constantNull","selection_cloneShallow","selection_cloneDeep","onRemove","__on","onAdd","contextListener","dispatchEvent","CustomEvent","createEvent","initEvent","bubbles","cancelable","dispatchConstant","dispatchFunction","groups","_groups","_parents","subgroups","subnode","subgroup","arrayAll","selectorAll","selectChild","childFind","selectChildren","childrenFilter","matcher","constant","enterGroup","updateGroup","exitGroup","i0","_enter","_exit","sparse","onenter","onupdate","onexit","groups0","groups1","m0","merges","group0","group1","compareDocumentPosition","compareNode","sortgroups","sortgroup","nodes","getAttributeNS","classed","creator","deep","selection_iterator","nonpassivecapture","stopImmediatePropagation","view","noevent","__noselect","MozUserSelect","yesdrag","noclick","factory","definition","Color","darker","brighter","reI","reN","reP","reHex","reRgbInteger","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","color_formatHex","rgb","formatHex","color_formatRgb","formatRgb","color","rgbn","Rgb","rgba","hsla","g","rgbConvert","rgb_formatHex","hex","rgb_formatRgb","clampa","clampi","Hsl","hslConvert","clamph","clampt","hsl2rgb","basis","t1","v0","v3","t2","t3","channels","displayable","formatHex8","formatHsl","clamp","linear","gamma","nogamma","exponential","rgbGamma","colorRgb","rgbSpline","spline","colors","genericArray","nb","na","setTime","reA","reB","am","bm","bs","bi","zero","isView","numberArray","sourceEvent","currentTarget","ownerSVGElement","createSVGPoint","matrixTransform","getScreenCTM","inverse","clientLeft","clientTop","taskHead","taskTail","frame","interval","clockLast","clockNow","clockSkew","clock","performance","setFrame","clearNow","Timer","_call","_time","restart","wake","timerFlush","t0","sleep","nap","poke","elapsed","emptyOn","emptyTween","timing","schedules","__transition","tween","duration","ease","svgNode","degrees","PI","rotate","skewX","scaleX","scaleY","atan2","atan","interpolateTransform","pxComma","pxParen","degParen","xa","ya","xb","yb","interpolateTransformCss","DOMMatrix","WebKitCSSMatrix","isIdentity","decompose","interpolateTransformSvg","baseVal","consolidate","matrix","tweenRemove","tween0","tween1","tweenFunction","tweenValue","interpolateNumber","interpolateRgb","interpolateString","interpolate","value1","string00","interpolate0","string1","string0","string10","attrInterpolate","attrInterpolateNS","attrTweenNS","_value","attrTween","delayFunction","delayConstant","durationFunction","durationConstant","easeConstant","onFunction","on0","on1","sit","every","styleInterpolate","styleTween","textInterpolate","textTween","Transition","_name","newId","selection_prototype","id0","id1","styleNull","listener0","styleMaybeRemove","removeFunction","easeVarying","reject","interrupt","defaultTiming","BrushEvent","defineProperties","nopropagation","MODE_DRAG","MODE_SPACE","MODE_HANDLE","MODE_CENTER","number1","number2","X","handles","xy","Y","overlay","nw","ne","se","sw","flipX","flipY","signsX","signsY","defaultFilter","defaultExtent","hasAttribute","viewBox","defaultTouchable","maxTouchPoints","__brush","extent","brushX","brush","dim","touchending","touchable","handleSize","initialize","handle","redraw","started","touchmoved","touchended","emitter","clean","Emitter","w0","n0","n1","e0","e1","s0","s1","moving","lockX","lockY","signX","signY","W","N","E","S","dx","dy","shifting","points","identifier","point0","beforestart","pts","ended","keydowned","keyupped","dragDisable","changedTouches","cur","dragEnable","selection0","selection1","starting","keyModifiers","pi","tau","tauEpsilon","Path","_x0","_y0","_x1","_y1","closePath","lineTo","quadraticCurveTo","bezierCurveTo","arcTo","x0","y0","x21","y21","x01","y01","l01_2","x20","y20","l21_2","l20_2","l21","l01","acos","t01","t21","arc","a0","a1","ccw","cos","sin","cw","da","initRange","_construct","Parent","Class","isNativeReflectConstruct","construct","instance","setPrototypeOf","_wrapNativeSuper","_cache","Wrapper","InternMap","keyof","_intern","_key","intern_get","intern_set","intern_delete","implicit","ordinal","unknown","band","ordinalRange","r0","paddingInner","paddingOuter","align","rescale","sequence","rangeRound","e10","e5","e2","tickIncrement","power","LN10","descending","bisector","compare1","compare2","ascendingBisect","bisectRight","unit","normalize","bimap","d0","polymap","bisect","transformer","untransform","piecewise","interpolateValue","clamper","invert","interpolateRound","continuous","prefixExponent","formatSpecifier","specifier","FormatSpecifier","comma","precision","formatDecimalParts","toExponential","coefficient","exponent","toPrecision","formatRounded","locale","formatPrefix","prefixes","grouping","thousands","currencyPrefix","currency","currencySuffix","decimal","numerals","formatNumerals","percent","minus","nan","newFormat","formatTypes","formatType","maybeSuffix","valuePrefix","valueSuffix","valueNegative","out","formatTrim","step0","step1","tickStep","precisionPrefix","precisionRound","precisionFixed","linearish","nice","prestep","maxIter","formatLocale","halfPi","asin","arcInnerRadius","innerRadius","arcOuterRadius","outerRadius","arcStartAngle","startAngle","arcEndAngle","endAngle","arcPadAngle","padAngle","intersect","x3","y3","x10","y10","x32","y32","cornerTangents","rc","ox","oy","x11","y11","x00","y00","D","cx0","cy0","cx1","cy1","dx0","dy0","dx1","dy1","cx","cy","cornerRadius","padRadius","a01","a11","a00","a10","da0","da1","ap","rp","rc0","rc1","p0","oc","kc","lc","centroid","Linear","_context","defined","curve","curveLinear","defined0","pointX","pointY","areaStart","_line","areaEnd","_point","cosh","exp","zoomRho","rho","rho2","rho4","ux0","uy0","ux1","uy1","b0","b1","coshr0","sinh","SQRT2","_1","_2","ZoomEvent","Transform","applyX","applyY","invertX","invertY","rescaleX","rescaleY","SVGElement","defaultTransform","__zoom","defaultWheelDelta","defaultConstrain","translateExtent","touchstarting","touchfirst","constrain","wheelDelta","scaleExtent","interpolateZoom","touchDelay","clickDistance2","tapDistance","wheeled","mousedowned","dblclicked","touchstarted","gesture","__zooming","Gesture","taps","wheel","mouse","wheelidled","mousemoved","mouseupped","touch0","touch1","l0","dp","dl","hypot","collection","scaleBy","scaleTo","k0","translateBy","translateTo","clickDistance"],"sourceRoot":""}